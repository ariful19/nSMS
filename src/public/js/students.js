import{_ as q,c as i,a as e,b as Q,t as r,w as c,v as I,d as M,F as h,r as L,e as U,f as V,g as y,h as S,i as T,o as d,j as F,k as R,n as B,l as z,T as J,m as O,p as X}from"./chunks/sq-avatar-badge-CzDjdsqk.js";const Y={__name:"StudentListApp",props:{students:{type:Array,default:()=>[]},search:{type:String,default:""},lookups:{type:Object,default:()=>({statuses:[],gradeLevels:[]})},csrfToken:{type:String,default:""}},setup(f,{expose:t}){t();const s=f,n=y(s.search??""),u=y("all"),p=y("all"),l=y(!1),v=y(null),o=S(()=>{var a;return((a=s.lookups)==null?void 0:a.statuses)??[]}),N=S(()=>{var a;return((a=s.lookups)==null?void 0:a.gradeLevels)??[]}),D=S(()=>{var a;return new Set((((a=s.lookups)==null?void 0:a.statuses)??[]).filter(k=>k.isActive!==!1).map(k=>String(k.id)))});function _(a){return(a||"").toString().toLowerCase()}function E(a){var j;const k=_(n.value);return k?[`${a.person.firstName} ${a.person.lastName}`,a.studentNumber,(j=a.enrollmentStatus)==null?void 0:j.name].some(K=>_(K).includes(k)):!0}function b(a){return u.value==="all"?!0:String(a.enrollmentStatusId??"")===u.value}function C(a){return p.value==="all"?!0:String(a.gradeLevelId??"")===p.value}function x(a){if(!l.value)return!0;const k=String(a.enrollmentStatusId??"");return D.value.has(k)}const m=S(()=>s.students.filter(a=>E(a)&&b(a)&&C(a)&&x(a))),g=S(()=>m.value.length>0);function w(){n.value="",u.value="all",p.value="all",l.value=!1}function A(a){v.value=T(a)}function P(){v.value=null}function W(a){if(!a)return"—";const k=new Date(a);return Number.isNaN(k.getTime())?"—":k.toLocaleDateString()}function H(a){window.confirm("Delete this student?")&&a.target.submit()}const G={props:s,searchTerm:n,statusFilter:u,gradeFilter:p,showOnlyActive:l,selectedStudent:v,statusOptions:o,gradeOptions:N,activeStatusIds:D,normalize:_,matchesSearch:E,matchesStatus:b,matchesGrade:C,matchesActive:x,filteredStudents:m,hasResults:g,resetFilters:w,openSummary:A,closeSummary:P,formatDate:W,confirmDelete:H,computed:S,reactive:T,ref:y};return Object.defineProperty(G,"__isScriptSetup",{enumerable:!1,value:!0}),G}},Z={class:"card card--interactive"},$={class:"card__header"},ee={class:"card__subtitle"},te={class:"filters",method:"get",action:"/students",novalidate:""},ne={class:"filters__field"},le={class:"filters__field"},se=["value"],oe={class:"filters__field"},re=["value"],ae={class:"filters__checkbox"},ie={key:0,class:"table-responsive"},de={class:"table"},ue={"data-title":"Name"},me=["onClick"],fe={"data-title":"Status"},_e={"data-title":"Grade"},ce={"data-title":"Student #"},be={class:"table__actions"},pe=["href"],ve=["href"],Se=["action"],ge=["value"],ye={key:1,class:"table__empty"},Ne=["open"],ke=["name","subtitle"],he={class:"summary"},De={slot:"footer",class:"modal-footer"},Ie=["href"];function we(f,t,s,n,u,p){var l,v;return d(),i(h,null,[e("section",Z,[e("header",$,[e("div",null,[t[5]||(t[5]=e("h1",{class:"card__title"},"Students",-1)),e("p",ee,[e("strong",null,r(n.filteredStudents.length),1),Q(" "+r(n.filteredStudents.length===1?"record":"records")+" match your filters ",1)])]),t[6]||(t[6]=e("div",{class:"card__actions"},[e("a",{class:"btn",href:"/students/create"},"Add student"),e("a",{class:"btn btn--ghost",href:"/students"},"Clear search")],-1))]),e("form",te,[e("label",ne,[t[7]||(t[7]=e("span",null,"Search",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.searchTerm=o),type:"search",name:"search",placeholder:"Name or student number"},null,512),[[I,n.searchTerm]])]),e("label",le,[t[9]||(t[9]=e("span",null,"Status",-1)),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.statusFilter=o)},[t[8]||(t[8]=e("option",{value:"all"},"All statuses",-1)),(d(!0),i(h,null,L(n.statusOptions,o=>(d(),i("option",{key:o.id,value:String(o.id)},r(o.name),9,se))),128))],512),[[M,n.statusFilter]])]),e("label",oe,[t[11]||(t[11]=e("span",null,"Grade",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.gradeFilter=o)},[t[10]||(t[10]=e("option",{value:"all"},"All grades",-1)),(d(!0),i(h,null,L(n.gradeOptions,o=>(d(),i("option",{key:o.id,value:String(o.id)},r(o.name),9,re))),128))],512),[[M,n.gradeFilter]])]),e("label",ae,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=o=>n.showOnlyActive=o)},null,512),[[U,n.showOnlyActive]]),t[12]||(t[12]=e("span",null,"Show active enrollment only",-1))]),t[13]||(t[13]=e("button",{type:"submit",class:"btn btn--ghost filters__submit"}," Apply on server ",-1)),e("button",{type:"button",class:"btn btn--link filters__submit",onClick:n.resetFilters}," Reset filters ")]),n.hasResults?(d(),i("div",ie,[e("table",de,[t[15]||(t[15]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Grade"),e("th",{scope:"col"},"Student #"),e("th",{scope:"col"},"Actions")])],-1)),e("tbody",null,[(d(!0),i(h,null,L(n.filteredStudents,o=>{var N,D;return d(),i("tr",{key:o.id},[e("td",ue,[e("button",{type:"button",class:"table__link",onClick:_=>n.openSummary(o)},r(o.person.firstName)+" "+r(o.person.lastName),9,me)]),e("td",fe,r(((N=o.enrollmentStatus)==null?void 0:N.name)??"—"),1),e("td",_e,r(((D=o.gradeLevel)==null?void 0:D.name)??"—"),1),e("td",ce,r(o.studentNumber||"—"),1),e("td",be,[e("a",{href:`/students/${o.id}`,class:"btn btn--small btn--ghost"},"View",8,pe),e("a",{href:`/students/${o.id}/edit`,class:"btn btn--small"},"Edit",8,ve),e("form",{class:"form form--inline",action:`/students/${o.id}/delete`,method:"post",onSubmit:t[4]||(t[4]=F(_=>n.confirmDelete(_),["prevent"]))},[e("input",{type:"hidden",name:"_csrf",value:s.csrfToken},null,8,ge),t[14]||(t[14]=e("button",{type:"submit",class:"btn btn--small btn--danger"},"Delete",-1))],40,Se)])])}),128))])])])):(d(),i("p",ye," No students match your filters. Try adjusting them above. "))]),e("sq-modal",{open:!!n.selectedStudent,heading:"Student summary",onClose:n.closeSummary},[n.selectedStudent?(d(),i(h,{key:0},[e("sq-avatar-badge",{name:`${n.selectedStudent.person.firstName} ${n.selectedStudent.person.lastName}`,subtitle:((l=n.selectedStudent.enrollmentStatus)==null?void 0:l.name)||"Student"},null,8,ke),e("dl",he,[e("div",null,[t[16]||(t[16]=e("dt",null,"Grade",-1)),e("dd",null,r(((v=n.selectedStudent.gradeLevel)==null?void 0:v.name)??"—"),1)]),e("div",null,[t[17]||(t[17]=e("dt",null,"Student number",-1)),e("dd",null,r(n.selectedStudent.studentNumber||"—"),1)]),e("div",null,[t[18]||(t[18]=e("dt",null,"Admission date",-1)),e("dd",null,r(n.formatDate(n.selectedStudent.admissionDate)),1)]),e("div",null,[t[19]||(t[19]=e("dt",null,"Primary email",-1)),e("dd",null,r(n.selectedStudent.person.primaryEmail||"—"),1)]),e("div",null,[t[20]||(t[20]=e("dt",null,"Mobile phone",-1)),e("dd",null,r(n.selectedStudent.person.mobilePhone||"—"),1)])]),e("div",De,[e("a",{href:`/students/${n.selectedStudent.id}`,class:"btn btn--primary"},"Open profile",8,Ie),e("button",{type:"button",class:"btn",onClick:n.closeSummary},"Close")])],64)):V("",!0)],40,Ne)],64)}const Ee=q(Y,[["render",we],["__scopeId","data-v-6c4eb0a9"],["__file","/workspace/nSMS/src/client/students/components/StudentListApp.vue"]]),Ce={__name:"StudentFormApp",props:{lookups:{type:Object,default:()=>({genders:[],statuses:[],gradeLevels:[]})},values:{type:Object,default:()=>({})},errors:{type:Array,default:()=>[]},isEditMode:{type:Boolean,default:!1},studentId:{type:Number,default:null},csrfToken:{type:String,default:""},formAction:{type:String,default:"/students/create"}},setup(f,{expose:t}){t();const s=f,n=y(null),u=T({firstName:s.values.firstName||"",middleName:s.values.middleName||"",lastName:s.values.lastName||"",preferredName:s.values.preferredName||"",dateOfBirth:s.values.dateOfBirth||"",genderId:s.values.genderId?String(s.values.genderId):"",primaryEmail:s.values.primaryEmail||"",mobilePhone:s.values.mobilePhone||"",enrollmentStatusId:s.values.enrollmentStatusId?String(s.values.enrollmentStatusId):"",gradeLevelId:s.values.gradeLevelId?String(s.values.gradeLevelId):"",studentNumber:s.values.studentNumber||"",admissionDate:s.values.admissionDate||"",graduationDate:s.values.graduationDate||"",notes:s.values.notes||""}),p=y(!!(u.primaryEmail||u.mobilePhone)),l=y(!!(u.graduationDate||u.notes)),v=S(()=>s.errors||[]),o=T({firstName:!1,lastName:!1,enrollmentStatusId:!1}),N=T({firstName:"",lastName:"",enrollmentStatusId:""}),D=S(()=>s.isEditMode?"Save changes":"Create student");function _(m){let g="";return m==="firstName"&&!u.firstName.trim()&&(g="First name is required."),m==="lastName"&&!u.lastName.trim()&&(g="Last name is required."),m==="enrollmentStatusId"&&!u.enrollmentStatusId&&(g="Enrollment status is required."),N[m]=g,!g}function E(m){o[m]=!0,_(m)}O(()=>u.firstName,()=>{o.firstName&&_("firstName")}),O(()=>u.lastName,()=>{o.lastName&&_("lastName")}),O(()=>u.enrollmentStatusId,()=>{o.enrollmentStatusId&&_("enrollmentStatusId")}),O(p,m=>{m||(u.primaryEmail="",u.mobilePhone="")}),O(l,m=>{m||(u.graduationDate="",u.notes="")});function b(){var w,A;const m=Object.keys(N).find(P=>N[P]);if(!m)return;const g=(A=(w=n.value)==null?void 0:w.querySelector)==null?void 0:A.call(w,`[name="${m}"]`);g&&g.focus()}function C(){var A;o.firstName=!0,o.lastName=!0,o.enrollmentStatusId=!0;const m=_("firstName"),g=_("lastName"),w=_("enrollmentStatusId");if(!m||!g||!w){b();return}(A=n.value)==null||A.submit()}const x={props:s,formRef:n,form:u,showContactSection:p,showGraduationSection:l,serverErrors:v,touched:o,inlineErrors:N,submitLabel:D,validateField:_,markTouched:E,focusFirstError:b,handleSubmit:C,computed:S,reactive:T,ref:y,watch:O};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},Ae={class:"card card--form"},Ve={class:"card__header"},Le={class:"card__title"},Oe={key:0,class:"alert alert--danger",role:"alert"},Te=["action"],xe=["value"],Me={class:"form__fieldset"},Pe={class:"form__grid"},Be={key:0,class:"form__hint"},Ue={class:"form__field"},qe={key:0,class:"form__hint"},Fe={class:"form__field"},Ge={class:"form__field"},je=["value"],Re={class:"form__field"},ze=["value"],Je={class:"toggle"},We={key:0,class:"form__grid form__grid--secondary"},He={class:"form__field"},Ke={class:"form__field"},Qe={class:"form__fieldset"},Xe={class:"form__grid"},Ye=["value"],Ze={key:0,class:"form__hint"},$e={class:"form__field"},et=["value"],tt={class:"form__field"},nt={class:"form__field"},lt=["value"],st={class:"toggle"},ot={key:0,class:"form__grid form__grid--secondary"},rt={class:"form__field"},at=["value"],it={class:"form__field form__field--full"},dt={class:"form__actions"},ut={type:"submit",class:"btn btn--primary"};function mt(f,t,s,n,u,p){return d(),i("section",Ae,[e("header",Ve,[e("div",null,[e("h1",Le,r(s.isEditMode?"Edit student":"Add student"),1),t[19]||(t[19]=e("p",{class:"card__subtitle"}," Complete the required personal and enrollment information. ",-1))]),t[20]||(t[20]=e("a",{class:"btn btn--ghost",href:"/students"},"Back to list",-1))]),n.serverErrors.length?(d(),i("div",Oe,[t[21]||(t[21]=e("p",null,[e("strong",null,"We ran into a few issues:")],-1)),e("ul",null,[(d(!0),i(h,null,L(n.serverErrors,l=>(d(),i("li",{key:l},r(l),1))),128))])])):V("",!0),e("form",{ref:"formRef",method:"post",action:s.formAction,class:"form",onSubmit:F(n.handleSubmit,["prevent"])},[e("input",{type:"hidden",name:"_csrf",value:s.csrfToken},null,8,xe),e("fieldset",Me,[t[32]||(t[32]=e("legend",{class:"form__legend"},"Personal information",-1)),e("div",Pe,[e("label",{class:B(["form__field",{"form__field--error":n.inlineErrors.firstName}])},[t[22]||(t[22]=e("span",{class:"form__label"},"First name *",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.form.firstName=l),name:"firstName",type:"text",autocomplete:"given-name",onBlur:t[1]||(t[1]=l=>n.markTouched("firstName")),required:""},null,544),[[I,n.form.firstName,void 0,{trim:!0}]]),n.inlineErrors.firstName?(d(),i("span",Be,r(n.inlineErrors.firstName),1)):V("",!0)],2),e("label",Ue,[t[23]||(t[23]=e("span",{class:"form__label"},"Middle name",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>n.form.middleName=l),name:"middleName",type:"text",autocomplete:"additional-name"},null,512),[[I,n.form.middleName,void 0,{trim:!0}]])]),e("label",{class:B(["form__field",{"form__field--error":n.inlineErrors.lastName}])},[t[24]||(t[24]=e("span",{class:"form__label"},"Last name *",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>n.form.lastName=l),name:"lastName",type:"text",autocomplete:"family-name",onBlur:t[4]||(t[4]=l=>n.markTouched("lastName")),required:""},null,544),[[I,n.form.lastName,void 0,{trim:!0}]]),n.inlineErrors.lastName?(d(),i("span",qe,r(n.inlineErrors.lastName),1)):V("",!0)],2),e("label",Fe,[t[25]||(t[25]=e("span",{class:"form__label"},"Preferred name",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>n.form.preferredName=l),name:"preferredName",type:"text",autocomplete:"nickname"},null,512),[[I,n.form.preferredName,void 0,{trim:!0}]])]),e("label",Ge,[t[26]||(t[26]=e("span",{class:"form__label"},"Date of birth",-1)),e("sq-date-picker",{name:"dateOfBirth",value:n.form.dateOfBirth,label:"",onValueChange:t[6]||(t[6]=l=>n.form.dateOfBirth=l)},null,40,je)]),e("label",Re,[t[28]||(t[28]=e("span",{class:"form__label"},"Gender",-1)),c(e("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>n.form.genderId=l),name:"genderId"},[t[27]||(t[27]=e("option",{value:""},"Select gender",-1)),(d(!0),i(h,null,L(s.lookups.genders,l=>(d(),i("option",{key:l.id,value:String(l.id)},r(l.name),9,ze))),128))],512),[[M,n.form.genderId]])])]),e("div",Je,[e("label",null,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=l=>n.showContactSection=l)},null,512),[[U,n.showContactSection]]),t[29]||(t[29]=e("span",null,"Collect contact details",-1))])]),R(J,{name:"slide"},{default:z(()=>[n.showContactSection?(d(),i("div",We,[e("label",He,[t[30]||(t[30]=e("span",{class:"form__label"},"Primary email",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>n.form.primaryEmail=l),name:"primaryEmail",type:"email",autocomplete:"email"},null,512),[[I,n.form.primaryEmail,void 0,{trim:!0}]])]),e("label",Ke,[t[31]||(t[31]=e("span",{class:"form__label"},"Mobile phone",-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>n.form.mobilePhone=l),name:"mobilePhone",type:"tel",autocomplete:"tel"},null,512),[[I,n.form.mobilePhone,void 0,{trim:!0}]])])])):V("",!0)]),_:1})]),e("fieldset",Qe,[t[42]||(t[42]=e("legend",{class:"form__legend"},"Enrollment details",-1)),e("div",Xe,[e("label",{class:B(["form__field",{"form__field--error":n.inlineErrors.enrollmentStatusId}])},[t[34]||(t[34]=e("span",{class:"form__label"},"Enrollment status *",-1)),c(e("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>n.form.enrollmentStatusId=l),name:"enrollmentStatusId",onBlur:t[12]||(t[12]=l=>n.markTouched("enrollmentStatusId")),required:""},[t[33]||(t[33]=e("option",{value:""},"Select status",-1)),(d(!0),i(h,null,L(s.lookups.statuses,l=>(d(),i("option",{key:l.id,value:String(l.id)},r(l.name),9,Ye))),128))],544),[[M,n.form.enrollmentStatusId]]),n.inlineErrors.enrollmentStatusId?(d(),i("span",Ze,r(n.inlineErrors.enrollmentStatusId),1)):V("",!0)],2),e("label",$e,[t[36]||(t[36]=e("span",{class:"form__label"},"Grade level",-1)),c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=l=>n.form.gradeLevelId=l),name:"gradeLevelId"},[t[35]||(t[35]=e("option",{value:""},"Select grade",-1)),(d(!0),i(h,null,L(s.lookups.gradeLevels,l=>(d(),i("option",{key:l.id,value:String(l.id)},r(l.name),9,et))),128))],512),[[M,n.form.gradeLevelId]])]),e("label",tt,[t[37]||(t[37]=e("span",{class:"form__label"},"Student number",-1)),c(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>n.form.studentNumber=l),name:"studentNumber",type:"text",autocomplete:"off"},null,512),[[I,n.form.studentNumber,void 0,{trim:!0}]])]),e("label",nt,[t[38]||(t[38]=e("span",{class:"form__label"},"Admission date",-1)),e("sq-date-picker",{name:"admissionDate",value:n.form.admissionDate,label:"",onValueChange:t[15]||(t[15]=l=>n.form.admissionDate=l)},null,40,lt)])]),e("div",st,[e("label",null,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=l=>n.showGraduationSection=l)},null,512),[[U,n.showGraduationSection]]),t[39]||(t[39]=e("span",null,"Track graduation planning",-1))])]),R(J,{name:"slide"},{default:z(()=>[n.showGraduationSection?(d(),i("div",ot,[e("label",rt,[t[40]||(t[40]=e("span",{class:"form__label"},"Graduation date",-1)),e("sq-date-picker",{name:"graduationDate",value:n.form.graduationDate,label:"",onValueChange:t[17]||(t[17]=l=>n.form.graduationDate=l)},null,40,at)]),e("label",it,[t[41]||(t[41]=e("span",{class:"form__label"},"Notes",-1)),c(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=l=>n.form.notes=l),name:"notes",rows:"4"},null,512),[[I,n.form.notes,void 0,{trim:!0}]])])])):V("",!0)]),_:1})]),e("div",dt,[e("button",ut,r(n.submitLabel),1),t[43]||(t[43]=e("a",{class:"btn btn--link",href:"/students"},"Cancel",-1))])],40,Te)])}const ft=q(Ce,[["render",mt],["__scopeId","data-v-7043baaa"],["__file","/workspace/nSMS/src/client/students/components/StudentFormApp.vue"]]),_t={__name:"StudentDetailApp",props:{student:{type:Object,required:!0},csrfToken:{type:String,default:""}},setup(f,{expose:t}){t();const s=f,n=s.student,u=s.csrfToken,p=y(!1),l=S(()=>`${n.person.firstName} ${n.person.lastName}`.trim()),v=S(()=>{var b;return((b=n.enrollmentStatus)==null?void 0:b.name)||"—"}),o=S(()=>{var b;return((b=n.gradeLevel)==null?void 0:b.name)||"—"});function N(b){if(!b)return"—";const C=new Date(b);return Number.isNaN(C.getTime())?"—":C.toLocaleDateString()}function D(){p.value=!1}function _(b){window.confirm("Delete this student?")&&b.target.submit()}const E={props:s,student:n,csrfToken:u,showContactModal:p,fullName:l,statusName:v,gradeName:o,formatDate:N,closeModal:D,confirmDelete:_,computed:S,ref:y};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}},ct={class:"card card--detail"},bt={class:"card__header"},pt=["name","subtitle"],vt={class:"card__actions"},St=["href"],gt=["action"],yt=["value"],Nt={class:"detail-grid"},kt={class:"detail-card"},ht={class:"detail-card"},Dt={key:0,class:"detail-notes"},It={key:1,class:"detail-empty"},wt={class:"detail-meta"},Et=["open"],Ct={class:"contact-list"};function At(f,t,s,n,u,p){var l;return d(),i(h,null,[e("section",ct,[e("header",bt,[e("sq-avatar-badge",{name:n.fullName,subtitle:n.statusName},null,8,pt),e("div",vt,[e("a",{href:`/students/${n.student.id}/edit`,class:"btn"},"Edit",8,St),e("form",{class:"form form--inline",action:`/students/${n.student.id}/delete`,method:"post",onSubmit:t[0]||(t[0]=F(v=>n.confirmDelete(v),["prevent"]))},[e("input",{type:"hidden",name:"_csrf",value:n.csrfToken},null,8,yt),t[2]||(t[2]=e("button",{type:"submit",class:"btn btn--danger"},"Delete",-1))],40,gt),t[3]||(t[3]=e("a",{href:"/students",class:"btn btn--link"},"Back to list",-1))])]),e("section",Nt,[e("article",kt,[t[9]||(t[9]=e("h2",null,"Enrollment overview",-1)),e("dl",null,[e("div",null,[t[4]||(t[4]=e("dt",null,"Status",-1)),e("dd",null,r(n.statusName),1)]),e("div",null,[t[5]||(t[5]=e("dt",null,"Grade level",-1)),e("dd",null,r(n.gradeName),1)]),e("div",null,[t[6]||(t[6]=e("dt",null,"Student number",-1)),e("dd",null,r(n.student.studentNumber||"—"),1)]),e("div",null,[t[7]||(t[7]=e("dt",null,"Admission date",-1)),e("dd",null,r(n.formatDate(n.student.admissionDate)),1)]),e("div",null,[t[8]||(t[8]=e("dt",null,"Graduation date",-1)),e("dd",null,r(n.formatDate(n.student.graduationDate)),1)])]),e("button",{type:"button",class:"btn btn--ghost",onClick:t[1]||(t[1]=v=>n.showContactModal=!0)}," View contact details ")]),e("article",ht,[t[13]||(t[13]=e("h2",null,"Personal notes",-1)),n.student.notes?(d(),i("p",Dt,r(n.student.notes),1)):(d(),i("p",It,"No additional notes available.")),e("ul",wt,[e("li",null,[t[10]||(t[10]=e("strong",null,"Preferred name",-1)),e("span",null,r(n.student.person.preferredName||"—"),1)]),e("li",null,[t[11]||(t[11]=e("strong",null,"Date of birth",-1)),e("span",null,r(n.formatDate(n.student.person.dateOfBirth)),1)]),e("li",null,[t[12]||(t[12]=e("strong",null,"Gender",-1)),e("span",null,r(((l=n.student.person.gender)==null?void 0:l.name)||"—"),1)])])])])]),e("sq-modal",{open:n.showContactModal,heading:"Contact details",onClose:n.closeModal},[e("dl",Ct,[e("div",null,[t[14]||(t[14]=e("dt",null,"Primary email",-1)),e("dd",null,r(n.student.person.primaryEmail||"—"),1)]),e("div",null,[t[15]||(t[15]=e("dt",null,"Mobile phone",-1)),e("dd",null,r(n.student.person.mobilePhone||"—"),1)])]),e("div",{slot:"footer"},[e("button",{type:"button",class:"btn",onClick:n.closeModal},"Close")])],40,Et)],64)}const Vt=q(_t,[["render",At],["__scopeId","data-v-90253ceb"],["__file","/workspace/nSMS/src/client/students/components/StudentDetailApp.vue"]]),Lt={StudentListApp:Ee,StudentFormApp:ft,StudentDetailApp:Vt};function Ot(f){if(!f)return{};const t=document.getElementById(f);if(!t)return{};try{return JSON.parse(t.textContent||"{}")}catch(s){return console.warn(`Unable to parse state for ${f}`,s),{}}}function Tt(f){const t=f.dataset.vueApp,s=Lt[t];if(!s)return;const n=Ot(f.dataset.stateId);X(s,n).mount(f)}document.querySelectorAll('[data-vue-app^="Student"]').forEach(f=>Tt(f));
//# sourceMappingURL=students.js.map
