{"version":3,"file":"teachers.js","sources":["../../client/teachers/components/TeacherListApp.vue","../../client/teachers/components/TeacherFormApp.vue","../../client/teachers/components/TeacherDetailApp.vue","../../client/teachers/main.js"],"sourcesContent":["<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Teachers &amp; Staff</h1>\n        <p class=\"card__subtitle\">\n          Showing {{ filteredTeachers.length }} {{ filteredTeachers.length === 1 ? \"person\" : \"people\" }}\n        </p>\n      </div>\n      <div class=\"card__actions\">\n        <a class=\"btn\" href=\"/teachers/create\">Add teacher or staff</a>\n        <a class=\"btn btn--ghost\" href=\"/teachers\">Clear search</a>\n      </div>\n    </header>\n\n    <form class=\"filters\" method=\"get\" action=\"/teachers\" novalidate>\n      <label class=\"filters__field\">\n        <span>Search</span>\n        <input\n          v-model=\"searchTerm\"\n          type=\"search\"\n          name=\"search\"\n          placeholder=\"Name, employee number, or subject\"\n        />\n      </label>\n      <label class=\"filters__field\">\n        <span>Staff type</span>\n        <select v-model=\"staffTypeFilter\">\n          <option value=\"all\">All staff</option>\n          <option v-for=\"type in staffTypes\" :key=\"type.id\" :value=\"String(type.id)\">\n            {{ type.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__field\">\n        <span>Status</span>\n        <select v-model=\"statusFilter\">\n          <option value=\"all\">All statuses</option>\n          <option v-for=\"status in employmentStatuses\" :key=\"status.id\" :value=\"String(status.id)\">\n            {{ status.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__checkbox\">\n        <input type=\"checkbox\" v-model=\"showOnlyActive\" />\n        <span>Currently employed</span>\n      </label>\n      <button type=\"submit\" class=\"btn btn--ghost filters__submit\">Apply on server</button>\n      <button type=\"button\" class=\"btn btn--link filters__submit\" @click=\"resetFilters\">Reset filters</button>\n    </form>\n\n    <div v-if=\"hasResults\" class=\"table-responsive\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Role</th>\n            <th scope=\"col\">Status</th>\n            <th scope=\"col\">Employee #</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"teacher in filteredTeachers\" :key=\"teacher.id\">\n            <td data-title=\"Name\">\n              <button type=\"button\" class=\"table__link\" @click=\"openSummary(teacher)\">\n                {{ teacher.person.firstName }} {{ teacher.person.lastName }}\n              </button>\n            </td>\n            <td data-title=\"Role\">{{ teacher.staffType?.name ?? \"—\" }}</td>\n            <td data-title=\"Status\">{{ teacher.employmentStatus?.name ?? \"—\" }}</td>\n            <td data-title=\"Employee #\">{{ teacher.employeeNumber || \"—\" }}</td>\n            <td class=\"table__actions\">\n              <a :href=\"`/teachers/${teacher.id}`\" class=\"btn btn--small btn--ghost\">View</a>\n              <a :href=\"`/teachers/${teacher.id}/edit`\" class=\"btn btn--small\">Edit</a>\n              <form\n                class=\"form form--inline\"\n                :action=\"`/teachers/${teacher.id}/delete`\"\n                method=\"post\"\n                @submit.prevent=\"confirmDelete($event)\"\n              >\n                <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n                <button type=\"submit\" class=\"btn btn--small btn--danger\">Delete</button>\n              </form>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <p v-else class=\"table__empty\">No results. Adjust the filters above.</p>\n  </section>\n\n  <sq-modal :open=\"Boolean(selectedTeacher)\" heading=\"Profile summary\" @close=\"closeSummary\">\n    <template v-if=\"selectedTeacher\">\n      <sq-avatar-badge\n        :name=\"`${selectedTeacher.person.firstName} ${selectedTeacher.person.lastName}`\"\n        :subtitle=\"selectedTeacher.staffType?.name || 'Team member'\"\n      ></sq-avatar-badge>\n      <dl class=\"summary\">\n        <div>\n          <dt>Employment status</dt>\n          <dd>{{ selectedTeacher.employmentStatus?.name ?? \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Primary subject</dt>\n          <dd>{{ selectedTeacher.primarySubject || \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Hire date</dt>\n          <dd>{{ formatDate(selectedTeacher.hireDate) }}</dd>\n        </div>\n        <div>\n          <dt>Contract end</dt>\n          <dd>{{ formatDate(selectedTeacher.contractEndDate) }}</dd>\n        </div>\n        <div>\n          <dt>Email</dt>\n          <dd>{{ selectedTeacher.person.primaryEmail || \"—\" }}</dd>\n        </div>\n      </dl>\n      <div slot=\"footer\" class=\"modal-footer\">\n        <a :href=\"`/teachers/${selectedTeacher.id}`\" class=\"btn btn--primary\">Open profile</a>\n        <button type=\"button\" class=\"btn\" @click=\"closeSummary\">Close</button>\n      </div>\n    </template>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  teachers: { type: Array, default: () => [] },\n  search: { type: String, default: \"\" },\n  lookups: {\n    type: Object,\n    default: () => ({ staffTypes: [], employmentStatuses: [] }),\n  },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst searchTerm = ref(props.search ?? \"\");\nconst staffTypeFilter = ref(\"all\");\nconst statusFilter = ref(\"all\");\nconst showOnlyActive = ref(false);\nconst selectedTeacher = ref(null);\n\nconst staffTypes = computed(() => props.lookups?.staffTypes ?? []);\nconst employmentStatuses = computed(() => props.lookups?.employmentStatuses ?? []);\n\nconst activeEmploymentIds = computed(() =>\n  new Set(\n    (props.lookups?.employmentStatuses ?? [])\n      .filter((status) => status.isActive !== false)\n      .map((status) => String(status.id)),\n  ),\n);\n\nfunction normalize(value) {\n  return (value || \"\").toString().toLowerCase();\n}\n\nfunction matchesSearch(teacher) {\n  const term = normalize(searchTerm.value);\n  if (!term) {\n    return true;\n  }\n  const fields = [\n    `${teacher.person.firstName} ${teacher.person.lastName}`,\n    teacher.employeeNumber,\n    teacher.primarySubject,\n    teacher.staffType?.name,\n  ];\n  return fields.some((field) => normalize(field).includes(term));\n}\n\nfunction matchesStaffType(teacher) {\n  if (staffTypeFilter.value === \"all\") {\n    return true;\n  }\n  return String(teacher.staffTypeId ?? \"\") === staffTypeFilter.value;\n}\n\nfunction matchesStatus(teacher) {\n  if (statusFilter.value === \"all\") {\n    return true;\n  }\n  return String(teacher.employmentStatusId ?? \"\") === statusFilter.value;\n}\n\nfunction matchesActive(teacher) {\n  if (!showOnlyActive.value) {\n    return true;\n  }\n  return activeEmploymentIds.value.has(String(teacher.employmentStatusId ?? \"\"));\n}\n\nconst filteredTeachers = computed(() =>\n  props.teachers.filter(\n    (teacher) =>\n      matchesSearch(teacher) && matchesStaffType(teacher) && matchesStatus(teacher) && matchesActive(teacher),\n  ),\n);\n\nconst hasResults = computed(() => filteredTeachers.value.length > 0);\n\nfunction resetFilters() {\n  searchTerm.value = \"\";\n  staffTypeFilter.value = \"all\";\n  statusFilter.value = \"all\";\n  showOnlyActive.value = false;\n}\n\nfunction openSummary(teacher) {\n  selectedTeacher.value = reactive(teacher);\n}\n\nfunction closeSummary() {\n  selectedTeacher.value = null;\n}\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this record?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.card__actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.filters {\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n  align-items: end;\n}\n\n.filters__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.filters__field input,\n.filters__field select {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.45rem 0.65rem;\n  font: inherit;\n}\n\n.filters__checkbox {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filters__submit {\n  justify-self: flex-start;\n}\n\n.table__link {\n  background: none;\n  border: none;\n  padding: 0;\n  color: #2563eb;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.summary {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));\n  gap: 0.75rem 1rem;\n  margin: 1.25rem 0;\n}\n\n.summary dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.summary dd {\n  margin: 0;\n  color: #475569;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n}\n\n.table__empty {\n  text-align: center;\n  color: #475569;\n  margin: 0;\n  padding: 1rem 0;\n}\n</style>\n","<template>\n  <section class=\"card card--form\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">\n          {{ isEditMode ? \"Edit teacher or staff member\" : \"Add teacher or staff member\" }}\n        </h1>\n        <p class=\"card__subtitle\">Capture employment and contact information for the team member.</p>\n      </div>\n      <a class=\"btn btn--ghost\" href=\"/teachers\">Back to list</a>\n    </header>\n\n    <div v-if=\"serverErrors.length\" class=\"alert alert--danger\" role=\"alert\">\n      <p><strong>We ran into a few issues:</strong></p>\n      <ul>\n        <li v-for=\"error in serverErrors\" :key=\"error\">{{ error }}</li>\n      </ul>\n    </div>\n\n    <form ref=\"formRef\" method=\"post\" :action=\"formAction\" class=\"form\" @submit.prevent=\"handleSubmit\">\n      <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Personal information</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.firstName }\">\n            <span class=\"form__label\">First name *</span>\n            <input\n              v-model.trim=\"form.firstName\"\n              name=\"firstName\"\n              type=\"text\"\n              autocomplete=\"given-name\"\n              required\n              @blur=\"markTouched('firstName')\"\n            />\n            <span v-if=\"inlineErrors.firstName\" class=\"form__hint\">{{ inlineErrors.firstName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Middle name</span>\n            <input v-model.trim=\"form.middleName\" name=\"middleName\" type=\"text\" autocomplete=\"additional-name\" />\n          </label>\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.lastName }\">\n            <span class=\"form__label\">Last name *</span>\n            <input\n              v-model.trim=\"form.lastName\"\n              name=\"lastName\"\n              type=\"text\"\n              autocomplete=\"family-name\"\n              required\n              @blur=\"markTouched('lastName')\"\n            />\n            <span v-if=\"inlineErrors.lastName\" class=\"form__hint\">{{ inlineErrors.lastName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Preferred name</span>\n            <input v-model.trim=\"form.preferredName\" name=\"preferredName\" type=\"text\" autocomplete=\"nickname\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Date of birth</span>\n            <sq-date-picker\n              name=\"dateOfBirth\"\n              :value=\"form.dateOfBirth\"\n              label=\"\"\n              @value-change=\"(value) => (form.dateOfBirth = value)\"\n            ></sq-date-picker>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Gender</span>\n            <select v-model=\"form.genderId\" name=\"genderId\">\n              <option value=\"\">Select gender</option>\n              <option v-for=\"gender in lookups.genders\" :key=\"gender.id\" :value=\"String(gender.id)\">\n                {{ gender.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showContactSection\" />\n            <span>Collect contact details</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showContactSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Primary email</span>\n              <input v-model.trim=\"form.primaryEmail\" name=\"primaryEmail\" type=\"email\" autocomplete=\"email\" />\n            </label>\n            <label class=\"form__field\">\n              <span class=\"form__label\">Mobile phone</span>\n              <input v-model.trim=\"form.mobilePhone\" name=\"mobilePhone\" type=\"tel\" autocomplete=\"tel\" />\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Employment details</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.staffTypeId }\">\n            <span class=\"form__label\">Staff type *</span>\n            <select v-model=\"form.staffTypeId\" name=\"staffTypeId\" required @blur=\"markTouched('staffTypeId')\">\n              <option value=\"\">Select staff type</option>\n              <option v-for=\"type in lookups.staffTypes\" :key=\"type.id\" :value=\"String(type.id)\">\n                {{ type.name }}\n              </option>\n            </select>\n            <span v-if=\"inlineErrors.staffTypeId\" class=\"form__hint\">{{ inlineErrors.staffTypeId }}</span>\n          </label>\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.employmentStatusId }\">\n            <span class=\"form__label\">Employment status *</span>\n            <select\n              v-model=\"form.employmentStatusId\"\n              name=\"employmentStatusId\"\n              required\n              @blur=\"markTouched('employmentStatusId')\"\n            >\n              <option value=\"\">Select employment status</option>\n              <option v-for=\"status in lookups.employmentStatuses\" :key=\"status.id\" :value=\"String(status.id)\">\n                {{ status.name }}\n              </option>\n            </select>\n            <span v-if=\"inlineErrors.employmentStatusId\" class=\"form__hint\">\n              {{ inlineErrors.employmentStatusId }}\n            </span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Employee number</span>\n            <input v-model.trim=\"form.employeeNumber\" name=\"employeeNumber\" type=\"text\" autocomplete=\"off\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Primary subject</span>\n            <input v-model.trim=\"form.primarySubject\" name=\"primarySubject\" type=\"text\" autocomplete=\"off\" />\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showContractSection\" />\n            <span>Track contract timeline</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showContractSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Hire date</span>\n              <sq-date-picker\n                name=\"hireDate\"\n                :value=\"form.hireDate\"\n                label=\"\"\n                @value-change=\"(value) => (form.hireDate = value)\"\n              ></sq-date-picker>\n            </label>\n            <label class=\"form__field\">\n              <span class=\"form__label\">Contract end date</span>\n              <sq-date-picker\n                name=\"contractEndDate\"\n                :value=\"form.contractEndDate\"\n                label=\"\"\n                @value-change=\"(value) => (form.contractEndDate = value)\"\n              ></sq-date-picker>\n            </label>\n            <label class=\"form__field form__field--full\">\n              <span class=\"form__label\">Notes</span>\n              <textarea v-model.trim=\"form.notes\" name=\"notes\" rows=\"4\"></textarea>\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <div class=\"form__actions\">\n        <button type=\"submit\" class=\"btn btn--primary\">{{ submitLabel }}</button>\n        <a class=\"btn btn--link\" href=\"/teachers\">Cancel</a>\n      </div>\n    </form>\n  </section>\n</template>\n\n<script setup>\nimport { computed, reactive, ref, watch } from \"vue\";\n\nconst props = defineProps({\n  lookups: {\n    type: Object,\n    default: () => ({ genders: [], staffTypes: [], employmentStatuses: [] }),\n  },\n  values: {\n    type: Object,\n    default: () => ({}),\n  },\n  errors: {\n    type: Array,\n    default: () => [],\n  },\n  isEditMode: { type: Boolean, default: false },\n  teacherId: { type: Number, default: null },\n  csrfToken: { type: String, default: \"\" },\n  formAction: { type: String, default: \"/teachers/create\" },\n});\n\nconst formRef = ref(null);\n\nconst form = reactive({\n  firstName: props.values.firstName || \"\",\n  middleName: props.values.middleName || \"\",\n  lastName: props.values.lastName || \"\",\n  preferredName: props.values.preferredName || \"\",\n  dateOfBirth: props.values.dateOfBirth || \"\",\n  genderId: props.values.genderId ? String(props.values.genderId) : \"\",\n  primaryEmail: props.values.primaryEmail || \"\",\n  mobilePhone: props.values.mobilePhone || \"\",\n  staffTypeId: props.values.staffTypeId ? String(props.values.staffTypeId) : \"\",\n  employmentStatusId: props.values.employmentStatusId ? String(props.values.employmentStatusId) : \"\",\n  employeeNumber: props.values.employeeNumber || \"\",\n  primarySubject: props.values.primarySubject || \"\",\n  hireDate: props.values.hireDate || \"\",\n  contractEndDate: props.values.contractEndDate || \"\",\n  notes: props.values.notes || \"\",\n});\n\nconst showContactSection = ref(Boolean(form.primaryEmail || form.mobilePhone));\nconst showContractSection = ref(Boolean(form.hireDate || form.contractEndDate || form.notes));\n\nconst serverErrors = computed(() => props.errors || []);\nconst submitLabel = computed(() => (props.isEditMode ? \"Save changes\" : \"Create record\"));\n\nconst touched = reactive({\n  firstName: false,\n  lastName: false,\n  staffTypeId: false,\n  employmentStatusId: false,\n});\n\nconst inlineErrors = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  staffTypeId: \"\",\n  employmentStatusId: \"\",\n});\n\nfunction validateField(field) {\n  let message = \"\";\n  if (field === \"firstName\" && !form.firstName.trim()) {\n    message = \"First name is required.\";\n  }\n  if (field === \"lastName\" && !form.lastName.trim()) {\n    message = \"Last name is required.\";\n  }\n  if (field === \"staffTypeId\" && !form.staffTypeId) {\n    message = \"Staff type is required.\";\n  }\n  if (field === \"employmentStatusId\" && !form.employmentStatusId) {\n    message = \"Employment status is required.\";\n  }\n  inlineErrors[field] = message;\n  return !message;\n}\n\nfunction markTouched(field) {\n  touched[field] = true;\n  validateField(field);\n}\n\nwatch(\n  () => form.firstName,\n  () => {\n    if (touched.firstName) {\n      validateField(\"firstName\");\n    }\n  },\n);\n\nwatch(\n  () => form.lastName,\n  () => {\n    if (touched.lastName) {\n      validateField(\"lastName\");\n    }\n  },\n);\n\nwatch(\n  () => form.staffTypeId,\n  () => {\n    if (touched.staffTypeId) {\n      validateField(\"staffTypeId\");\n    }\n  },\n);\n\nwatch(\n  () => form.employmentStatusId,\n  () => {\n    if (touched.employmentStatusId) {\n      validateField(\"employmentStatusId\");\n    }\n  },\n);\n\nwatch(showContactSection, (value) => {\n  if (!value) {\n    form.primaryEmail = \"\";\n    form.mobilePhone = \"\";\n  }\n});\n\nwatch(showContractSection, (value) => {\n  if (!value) {\n    form.hireDate = \"\";\n    form.contractEndDate = \"\";\n    form.notes = \"\";\n  }\n});\n\nfunction focusFirstError() {\n  const field = Object.keys(inlineErrors).find((key) => inlineErrors[key]);\n  if (!field) {\n    return;\n  }\n  const el = formRef.value?.querySelector?.(`[name=\"${field}\"]`);\n  if (el) {\n    el.focus();\n  }\n}\n\nfunction handleSubmit() {\n  touched.firstName = true;\n  touched.lastName = true;\n  touched.staffTypeId = true;\n  touched.employmentStatusId = true;\n\n  const validFirst = validateField(\"firstName\");\n  const validLast = validateField(\"lastName\");\n  const validStaffType = validateField(\"staffTypeId\");\n  const validEmployment = validateField(\"employmentStatusId\");\n\n  if (!validFirst || !validLast || !validStaffType || !validEmployment) {\n    focusFirstError();\n    return;\n  }\n\n  formRef.value?.submit();\n}\n</script>\n\n<style scoped>\n.card--form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.alert {\n  border-radius: 0.75rem;\n  padding: 1rem 1.25rem;\n}\n\n.form__fieldset {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.form__grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));\n  gap: 1rem;\n}\n\n.form__grid--secondary {\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n}\n\n.form__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n\n.form__field input,\n.form__field select,\n.form__field textarea {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.5rem 0.65rem;\n  font: inherit;\n}\n\n.form__field--error input,\n.form__field--error select {\n  border-color: #dc2626;\n  box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.1);\n}\n\n.form__hint {\n  color: #dc2626;\n  font-size: 0.8rem;\n}\n\n.toggle {\n  margin-top: 0.25rem;\n}\n\n.toggle label {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.form__actions {\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: all 0.2s ease;\n}\n\n.slide-enter-from,\n.slide-leave-to {\n  opacity: 0;\n  transform: translateY(-0.5rem);\n}\n</style>\n","<template>\n  <section class=\"card card--detail\">\n    <header class=\"card__header\">\n      <sq-avatar-badge :name=\"fullName\" :subtitle=\"staffTypeName\"></sq-avatar-badge>\n      <div class=\"card__actions\">\n        <a :href=\"`/teachers/${teacher.id}/edit`\" class=\"btn\">Edit</a>\n        <form\n          class=\"form form--inline\"\n          :action=\"`/teachers/${teacher.id}/delete`\"\n          method=\"post\"\n          @submit.prevent=\"confirmDelete($event)\"\n        >\n          <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n          <button type=\"submit\" class=\"btn btn--danger\">Delete</button>\n        </form>\n        <a href=\"/teachers\" class=\"btn btn--link\">Back to list</a>\n      </div>\n    </header>\n\n    <section class=\"detail-grid\">\n      <article class=\"detail-card\">\n        <h2>Employment overview</h2>\n        <dl>\n          <div>\n            <dt>Staff type</dt>\n            <dd>{{ staffTypeName }}</dd>\n          </div>\n          <div>\n            <dt>Status</dt>\n            <dd>{{ statusName }}</dd>\n          </div>\n          <div>\n            <dt>Employee number</dt>\n            <dd>{{ teacher.employeeNumber || \"—\" }}</dd>\n          </div>\n          <div>\n            <dt>Primary subject</dt>\n            <dd>{{ teacher.primarySubject || \"—\" }}</dd>\n          </div>\n          <div>\n            <dt>Hire date</dt>\n            <dd>{{ formatDate(teacher.hireDate) }}</dd>\n          </div>\n          <div>\n            <dt>Contract end</dt>\n            <dd>{{ formatDate(teacher.contractEndDate) }}</dd>\n          </div>\n        </dl>\n        <button type=\"button\" class=\"btn btn--ghost\" @click=\"showContactModal = true\">\n          View contact details\n        </button>\n      </article>\n      <article class=\"detail-card\">\n        <h2>Personal notes</h2>\n        <p v-if=\"teacher.notes\" class=\"detail-notes\">{{ teacher.notes }}</p>\n        <p v-else class=\"detail-empty\">No additional notes available.</p>\n        <ul class=\"detail-meta\">\n          <li>\n            <strong>Preferred name</strong>\n            <span>{{ teacher.person.preferredName || \"—\" }}</span>\n          </li>\n          <li>\n            <strong>Date of birth</strong>\n            <span>{{ formatDate(teacher.person.dateOfBirth) }}</span>\n          </li>\n          <li>\n            <strong>Gender</strong>\n            <span>{{ teacher.person.gender?.name || \"—\" }}</span>\n          </li>\n        </ul>\n      </article>\n    </section>\n  </section>\n\n  <sq-modal :open=\"showContactModal\" heading=\"Contact details\" @close=\"closeModal\">\n    <dl class=\"contact-list\">\n      <div>\n        <dt>Primary email</dt>\n        <dd>{{ teacher.person.primaryEmail || \"—\" }}</dd>\n      </div>\n      <div>\n        <dt>Mobile phone</dt>\n        <dd>{{ teacher.person.mobilePhone || \"—\" }}</dd>\n      </div>\n    </dl>\n    <div slot=\"footer\">\n      <button type=\"button\" class=\"btn\" @click=\"closeModal\">Close</button>\n    </div>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  teacher: { type: Object, required: true },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst teacher = props.teacher;\nconst csrfToken = props.csrfToken;\nconst showContactModal = ref(false);\n\nconst fullName = computed(\n  () => `${teacher.person.firstName} ${teacher.person.lastName}`.trim(),\n);\nconst staffTypeName = computed(() => teacher.staffType?.name || \"—\");\nconst statusName = computed(() => teacher.employmentStatus?.name || \"—\");\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction closeModal() {\n  showContactModal.value = false;\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this record?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card--detail {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.card__actions {\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n\n.detail-grid {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));\n}\n\n.detail-card {\n  background: #f8fafc;\n  border-radius: 0.75rem;\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.detail-card h2 {\n  margin: 0;\n  font-size: 1.1rem;\n}\n\n.detail-card dl {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.detail-card dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.detail-card dd {\n  margin: 0;\n  color: #475569;\n}\n\n.detail-notes {\n  margin: 0;\n  white-space: pre-wrap;\n}\n\n.detail-empty {\n  margin: 0;\n  color: #94a3b8;\n}\n\n.detail-meta {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  gap: 0.5rem;\n}\n\n.detail-meta li {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.detail-meta strong {\n  color: #0f172a;\n}\n\n.contact-list {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.contact-list dt {\n  font-weight: 600;\n}\n\n.contact-list dd {\n  margin: 0;\n}\n</style>\n","import { createApp } from \"vue\";\nimport TeacherListApp from \"./components/TeacherListApp.vue\";\nimport TeacherFormApp from \"./components/TeacherFormApp.vue\";\nimport TeacherDetailApp from \"./components/TeacherDetailApp.vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  TeacherListApp,\n  TeacherFormApp,\n  TeacherDetailApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const el = document.getElementById(stateId);\n  if (!el) {\n    return {};\n  }\n  try {\n    return JSON.parse(el.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\ndocument\n  .querySelectorAll('[data-vue-app^=\"Teacher\"]')\n  .forEach((el) => mountComponent(el));\n"],"names":["props","__props","searchTerm","ref","staffTypeFilter","statusFilter","showOnlyActive","selectedTeacher","staffTypes","computed","_a","employmentStatuses","activeEmploymentIds","status","normalize","value","matchesSearch","teacher","term","field","matchesStaffType","matchesStatus","matchesActive","filteredTeachers","hasResults","resetFilters","openSummary","reactive","closeSummary","formatDate","date","confirmDelete","event","_createElementVNode","_hoisted_1","_hoisted_2","_cache","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","$event","_hoisted_6","_createElementBlock","_Fragment","_renderList","type","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_b","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_withModifiers","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_28","formRef","form","showContactSection","showContractSection","serverErrors","submitLabel","touched","inlineErrors","validateField","message","markTouched","watch","focusFirstError","key","el","handleSubmit","validFirst","validLast","validStaffType","validEmployment","error","_normalizeClass","gender","_vModelSelect","_createVNode","_Transition","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_37","csrfToken","showContactModal","fullName","staffTypeName","statusName","closeModal","_unref","COMPONENTS","TeacherListApp","TeacherFormApp","TeacherDetailApp","readState","stateId","mountComponent","componentName","Component","createApp"],"mappings":"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"}