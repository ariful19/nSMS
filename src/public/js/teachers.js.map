{"version":3,"file":"teachers.js","sources":["../../client/teachers/components/TeacherListApp.vue","../../client/teachers/components/TeacherFormApp.vue","../../client/teachers/components/TeacherDetailApp.vue","../../client/teachers/main.js"],"sourcesContent":["<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Teachers &amp; Staff</h1>\n        <p class=\"card__subtitle\">\n          Showing {{ filteredTeachers.length }} {{ filteredTeachers.length === 1 ? \"person\" : \"people\" }}\n        </p>\n      </div>\n      <div class=\"card__actions\">\n        <a class=\"btn\" href=\"/teachers/create\">Add teacher or staff</a>\n        <a class=\"btn btn--ghost\" href=\"/teachers\">Clear search</a>\n      </div>\n    </header>\n\n    <form class=\"filters\" method=\"get\" action=\"/teachers\" novalidate>\n      <label class=\"filters__field\">\n        <span>Search</span>\n        <input\n          v-model=\"searchTerm\"\n          type=\"search\"\n          name=\"search\"\n          placeholder=\"Name, employee number, or subject\"\n        />\n      </label>\n      <label class=\"filters__field\">\n        <span>Staff type</span>\n        <select v-model=\"staffTypeFilter\">\n          <option value=\"all\">All staff</option>\n          <option v-for=\"type in staffTypes\" :key=\"type.id\" :value=\"String(type.id)\">\n            {{ type.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__field\">\n        <span>Status</span>\n        <select v-model=\"statusFilter\">\n          <option value=\"all\">All statuses</option>\n          <option v-for=\"status in employmentStatuses\" :key=\"status.id\" :value=\"String(status.id)\">\n            {{ status.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__checkbox\">\n        <input type=\"checkbox\" v-model=\"showOnlyActive\" />\n        <span>Currently employed</span>\n      </label>\n      <button type=\"submit\" class=\"btn btn--ghost filters__submit\">Apply on server</button>\n      <button type=\"button\" class=\"btn btn--link filters__submit\" @click=\"resetFilters\">Reset filters</button>\n    </form>\n\n    <div v-if=\"hasResults\" class=\"table-responsive\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Role</th>\n            <th scope=\"col\">Status</th>\n            <th scope=\"col\">Employee #</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"teacher in filteredTeachers\" :key=\"teacher.id\">\n            <td data-title=\"Name\">\n              <button type=\"button\" class=\"table__link\" @click=\"openSummary(teacher)\">\n                {{ teacher.person.firstName }} {{ teacher.person.lastName }}\n              </button>\n            </td>\n            <td data-title=\"Role\">{{ teacher.staffType?.name ?? \"—\" }}</td>\n            <td data-title=\"Status\">{{ teacher.employmentStatus?.name ?? \"—\" }}</td>\n            <td data-title=\"Employee #\">{{ teacher.employeeNumber || \"—\" }}</td>\n            <td class=\"table__actions\">\n              <a :href=\"`/teachers/${teacher.id}`\" class=\"btn btn--small btn--ghost\">View</a>\n              <a :href=\"`/teachers/${teacher.id}/edit`\" class=\"btn btn--small\">Edit</a>\n              <form\n                class=\"form form--inline\"\n                :action=\"`/teachers/${teacher.id}/delete`\"\n                method=\"post\"\n                @submit.prevent=\"confirmDelete($event)\"\n              >\n                <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n                <button type=\"submit\" class=\"btn btn--small btn--danger\">Delete</button>\n              </form>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <p v-else class=\"table__empty\">No results. Adjust the filters above.</p>\n  </section>\n\n  <sq-modal :open=\"Boolean(selectedTeacher)\" heading=\"Profile summary\" @close=\"closeSummary\">\n    <template v-if=\"selectedTeacher\">\n      <sq-avatar-badge\n        :name=\"`${selectedTeacher.person.firstName} ${selectedTeacher.person.lastName}`\"\n        :subtitle=\"selectedTeacher.staffType?.name || 'Team member'\"\n      ></sq-avatar-badge>\n      <dl class=\"summary\">\n        <div>\n          <dt>Employment status</dt>\n          <dd>{{ selectedTeacher.employmentStatus?.name ?? \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Primary subject</dt>\n          <dd>{{ selectedTeacher.primarySubject || \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Hire date</dt>\n          <dd>{{ formatDate(selectedTeacher.hireDate) }}</dd>\n        </div>\n        <div>\n          <dt>Contract end</dt>\n          <dd>{{ formatDate(selectedTeacher.contractEndDate) }}</dd>\n        </div>\n        <div>\n          <dt>Email</dt>\n          <dd>{{ selectedTeacher.person.primaryEmail || \"—\" }}</dd>\n        </div>\n      </dl>\n      <div slot=\"footer\" class=\"modal-footer\">\n        <a :href=\"`/teachers/${selectedTeacher.id}`\" class=\"btn btn--primary\">Open profile</a>\n        <button type=\"button\" class=\"btn\" @click=\"closeSummary\">Close</button>\n      </div>\n    </template>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  teachers: { type: Array, default: () => [] },\n  search: { type: String, default: \"\" },\n  lookups: {\n    type: Object,\n    default: () => ({ staffTypes: [], employmentStatuses: [] }),\n  },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst searchTerm = ref(props.search ?? \"\");\nconst staffTypeFilter = ref(\"all\");\nconst statusFilter = ref(\"all\");\nconst showOnlyActive = ref(false);\nconst selectedTeacher = ref(null);\n\nconst staffTypes = computed(() => props.lookups?.staffTypes ?? []);\nconst employmentStatuses = computed(() => props.lookups?.employmentStatuses ?? []);\n\nconst activeEmploymentIds = computed(() =>\n  new Set(\n    (props.lookups?.employmentStatuses ?? [])\n      .filter((status) => status.isActive !== false)\n      .map((status) => String(status.id)),\n  ),\n);\n\nfunction normalize(value) {\n  return (value || \"\").toString().toLowerCase();\n}\n\nfunction matchesSearch(teacher) {\n  const term = normalize(searchTerm.value);\n  if (!term) {\n    return true;\n  }\n  const fields = [\n    `${teacher.person.firstName} ${teacher.person.lastName}`,\n    teacher.employeeNumber,\n    teacher.primarySubject,\n    teacher.staffType?.name,\n  ];\n  return fields.some((field) => normalize(field).includes(term));\n}\n\nfunction matchesStaffType(teacher) {\n  if (staffTypeFilter.value === \"all\") {\n    return true;\n  }\n  return String(teacher.staffTypeId ?? \"\") === staffTypeFilter.value;\n}\n\nfunction matchesStatus(teacher) {\n  if (statusFilter.value === \"all\") {\n    return true;\n  }\n  return String(teacher.employmentStatusId ?? \"\") === statusFilter.value;\n}\n\nfunction matchesActive(teacher) {\n  if (!showOnlyActive.value) {\n    return true;\n  }\n  return activeEmploymentIds.value.has(String(teacher.employmentStatusId ?? \"\"));\n}\n\nconst filteredTeachers = computed(() =>\n  props.teachers.filter(\n    (teacher) =>\n      matchesSearch(teacher) && matchesStaffType(teacher) && matchesStatus(teacher) && matchesActive(teacher),\n  ),\n);\n\nconst hasResults = computed(() => filteredTeachers.value.length > 0);\n\nfunction resetFilters() {\n  searchTerm.value = \"\";\n  staffTypeFilter.value = \"all\";\n  statusFilter.value = \"all\";\n  showOnlyActive.value = false;\n}\n\nfunction openSummary(teacher) {\n  selectedTeacher.value = reactive(teacher);\n}\n\nfunction closeSummary() {\n  selectedTeacher.value = null;\n}\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this record?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.card__actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.filters {\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n  align-items: end;\n}\n\n.filters__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.filters__field input,\n.filters__field select {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.45rem 0.65rem;\n  font: inherit;\n}\n\n.filters__checkbox {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filters__submit {\n  justify-self: flex-start;\n}\n\n.table__link {\n  background: none;\n  border: none;\n  padding: 0;\n  color: #2563eb;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.summary {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));\n  gap: 0.75rem 1rem;\n  margin: 1.25rem 0;\n}\n\n.summary dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.summary dd {\n  margin: 0;\n  color: #475569;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n}\n\n.table__empty {\n  text-align: center;\n  color: #475569;\n  margin: 0;\n  padding: 1rem 0;\n}\n</style>\n","<template>\n  <section class=\"card card--form\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">\n          {{ isEditMode ? \"Edit teacher or staff member\" : \"Add teacher or staff member\" }}\n        </h1>\n        <p class=\"card__subtitle\">Capture employment and contact information for the team member.</p>\n      </div>\n      <a class=\"btn btn--ghost\" href=\"/teachers\">Back to list</a>\n    </header>\n\n    <div v-if=\"serverErrors.length\" class=\"alert alert--danger\" role=\"alert\">\n      <p><strong>We ran into a few issues:</strong></p>\n      <ul>\n        <li v-for=\"error in serverErrors\" :key=\"error\">{{ error }}</li>\n      </ul>\n    </div>\n\n    <form ref=\"formRef\" method=\"post\" :action=\"formAction\" class=\"form\" @submit.prevent=\"handleSubmit\">\n      <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Personal information</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.firstName }\">\n            <span class=\"form__label\">First name *</span>\n            <input\n              v-model.trim=\"form.firstName\"\n              name=\"firstName\"\n              type=\"text\"\n              autocomplete=\"given-name\"\n              required\n              @blur=\"markTouched('firstName')\"\n            />\n            <span v-if=\"inlineErrors.firstName\" class=\"form__hint\">{{ inlineErrors.firstName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Middle name</span>\n            <input v-model.trim=\"form.middleName\" name=\"middleName\" type=\"text\" autocomplete=\"additional-name\" />\n          </label>\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.lastName }\">\n            <span class=\"form__label\">Last name *</span>\n            <input\n              v-model.trim=\"form.lastName\"\n              name=\"lastName\"\n              type=\"text\"\n              autocomplete=\"family-name\"\n              required\n              @blur=\"markTouched('lastName')\"\n            />\n            <span v-if=\"inlineErrors.lastName\" class=\"form__hint\">{{ inlineErrors.lastName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Preferred name</span>\n            <input v-model.trim=\"form.preferredName\" name=\"preferredName\" type=\"text\" autocomplete=\"nickname\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Date of birth</span>\n            <sq-date-picker\n              name=\"dateOfBirth\"\n              :value=\"form.dateOfBirth\"\n              label=\"\"\n              @value-change=\"(value) => (form.dateOfBirth = value)\"\n            ></sq-date-picker>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Gender</span>\n            <select v-model=\"form.genderId\" name=\"genderId\">\n              <option value=\"\">Select gender</option>\n              <option v-for=\"gender in lookups.genders\" :key=\"gender.id\" :value=\"String(gender.id)\">\n                {{ gender.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showContactSection\" />\n            <span>Collect contact details</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showContactSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Primary email</span>\n              <input v-model.trim=\"form.primaryEmail\" name=\"primaryEmail\" type=\"email\" autocomplete=\"email\" />\n            </label>\n            <label class=\"form__field\">\n              <span class=\"form__label\">Mobile phone</span>\n              <input v-model.trim=\"form.mobilePhone\" name=\"mobilePhone\" type=\"tel\" autocomplete=\"tel\" />\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Employment details</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.staffTypeId }\">\n            <span class=\"form__label\">Staff type *</span>\n            <select v-model=\"form.staffTypeId\" name=\"staffTypeId\" required @blur=\"markTouched('staffTypeId')\">\n              <option value=\"\">Select staff type</option>\n              <option v-for=\"type in lookups.staffTypes\" :key=\"type.id\" :value=\"String(type.id)\">\n                {{ type.name }}\n              </option>\n            </select>\n            <span v-if=\"inlineErrors.staffTypeId\" class=\"form__hint\">{{ inlineErrors.staffTypeId }}</span>\n          </label>\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.employmentStatusId }\">\n            <span class=\"form__label\">Employment status *</span>\n            <select\n              v-model=\"form.employmentStatusId\"\n              name=\"employmentStatusId\"\n              required\n              @blur=\"markTouched('employmentStatusId')\"\n            >\n              <option value=\"\">Select employment status</option>\n              <option v-for=\"status in lookups.employmentStatuses\" :key=\"status.id\" :value=\"String(status.id)\">\n                {{ status.name }}\n              </option>\n            </select>\n            <span v-if=\"inlineErrors.employmentStatusId\" class=\"form__hint\">\n              {{ inlineErrors.employmentStatusId }}\n            </span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Employee number</span>\n            <input v-model.trim=\"form.employeeNumber\" name=\"employeeNumber\" type=\"text\" autocomplete=\"off\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Primary subject</span>\n            <input v-model.trim=\"form.primarySubject\" name=\"primarySubject\" type=\"text\" autocomplete=\"off\" />\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showContractSection\" />\n            <span>Track contract timeline</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showContractSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Hire date</span>\n              <sq-date-picker\n                name=\"hireDate\"\n                :value=\"form.hireDate\"\n                label=\"\"\n                @value-change=\"(value) => (form.hireDate = value)\"\n              ></sq-date-picker>\n            </label>\n            <label class=\"form__field\">\n              <span class=\"form__label\">Contract end date</span>\n              <sq-date-picker\n                name=\"contractEndDate\"\n                :value=\"form.contractEndDate\"\n                label=\"\"\n                @value-change=\"(value) => (form.contractEndDate = value)\"\n              ></sq-date-picker>\n            </label>\n            <label class=\"form__field form__field--full\">\n              <span class=\"form__label\">Notes</span>\n              <textarea v-model.trim=\"form.notes\" name=\"notes\" rows=\"4\"></textarea>\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <div class=\"form__actions\">\n        <button type=\"submit\" class=\"btn btn--primary\">{{ submitLabel }}</button>\n        <a class=\"btn btn--link\" href=\"/teachers\">Cancel</a>\n      </div>\n    </form>\n  </section>\n</template>\n\n<script setup>\nimport { computed, reactive, ref, watch } from \"vue\";\n\nconst props = defineProps({\n  lookups: {\n    type: Object,\n    default: () => ({ genders: [], staffTypes: [], employmentStatuses: [] }),\n  },\n  values: {\n    type: Object,\n    default: () => ({}),\n  },\n  errors: {\n    type: Array,\n    default: () => [],\n  },\n  isEditMode: { type: Boolean, default: false },\n  teacherId: { type: Number, default: null },\n  csrfToken: { type: String, default: \"\" },\n  formAction: { type: String, default: \"/teachers/create\" },\n});\n\nconst formRef = ref(null);\n\nconst form = reactive({\n  firstName: props.values.firstName || \"\",\n  middleName: props.values.middleName || \"\",\n  lastName: props.values.lastName || \"\",\n  preferredName: props.values.preferredName || \"\",\n  dateOfBirth: props.values.dateOfBirth || \"\",\n  genderId: props.values.genderId ? String(props.values.genderId) : \"\",\n  primaryEmail: props.values.primaryEmail || \"\",\n  mobilePhone: props.values.mobilePhone || \"\",\n  staffTypeId: props.values.staffTypeId ? String(props.values.staffTypeId) : \"\",\n  employmentStatusId: props.values.employmentStatusId ? String(props.values.employmentStatusId) : \"\",\n  employeeNumber: props.values.employeeNumber || \"\",\n  primarySubject: props.values.primarySubject || \"\",\n  hireDate: props.values.hireDate || \"\",\n  contractEndDate: props.values.contractEndDate || \"\",\n  notes: props.values.notes || \"\",\n});\n\nconst showContactSection = ref(Boolean(form.primaryEmail || form.mobilePhone));\nconst showContractSection = ref(Boolean(form.hireDate || form.contractEndDate || form.notes));\n\nconst serverErrors = computed(() => props.errors || []);\nconst submitLabel = computed(() => (props.isEditMode ? \"Save changes\" : \"Create record\"));\n\nconst touched = reactive({\n  firstName: false,\n  lastName: false,\n  staffTypeId: false,\n  employmentStatusId: false,\n});\n\nconst inlineErrors = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  staffTypeId: \"\",\n  employmentStatusId: \"\",\n});\n\nfunction validateField(field) {\n  let message = \"\";\n  if (field === \"firstName\" && !form.firstName.trim()) {\n    message = \"First name is required.\";\n  }\n  if (field === \"lastName\" && !form.lastName.trim()) {\n    message = \"Last name is required.\";\n  }\n  if (field === \"staffTypeId\" && !form.staffTypeId) {\n    message = \"Staff type is required.\";\n  }\n  if (field === \"employmentStatusId\" && !form.employmentStatusId) {\n    message = \"Employment status is required.\";\n  }\n  inlineErrors[field] = message;\n  return !message;\n}\n\nfunction markTouched(field) {\n  touched[field] = true;\n  validateField(field);\n}\n\nwatch(\n  () => form.firstName,\n  () => {\n    if (touched.firstName) {\n      validateField(\"firstName\");\n    }\n  },\n);\n\nwatch(\n  () => form.lastName,\n  () => {\n    if (touched.lastName) {\n      validateField(\"lastName\");\n    }\n  },\n);\n\nwatch(\n  () => form.staffTypeId,\n  () => {\n    if (touched.staffTypeId) {\n      validateField(\"staffTypeId\");\n    }\n  },\n);\n\nwatch(\n  () => form.employmentStatusId,\n  () => {\n    if (touched.employmentStatusId) {\n      validateField(\"employmentStatusId\");\n    }\n  },\n);\n\nwatch(showContactSection, (value) => {\n  if (!value) {\n    form.primaryEmail = \"\";\n    form.mobilePhone = \"\";\n  }\n});\n\nwatch(showContractSection, (value) => {\n  if (!value) {\n    form.hireDate = \"\";\n    form.contractEndDate = \"\";\n    form.notes = \"\";\n  }\n});\n\nfunction focusFirstError() {\n  const field = Object.keys(inlineErrors).find((key) => inlineErrors[key]);\n  if (!field) {\n    return;\n  }\n  const el = formRef.value?.querySelector?.(`[name=\"${field}\"]`);\n  if (el) {\n    el.focus();\n  }\n}\n\nfunction handleSubmit() {\n  touched.firstName = true;\n  touched.lastName = true;\n  touched.staffTypeId = true;\n  touched.employmentStatusId = true;\n\n  const validFirst = validateField(\"firstName\");\n  const validLast = validateField(\"lastName\");\n  const validStaffType = validateField(\"staffTypeId\");\n  const validEmployment = validateField(\"employmentStatusId\");\n\n  if (!validFirst || !validLast || !validStaffType || !validEmployment) {\n    focusFirstError();\n    return;\n  }\n\n  formRef.value?.submit();\n}\n</script>\n\n<style scoped>\n.card--form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.alert {\n  border-radius: 0.75rem;\n  padding: 1rem 1.25rem;\n}\n\n.form__fieldset {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.form__grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));\n  gap: 1rem;\n}\n\n.form__grid--secondary {\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n}\n\n.form__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n\n.form__field input,\n.form__field select,\n.form__field textarea {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.5rem 0.65rem;\n  font: inherit;\n}\n\n.form__field--error input,\n.form__field--error select {\n  border-color: #dc2626;\n  box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.1);\n}\n\n.form__hint {\n  color: #dc2626;\n  font-size: 0.8rem;\n}\n\n.toggle {\n  margin-top: 0.25rem;\n}\n\n.toggle label {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.form__actions {\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: all 0.2s ease;\n}\n\n.slide-enter-from,\n.slide-leave-to {\n  opacity: 0;\n  transform: translateY(-0.5rem);\n}\n</style>\n","<template>\n  <section class=\"card card--detail\">\n    <header class=\"card__header\">\n      <sq-avatar-badge :name=\"fullName\" :subtitle=\"staffTypeName\"></sq-avatar-badge>\n      <div class=\"card__actions\">\n        <a :href=\"`/teachers/${teacher.id}/edit`\" class=\"btn\">Edit</a>\n        <form\n          class=\"form form--inline\"\n          :action=\"`/teachers/${teacher.id}/delete`\"\n          method=\"post\"\n          @submit.prevent=\"confirmDelete($event)\"\n        >\n          <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n          <button type=\"submit\" class=\"btn btn--danger\">Delete</button>\n        </form>\n        <a href=\"/teachers\" class=\"btn btn--link\">Back to list</a>\n      </div>\n    </header>\n\n    <section class=\"detail-grid\">\n      <article class=\"detail-card\">\n        <h2>Employment overview</h2>\n        <dl>\n          <div>\n            <dt>Staff type</dt>\n            <dd>{{ staffTypeName }}</dd>\n          </div>\n          <div>\n            <dt>Status</dt>\n            <dd>{{ statusName }}</dd>\n          </div>\n          <div>\n            <dt>Employee number</dt>\n            <dd>{{ teacher.employeeNumber || \"—\" }}</dd>\n          </div>\n          <div>\n            <dt>Primary subject</dt>\n            <dd>{{ teacher.primarySubject || \"—\" }}</dd>\n          </div>\n          <div>\n            <dt>Hire date</dt>\n            <dd>{{ formatDate(teacher.hireDate) }}</dd>\n          </div>\n          <div>\n            <dt>Contract end</dt>\n            <dd>{{ formatDate(teacher.contractEndDate) }}</dd>\n          </div>\n        </dl>\n        <button type=\"button\" class=\"btn btn--ghost\" @click=\"showContactModal = true\">\n          View contact details\n        </button>\n      </article>\n      <article class=\"detail-card\">\n        <h2>Personal notes</h2>\n        <p v-if=\"teacher.notes\" class=\"detail-notes\">{{ teacher.notes }}</p>\n        <p v-else class=\"detail-empty\">No additional notes available.</p>\n        <ul class=\"detail-meta\">\n          <li>\n            <strong>Preferred name</strong>\n            <span>{{ teacher.person.preferredName || \"—\" }}</span>\n          </li>\n          <li>\n            <strong>Date of birth</strong>\n            <span>{{ formatDate(teacher.person.dateOfBirth) }}</span>\n          </li>\n          <li>\n            <strong>Gender</strong>\n            <span>{{ teacher.person.gender?.name || \"—\" }}</span>\n          </li>\n        </ul>\n      </article>\n    </section>\n  </section>\n\n  <sq-modal :open=\"showContactModal\" heading=\"Contact details\" @close=\"closeModal\">\n    <dl class=\"contact-list\">\n      <div>\n        <dt>Primary email</dt>\n        <dd>{{ teacher.person.primaryEmail || \"—\" }}</dd>\n      </div>\n      <div>\n        <dt>Mobile phone</dt>\n        <dd>{{ teacher.person.mobilePhone || \"—\" }}</dd>\n      </div>\n    </dl>\n    <div slot=\"footer\">\n      <button type=\"button\" class=\"btn\" @click=\"closeModal\">Close</button>\n    </div>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  teacher: { type: Object, required: true },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst teacher = props.teacher;\nconst csrfToken = props.csrfToken;\nconst showContactModal = ref(false);\n\nconst fullName = computed(\n  () => `${teacher.person.firstName} ${teacher.person.lastName}`.trim(),\n);\nconst staffTypeName = computed(() => teacher.staffType?.name || \"—\");\nconst statusName = computed(() => teacher.employmentStatus?.name || \"—\");\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction closeModal() {\n  showContactModal.value = false;\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this record?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card--detail {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.card__actions {\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n\n.detail-grid {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));\n}\n\n.detail-card {\n  background: #f8fafc;\n  border-radius: 0.75rem;\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.detail-card h2 {\n  margin: 0;\n  font-size: 1.1rem;\n}\n\n.detail-card dl {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.detail-card dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.detail-card dd {\n  margin: 0;\n  color: #475569;\n}\n\n.detail-notes {\n  margin: 0;\n  white-space: pre-wrap;\n}\n\n.detail-empty {\n  margin: 0;\n  color: #94a3b8;\n}\n\n.detail-meta {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  gap: 0.5rem;\n}\n\n.detail-meta li {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.detail-meta strong {\n  color: #0f172a;\n}\n\n.contact-list {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.contact-list dt {\n  font-weight: 600;\n}\n\n.contact-list dd {\n  margin: 0;\n}\n</style>\n","import { createApp } from \"vue\";\nimport TeacherListApp from \"./components/TeacherListApp.vue\";\nimport TeacherFormApp from \"./components/TeacherFormApp.vue\";\nimport TeacherDetailApp from \"./components/TeacherDetailApp.vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  TeacherListApp,\n  TeacherFormApp,\n  TeacherDetailApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const el = document.getElementById(stateId);\n  if (!el) {\n    return {};\n  }\n  try {\n    return JSON.parse(el.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\ndocument\n  .querySelectorAll('[data-vue-app^=\"Teacher\"]')\n  .forEach((el) => mountComponent(el));\n"],"names":["props","__props","searchTerm","ref","staffTypeFilter","statusFilter","showOnlyActive","selectedTeacher","staffTypes","computed","_a","employmentStatuses","activeEmploymentIds","status","normalize","value","matchesSearch","teacher","term","field","matchesStaffType","matchesStatus","matchesActive","filteredTeachers","hasResults","resetFilters","openSummary","reactive","closeSummary","formatDate","date","confirmDelete","event","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_26","_createElementVNode","_cache","_toDisplayString","$setup","_hoisted_4","$event","_createElementBlock","_Fragment","_renderList","type","_hoisted_7","_hoisted_9","_openBlock","_hoisted_11","_hoisted_14","_b","_hoisted_19","_hoisted_20","_withModifiers","$props","_hoisted_23","_hoisted_27","_hoisted_28","formRef","form","showContactSection","showContractSection","serverErrors","submitLabel","touched","inlineErrors","validateField","message","markTouched","watch","focusFirstError","key","el","handleSubmit","validFirst","validLast","validStaffType","validEmployment","_hoisted_21","_hoisted_22","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_36","error","_normalizeClass","gender","_vModelSelect","_createVNode","_Transition","_hoisted_24","_hoisted_25","_hoisted_30","_hoisted_37","csrfToken","showContactModal","fullName","staffTypeName","statusName","closeModal","COMPONENTS","TeacherListApp","TeacherFormApp","TeacherDetailApp","readState","stateId","mountComponent","componentName","Component","createApp"],"mappings":"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"}