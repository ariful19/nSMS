{"version":3,"file":"students.js","sources":["../../client/students/components/StudentListApp.vue","../../client/students/components/StudentFormApp.vue","../../client/students/components/StudentDetailApp.vue","../../client/students/main.js"],"sourcesContent":["<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Students</h1>\n        <p class=\"card__subtitle\">\n          <strong>{{ filteredStudents.length }}</strong>\n          {{ filteredStudents.length === 1 ? \"record\" : \"records\" }} match your filters\n        </p>\n      </div>\n      <div class=\"card__actions\">\n        <a class=\"btn\" href=\"/students/create\">Add student</a>\n        <a class=\"btn btn--ghost\" href=\"/students\">Clear search</a>\n      </div>\n    </header>\n\n    <form class=\"filters\" method=\"get\" action=\"/students\" novalidate>\n      <label class=\"filters__field\">\n        <span>Search</span>\n        <input\n          v-model=\"searchTerm\"\n          type=\"search\"\n          name=\"search\"\n          placeholder=\"Name or student number\"\n        />\n      </label>\n      <label class=\"filters__field\">\n        <span>Status</span>\n        <select v-model=\"statusFilter\">\n          <option value=\"all\">All statuses</option>\n          <option\n            v-for=\"status in statusOptions\"\n            :key=\"status.id\"\n            :value=\"String(status.id)\"\n          >\n            {{ status.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__field\">\n        <span>Grade</span>\n        <select v-model=\"gradeFilter\">\n          <option value=\"all\">All grades</option>\n          <option\n            v-for=\"grade in gradeOptions\"\n            :key=\"grade.id\"\n            :value=\"String(grade.id)\"\n          >\n            {{ grade.name }}\n          </option>\n        </select>\n      </label>\n      <label class=\"filters__checkbox\">\n        <input type=\"checkbox\" v-model=\"showOnlyActive\" />\n        <span>Show active enrollment only</span>\n      </label>\n      <button type=\"submit\" class=\"btn btn--ghost filters__submit\">\n        Apply on server\n      </button>\n      <button type=\"button\" class=\"btn btn--link filters__submit\" @click=\"resetFilters\">\n        Reset filters\n      </button>\n    </form>\n\n    <div v-if=\"hasResults\" class=\"table-responsive\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Status</th>\n            <th scope=\"col\">Grade</th>\n            <th scope=\"col\">Student #</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"student in filteredStudents\" :key=\"student.id\">\n            <td data-title=\"Name\">\n              <button type=\"button\" class=\"table__link\" @click=\"openSummary(student)\">\n                {{ student.person.firstName }} {{ student.person.lastName }}\n              </button>\n            </td>\n            <td data-title=\"Status\">\n              {{ student.enrollmentStatus?.name ?? \"—\" }}\n            </td>\n            <td data-title=\"Grade\">\n              {{ student.gradeLevel?.name ?? \"—\" }}\n            </td>\n            <td data-title=\"Student #\">\n              {{ student.studentNumber || \"—\" }}\n            </td>\n            <td class=\"table__actions\">\n              <a :href=\"`/students/${student.id}`\" class=\"btn btn--small btn--ghost\">View</a>\n              <a :href=\"`/students/${student.id}/edit`\" class=\"btn btn--small\">Edit</a>\n              <form\n                class=\"form form--inline\"\n                :action=\"`/students/${student.id}/delete`\"\n                method=\"post\"\n                @submit.prevent=\"confirmDelete($event)\"\n              >\n                <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n                <button type=\"submit\" class=\"btn btn--small btn--danger\">Delete</button>\n              </form>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <p v-else class=\"table__empty\">\n      No students match your filters. Try adjusting them above.\n    </p>\n  </section>\n\n  <sq-modal :open=\"Boolean(selectedStudent)\" heading=\"Student summary\" @close=\"closeSummary\">\n    <template v-if=\"selectedStudent\">\n      <sq-avatar-badge\n        :name=\"`${selectedStudent.person.firstName} ${selectedStudent.person.lastName}`\"\n        :subtitle=\"selectedStudent.enrollmentStatus?.name || 'Student'\"\n      ></sq-avatar-badge>\n      <dl class=\"summary\">\n        <div>\n          <dt>Grade</dt>\n          <dd>{{ selectedStudent.gradeLevel?.name ?? \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Student number</dt>\n          <dd>{{ selectedStudent.studentNumber || \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Admission date</dt>\n          <dd>{{ formatDate(selectedStudent.admissionDate) }}</dd>\n        </div>\n        <div>\n          <dt>Primary email</dt>\n          <dd>{{ selectedStudent.person.primaryEmail || \"—\" }}</dd>\n        </div>\n        <div>\n          <dt>Mobile phone</dt>\n          <dd>{{ selectedStudent.person.mobilePhone || \"—\" }}</dd>\n        </div>\n      </dl>\n      <div slot=\"footer\" class=\"modal-footer\">\n        <a :href=\"`/students/${selectedStudent.id}`\" class=\"btn btn--primary\">Open profile</a>\n        <button type=\"button\" class=\"btn\" @click=\"closeSummary\">Close</button>\n      </div>\n    </template>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  students: { type: Array, default: () => [] },\n  search: { type: String, default: \"\" },\n  lookups: {\n    type: Object,\n    default: () => ({ statuses: [], gradeLevels: [] }),\n  },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst searchTerm = ref(props.search ?? \"\");\nconst statusFilter = ref(\"all\");\nconst gradeFilter = ref(\"all\");\nconst showOnlyActive = ref(false);\nconst selectedStudent = ref(null);\n\nconst statusOptions = computed(() => props.lookups?.statuses ?? []);\nconst gradeOptions = computed(() => props.lookups?.gradeLevels ?? []);\n\nconst activeStatusIds = computed(() =>\n  new Set(\n    (props.lookups?.statuses ?? [])\n      .filter((status) => status.isActive !== false)\n      .map((status) => String(status.id)),\n  ),\n);\n\nfunction normalize(text) {\n  return (text || \"\").toString().toLowerCase();\n}\n\nfunction matchesSearch(student) {\n  const term = normalize(searchTerm.value);\n  if (!term) {\n    return true;\n  }\n  const fields = [\n    `${student.person.firstName} ${student.person.lastName}`,\n    student.studentNumber,\n    student.enrollmentStatus?.name,\n  ];\n  return fields.some((value) => normalize(value).includes(term));\n}\n\nfunction matchesStatus(student) {\n  if (statusFilter.value === \"all\") {\n    return true;\n  }\n  return String(student.enrollmentStatusId ?? \"\") === statusFilter.value;\n}\n\nfunction matchesGrade(student) {\n  if (gradeFilter.value === \"all\") {\n    return true;\n  }\n  return String(student.gradeLevelId ?? \"\") === gradeFilter.value;\n}\n\nfunction matchesActive(student) {\n  if (!showOnlyActive.value) {\n    return true;\n  }\n  const statusId = String(student.enrollmentStatusId ?? \"\");\n  return activeStatusIds.value.has(statusId);\n}\n\nconst filteredStudents = computed(() =>\n  props.students.filter(\n    (student) =>\n      matchesSearch(student) &&\n      matchesStatus(student) &&\n      matchesGrade(student) &&\n      matchesActive(student),\n  ),\n);\n\nconst hasResults = computed(() => filteredStudents.value.length > 0);\n\nfunction resetFilters() {\n  searchTerm.value = \"\";\n  statusFilter.value = \"all\";\n  gradeFilter.value = \"all\";\n  showOnlyActive.value = false;\n}\n\nfunction openSummary(student) {\n  selectedStudent.value = reactive(student);\n}\n\nfunction closeSummary() {\n  selectedStudent.value = null;\n}\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this student?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.card__title {\n  margin: 0;\n}\n\n.card__actions {\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n}\n\n.filters {\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n  align-items: end;\n}\n\n.filters__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.filters__field input,\n.filters__field select {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.45rem 0.65rem;\n  font: inherit;\n}\n\n.filters__checkbox {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.filters__submit {\n  justify-self: flex-start;\n}\n\n.table__link {\n  background: none;\n  border: none;\n  padding: 0;\n  color: #2563eb;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.summary {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));\n  gap: 0.75rem 1rem;\n  margin: 1.25rem 0;\n}\n\n.summary dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.summary dd {\n  margin: 0;\n  color: #475569;\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n}\n\n.table__empty {\n  text-align: center;\n  color: #475569;\n  margin: 0;\n  padding: 1rem 0;\n}\n</style>\n","<template>\n  <section class=\"card card--form\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">{{ isEditMode ? \"Edit student\" : \"Add student\" }}</h1>\n        <p class=\"card__subtitle\">\n          Complete the required personal and enrollment information.\n        </p>\n      </div>\n      <a class=\"btn btn--ghost\" href=\"/students\">Back to list</a>\n    </header>\n\n    <div v-if=\"serverErrors.length\" class=\"alert alert--danger\" role=\"alert\">\n      <p><strong>We ran into a few issues:</strong></p>\n      <ul>\n        <li v-for=\"error in serverErrors\" :key=\"error\">{{ error }}</li>\n      </ul>\n    </div>\n\n    <form ref=\"formRef\" method=\"post\" :action=\"formAction\" class=\"form\" @submit.prevent=\"handleSubmit\">\n      <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Personal information</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.firstName }\">\n            <span class=\"form__label\">First name *</span>\n            <input\n              v-model.trim=\"form.firstName\"\n              name=\"firstName\"\n              type=\"text\"\n              autocomplete=\"given-name\"\n              @blur=\"markTouched('firstName')\"\n              required\n            />\n            <span v-if=\"inlineErrors.firstName\" class=\"form__hint\">{{ inlineErrors.firstName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Middle name</span>\n            <input v-model.trim=\"form.middleName\" name=\"middleName\" type=\"text\" autocomplete=\"additional-name\" />\n          </label>\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.lastName }\">\n            <span class=\"form__label\">Last name *</span>\n            <input\n              v-model.trim=\"form.lastName\"\n              name=\"lastName\"\n              type=\"text\"\n              autocomplete=\"family-name\"\n              @blur=\"markTouched('lastName')\"\n              required\n            />\n            <span v-if=\"inlineErrors.lastName\" class=\"form__hint\">{{ inlineErrors.lastName }}</span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Preferred name</span>\n            <input v-model.trim=\"form.preferredName\" name=\"preferredName\" type=\"text\" autocomplete=\"nickname\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Date of birth</span>\n            <sq-date-picker\n              name=\"dateOfBirth\"\n              :value=\"form.dateOfBirth\"\n              label=\"\"\n              @value-change=\"(value) => (form.dateOfBirth = value)\"\n            ></sq-date-picker>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Gender</span>\n            <select v-model=\"form.genderId\" name=\"genderId\">\n              <option value=\"\">Select gender</option>\n              <option v-for=\"gender in lookups.genders\" :key=\"gender.id\" :value=\"String(gender.id)\">\n                {{ gender.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showContactSection\" />\n            <span>Collect contact details</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showContactSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Primary email</span>\n              <input v-model.trim=\"form.primaryEmail\" name=\"primaryEmail\" type=\"email\" autocomplete=\"email\" />\n            </label>\n            <label class=\"form__field\">\n              <span class=\"form__label\">Mobile phone</span>\n              <input v-model.trim=\"form.mobilePhone\" name=\"mobilePhone\" type=\"tel\" autocomplete=\"tel\" />\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <fieldset class=\"form__fieldset\">\n        <legend class=\"form__legend\">Enrollment details</legend>\n        <div class=\"form__grid\">\n          <label class=\"form__field\" :class=\"{ 'form__field--error': inlineErrors.enrollmentStatusId }\">\n            <span class=\"form__label\">Enrollment status *</span>\n            <select\n              v-model=\"form.enrollmentStatusId\"\n              name=\"enrollmentStatusId\"\n              @blur=\"markTouched('enrollmentStatusId')\"\n              required\n            >\n              <option value=\"\">Select status</option>\n              <option v-for=\"status in lookups.statuses\" :key=\"status.id\" :value=\"String(status.id)\">\n                {{ status.name }}\n              </option>\n            </select>\n            <span v-if=\"inlineErrors.enrollmentStatusId\" class=\"form__hint\">\n              {{ inlineErrors.enrollmentStatusId }}\n            </span>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Grade level</span>\n            <select v-model=\"form.gradeLevelId\" name=\"gradeLevelId\">\n              <option value=\"\">Select grade</option>\n              <option v-for=\"grade in lookups.gradeLevels\" :key=\"grade.id\" :value=\"String(grade.id)\">\n                {{ grade.name }}\n              </option>\n            </select>\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Student number</span>\n            <input v-model.trim=\"form.studentNumber\" name=\"studentNumber\" type=\"text\" autocomplete=\"off\" />\n          </label>\n          <label class=\"form__field\">\n            <span class=\"form__label\">Admission date</span>\n            <sq-date-picker\n              name=\"admissionDate\"\n              :value=\"form.admissionDate\"\n              label=\"\"\n              @value-change=\"(value) => (form.admissionDate = value)\"\n            ></sq-date-picker>\n          </label>\n        </div>\n\n        <div class=\"toggle\">\n          <label>\n            <input type=\"checkbox\" v-model=\"showGraduationSection\" />\n            <span>Track graduation planning</span>\n          </label>\n        </div>\n        <transition name=\"slide\">\n          <div v-if=\"showGraduationSection\" class=\"form__grid form__grid--secondary\">\n            <label class=\"form__field\">\n              <span class=\"form__label\">Graduation date</span>\n              <sq-date-picker\n                name=\"graduationDate\"\n                :value=\"form.graduationDate\"\n                label=\"\"\n                @value-change=\"(value) => (form.graduationDate = value)\"\n              ></sq-date-picker>\n            </label>\n            <label class=\"form__field form__field--full\">\n              <span class=\"form__label\">Notes</span>\n              <textarea v-model.trim=\"form.notes\" name=\"notes\" rows=\"4\"></textarea>\n            </label>\n          </div>\n        </transition>\n      </fieldset>\n\n      <div class=\"form__actions\">\n        <button type=\"submit\" class=\"btn btn--primary\">{{ submitLabel }}</button>\n        <a class=\"btn btn--link\" href=\"/students\">Cancel</a>\n      </div>\n    </form>\n  </section>\n</template>\n\n<script setup>\nimport { computed, reactive, ref, watch } from \"vue\";\n\nconst props = defineProps({\n  lookups: {\n    type: Object,\n    default: () => ({ genders: [], statuses: [], gradeLevels: [] }),\n  },\n  values: {\n    type: Object,\n    default: () => ({}),\n  },\n  errors: {\n    type: Array,\n    default: () => [],\n  },\n  isEditMode: { type: Boolean, default: false },\n  studentId: { type: Number, default: null },\n  csrfToken: { type: String, default: \"\" },\n  formAction: { type: String, default: \"/students/create\" },\n});\n\nconst formRef = ref(null);\n\nconst form = reactive({\n  firstName: props.values.firstName || \"\",\n  middleName: props.values.middleName || \"\",\n  lastName: props.values.lastName || \"\",\n  preferredName: props.values.preferredName || \"\",\n  dateOfBirth: props.values.dateOfBirth || \"\",\n  genderId: props.values.genderId ? String(props.values.genderId) : \"\",\n  primaryEmail: props.values.primaryEmail || \"\",\n  mobilePhone: props.values.mobilePhone || \"\",\n  enrollmentStatusId: props.values.enrollmentStatusId ? String(props.values.enrollmentStatusId) : \"\",\n  gradeLevelId: props.values.gradeLevelId ? String(props.values.gradeLevelId) : \"\",\n  studentNumber: props.values.studentNumber || \"\",\n  admissionDate: props.values.admissionDate || \"\",\n  graduationDate: props.values.graduationDate || \"\",\n  notes: props.values.notes || \"\",\n});\n\nconst showContactSection = ref(Boolean(form.primaryEmail || form.mobilePhone));\nconst showGraduationSection = ref(Boolean(form.graduationDate || form.notes));\n\nconst serverErrors = computed(() => props.errors || []);\n\nconst touched = reactive({\n  firstName: false,\n  lastName: false,\n  enrollmentStatusId: false,\n});\n\nconst inlineErrors = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  enrollmentStatusId: \"\",\n});\n\nconst submitLabel = computed(() => (props.isEditMode ? \"Save changes\" : \"Create student\"));\n\nfunction validateField(field) {\n  let message = \"\";\n  if (field === \"firstName\" && !form.firstName.trim()) {\n    message = \"First name is required.\";\n  }\n  if (field === \"lastName\" && !form.lastName.trim()) {\n    message = \"Last name is required.\";\n  }\n  if (field === \"enrollmentStatusId\" && !form.enrollmentStatusId) {\n    message = \"Enrollment status is required.\";\n  }\n  inlineErrors[field] = message;\n  return !message;\n}\n\nfunction markTouched(field) {\n  touched[field] = true;\n  validateField(field);\n}\n\nwatch(\n  () => form.firstName,\n  () => {\n    if (touched.firstName) {\n      validateField(\"firstName\");\n    }\n  },\n);\n\nwatch(\n  () => form.lastName,\n  () => {\n    if (touched.lastName) {\n      validateField(\"lastName\");\n    }\n  },\n);\n\nwatch(\n  () => form.enrollmentStatusId,\n  () => {\n    if (touched.enrollmentStatusId) {\n      validateField(\"enrollmentStatusId\");\n    }\n  },\n);\n\nwatch(showContactSection, (value) => {\n  if (!value) {\n    form.primaryEmail = \"\";\n    form.mobilePhone = \"\";\n  }\n});\n\nwatch(showGraduationSection, (value) => {\n  if (!value) {\n    form.graduationDate = \"\";\n    form.notes = \"\";\n  }\n});\n\nfunction focusFirstError() {\n  const field = Object.keys(inlineErrors).find((key) => inlineErrors[key]);\n  if (!field) {\n    return;\n  }\n  const el = formRef.value?.querySelector?.(`[name=\"${field}\"]`);\n  if (el) {\n    el.focus();\n  }\n}\n\nfunction handleSubmit() {\n  touched.firstName = true;\n  touched.lastName = true;\n  touched.enrollmentStatusId = true;\n\n  const firstValid = validateField(\"firstName\");\n  const lastValid = validateField(\"lastName\");\n  const statusValid = validateField(\"enrollmentStatusId\");\n\n  if (!firstValid || !lastValid || !statusValid) {\n    focusFirstError();\n    return;\n  }\n\n  formRef.value?.submit();\n}\n</script>\n\n<style scoped>\n.card--form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.alert {\n  border-radius: 0.75rem;\n  padding: 1rem 1.25rem;\n}\n\n.form__fieldset {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.form__grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));\n  gap: 1rem;\n}\n\n.form__grid--secondary {\n  grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));\n}\n\n.form__field {\n  display: flex;\n  flex-direction: column;\n  gap: 0.4rem;\n}\n\n.form__field input,\n.form__field select,\n.form__field textarea {\n  border: 1px solid rgba(15, 23, 42, 0.2);\n  border-radius: 0.5rem;\n  padding: 0.5rem 0.65rem;\n  font: inherit;\n}\n\n.form__field--error input,\n.form__field--error select {\n  border-color: #dc2626;\n  box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.1);\n}\n\n.form__hint {\n  color: #dc2626;\n  font-size: 0.8rem;\n}\n\n.toggle {\n  margin-top: 0.25rem;\n}\n\n.toggle label {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.form__actions {\n  display: flex;\n  gap: 0.75rem;\n  justify-content: flex-end;\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: all 0.2s ease;\n}\n\n.slide-enter-from,\n.slide-leave-to {\n  opacity: 0;\n  transform: translateY(-0.5rem);\n}\n</style>\n","<template>\n  <section class=\"card card--detail\">\n    <header class=\"card__header\">\n      <sq-avatar-badge :name=\"fullName\" :subtitle=\"statusName\"></sq-avatar-badge>\n      <div class=\"card__actions\">\n        <a :href=\"`/students/${student.id}/edit`\" class=\"btn\">Edit</a>\n        <form\n          class=\"form form--inline\"\n          :action=\"`/students/${student.id}/delete`\"\n          method=\"post\"\n          @submit.prevent=\"confirmDelete($event)\"\n        >\n          <input type=\"hidden\" name=\"_csrf\" :value=\"csrfToken\" />\n          <button type=\"submit\" class=\"btn btn--danger\">Delete</button>\n        </form>\n        <a href=\"/students\" class=\"btn btn--link\">Back to list</a>\n      </div>\n    </header>\n\n    <section class=\"detail-grid\">\n      <article class=\"detail-card\">\n        <h2>Enrollment overview</h2>\n        <dl>\n          <div>\n            <dt>Status</dt>\n            <dd>{{ statusName }}</dd>\n          </div>\n          <div>\n            <dt>Grade level</dt>\n            <dd>{{ gradeName }}</dd>\n          </div>\n          <div>\n            <dt>Student number</dt>\n            <dd>{{ student.studentNumber || \"—\" }}</dd>\n          </div>\n          <div>\n            <dt>Admission date</dt>\n            <dd>{{ formatDate(student.admissionDate) }}</dd>\n          </div>\n          <div>\n            <dt>Graduation date</dt>\n            <dd>{{ formatDate(student.graduationDate) }}</dd>\n          </div>\n        </dl>\n        <button type=\"button\" class=\"btn btn--ghost\" @click=\"showContactModal = true\">\n          View contact details\n        </button>\n      </article>\n      <article class=\"detail-card\">\n        <h2>Personal notes</h2>\n        <p v-if=\"student.notes\" class=\"detail-notes\">{{ student.notes }}</p>\n        <p v-else class=\"detail-empty\">No additional notes available.</p>\n        <ul class=\"detail-meta\">\n          <li>\n            <strong>Preferred name</strong>\n            <span>{{ student.person.preferredName || \"—\" }}</span>\n          </li>\n          <li>\n            <strong>Date of birth</strong>\n            <span>{{ formatDate(student.person.dateOfBirth) }}</span>\n          </li>\n          <li>\n            <strong>Gender</strong>\n            <span>{{ student.person.gender?.name || \"—\" }}</span>\n          </li>\n        </ul>\n      </article>\n    </section>\n  </section>\n\n  <sq-modal :open=\"showContactModal\" heading=\"Contact details\" @close=\"closeModal\">\n    <dl class=\"contact-list\">\n      <div>\n        <dt>Primary email</dt>\n        <dd>{{ student.person.primaryEmail || \"—\" }}</dd>\n      </div>\n      <div>\n        <dt>Mobile phone</dt>\n        <dd>{{ student.person.mobilePhone || \"—\" }}</dd>\n      </div>\n    </dl>\n    <div slot=\"footer\">\n      <button type=\"button\" class=\"btn\" @click=\"closeModal\">Close</button>\n    </div>\n  </sq-modal>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  student: { type: Object, required: true },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst student = props.student;\nconst csrfToken = props.csrfToken;\n\nconst showContactModal = ref(false);\n\nconst fullName = computed(\n  () => `${student.person.firstName} ${student.person.lastName}`.trim(),\n);\nconst statusName = computed(() => student.enrollmentStatus?.name || \"—\");\nconst gradeName = computed(() => student.gradeLevel?.name || \"—\");\n\nfunction formatDate(value) {\n  if (!value) {\n    return \"—\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"—\";\n  }\n  return date.toLocaleDateString();\n}\n\nfunction closeModal() {\n  showContactModal.value = false;\n}\n\nfunction confirmDelete(event) {\n  if (window.confirm(\"Delete this student?\")) {\n    event.target.submit();\n  }\n}\n</script>\n\n<style scoped>\n.card--detail {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.card__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.card__actions {\n  display: flex;\n  gap: 0.75rem;\n  flex-wrap: wrap;\n}\n\n.detail-grid {\n  display: grid;\n  gap: 1.5rem;\n  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));\n}\n\n.detail-card {\n  background: #f8fafc;\n  border-radius: 0.75rem;\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.detail-card h2 {\n  margin: 0;\n  font-size: 1.1rem;\n}\n\n.detail-card dl {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.detail-card dt {\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.detail-card dd {\n  margin: 0;\n  color: #475569;\n}\n\n.detail-notes {\n  margin: 0;\n  white-space: pre-wrap;\n}\n\n.detail-empty {\n  margin: 0;\n  color: #94a3b8;\n}\n\n.detail-meta {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  gap: 0.5rem;\n}\n\n.detail-meta li {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.detail-meta strong {\n  color: #0f172a;\n}\n\n.contact-list {\n  display: grid;\n  gap: 0.75rem;\n  margin: 0;\n}\n\n.contact-list dt {\n  font-weight: 600;\n}\n\n.contact-list dd {\n  margin: 0;\n}\n</style>\n","import { createApp } from \"vue\";\nimport StudentListApp from \"./components/StudentListApp.vue\";\nimport StudentFormApp from \"./components/StudentFormApp.vue\";\nimport StudentDetailApp from \"./components/StudentDetailApp.vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  StudentListApp,\n  StudentFormApp,\n  StudentDetailApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const el = document.getElementById(stateId);\n  if (!el) {\n    return {};\n  }\n  try {\n    return JSON.parse(el.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\ndocument\n  .querySelectorAll('[data-vue-app^=\"Student\"]')\n  .forEach((el) => mountComponent(el));\n"],"names":["props","__props","searchTerm","ref","statusFilter","gradeFilter","showOnlyActive","selectedStudent","statusOptions","computed","_a","gradeOptions","activeStatusIds","status","normalize","text","matchesSearch","student","term","value","matchesStatus","matchesGrade","matchesActive","statusId","filteredStudents","hasResults","resetFilters","openSummary","reactive","closeSummary","formatDate","date","confirmDelete","event","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_26","_createElementVNode","_cache","_toDisplayString","$setup","_createTextVNode","_hoisted_4","$event","_createElementBlock","_Fragment","_renderList","_hoisted_7","grade","_hoisted_9","_openBlock","_hoisted_11","_hoisted_14","_b","_hoisted_19","_hoisted_20","_withModifiers","$props","_hoisted_23","_hoisted_27","_hoisted_28","formRef","form","showContactSection","showGraduationSection","serverErrors","touched","inlineErrors","submitLabel","validateField","field","message","markTouched","watch","focusFirstError","key","el","handleSubmit","firstValid","lastValid","statusValid","_hoisted_21","_hoisted_22","_hoisted_25","_hoisted_30","_hoisted_32","_hoisted_34","_hoisted_35","error","_normalizeClass","gender","_vModelSelect","_createVNode","_Transition","_hoisted_24","_hoisted_31","_hoisted_36","csrfToken","showContactModal","fullName","statusName","gradeName","closeModal","COMPONENTS","StudentListApp","StudentFormApp","StudentDetailApp","readState","stateId","mountComponent","componentName","Component","createApp"],"mappings":"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"}