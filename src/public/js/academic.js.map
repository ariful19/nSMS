{"version":3,"file":"academic.js","sources":["../../client/academic/components/ClassManagementApp.vue","../../client/academic/components/ClassDetailApp.vue","../../client/academic/components/GradeEntryApp.vue","../../client/academic/components/GradeReportApp.vue","../../client/academic/main.js"],"sourcesContent":["<template>\n  <div class=\"academic-app\">\n    <section class=\"page-hero page-hero--compact\">\n      <div class=\"page-hero__content\">\n        <p class=\"page-hero__eyebrow\">Academic planning</p>\n        <h1 class=\"page-hero__title\">Classes &amp; Subjects</h1>\n        <p class=\"page-hero__subtitle\">\n          Create calm class rosters and curate your subject catalogue with confident clarity.\n        </p>\n      </div>\n      <dl class=\"page-hero__stats\">\n        <div class=\"page-hero__stat\">\n          <dt>Active classes</dt>\n          <dd>{{ activeClassCount }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Students managed</dt>\n          <dd>{{ totalStudents }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Subjects available</dt>\n          <dd>{{ activeSubjectCount }}</dd>\n        </div>\n      </dl>\n    </section>\n\n    <section class=\"grid grid--two-column\">\n      <article class=\"card card--interactive\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Classes</h2>\n            <p class=\"card__subtitle\">\n              {{ filteredClasses.length }} of {{ classes.length }} class{{ classes.length === 1 ? '' : 'es' }} in view\n            </p>\n          </div>\n          <div class=\"card__actions\">\n            <div class=\"toolbar\">\n              <div class=\"toolbar__search\">\n                <input\n                  v-model=\"classSearch\"\n                  type=\"search\"\n                  class=\"form__control\"\n                  placeholder=\"Search by name, code, grade or homeroom teacher\"\n                />\n              </div>\n              <div class=\"toolbar__actions\">\n                <label class=\"toggle\">\n                  <input type=\"checkbox\" v-model=\"showArchivedClasses\" />\n                  <span>Show archived</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <form class=\"form\" @submit.prevent=\"submitClassForm\" novalidate>\n          <div v-if=\"classErrors.length\" class=\"alert alert--danger\">\n            <p>Unable to save the class:</p>\n            <ul>\n              <li v-for=\"error in classErrors\" :key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n\n          <label class=\"form__group\">\n            <span>Name</span>\n            <input v-model.trim=\"classForm.name\" type=\"text\" required class=\"form__control\" placeholder=\"eg. Grade 5 - Maple\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Code</span>\n            <input v-model.trim=\"classForm.code\" type=\"text\" class=\"form__control\" placeholder=\"Optional short code\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Grade level</span>\n            <select v-model=\"classForm.gradeLevelId\" class=\"form__control\">\n              <option value=\"\">Select grade</option>\n              <option v-for=\"grade in lookups.gradeLevels\" :key=\"grade.id\" :value=\"String(grade.id)\">\n                {{ grade.name }}\n              </option>\n            </select>\n          </label>\n          <label class=\"form__group\">\n            <span>Homeroom teacher</span>\n            <select v-model=\"classForm.homeroomTeacherId\" class=\"form__control\">\n              <option value=\"\">Unassigned</option>\n              <option v-for=\"teacher in lookups.teachers\" :key=\"teacher.id\" :value=\"String(teacher.id)\">\n                {{ teacher.name }}\n              </option>\n            </select>\n          </label>\n          <div class=\"form__row\">\n            <label class=\"form__group\">\n              <span>Start date</span>\n              <input v-model=\"classForm.startDate\" type=\"date\" class=\"form__control\" />\n            </label>\n            <label class=\"form__group\">\n              <span>End date</span>\n              <input v-model=\"classForm.endDate\" type=\"date\" class=\"form__control\" />\n            </label>\n          </div>\n          <label class=\"form__group\">\n            <span>Description</span>\n            <textarea v-model.trim=\"classForm.description\" rows=\"2\" class=\"form__control\" placeholder=\"Share the class focus or schedule\"></textarea>\n          </label>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn\" :disabled=\"isSavingClass\">\n              {{ classEditingId ? \"Update class\" : \"Create class\" }}\n            </button>\n            <button v-if=\"classEditingId\" type=\"button\" class=\"btn btn--ghost\" @click=\"resetClassForm\">\n              Cancel edit\n            </button>\n            <button\n              v-if=\"isClassFilterActive\"\n              type=\"button\"\n              class=\"btn btn--ghost btn--small\"\n              @click=\"resetClassFilters\"\n            >\n              Clear filters\n            </button>\n          </div>\n        </form>\n\n        <div class=\"card__body\">\n          <div v-if=\"!filteredClasses.length\" class=\"empty-state\">\n            <p class=\"empty-state__title\">No classes match this view</p>\n            <p v-if=\"isClassFilterActive\">\n              Adjust the search or show archived records to discover more classes.\n            </p>\n            <p v-else>Add your first class to begin organising enrollments.</p>\n          </div>\n\n          <div v-else class=\"table-responsive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\">Grade</th>\n                  <th scope=\"col\">Students</th>\n                  <th scope=\"col\">Subjects</th>\n                  <th scope=\"col\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"classroom in filteredClasses\" :key=\"classroom.id\">\n                  <td data-title=\"Name\">\n                    <div class=\"table__title\">\n                      <a :href=\"`/classes/${classroom.id}`\">{{ classroom.name }}</a>\n                    </div>\n                    <div class=\"table__meta\">\n                      <span v-if=\"classroom.homeroomTeacher\" class=\"pill pill--soft\">\n                        Homeroom • {{ classroom.homeroomTeacher.name }}\n                      </span>\n                      <span v-if=\"classroom.code\" class=\"pill pill--soft\">Code • {{ classroom.code }}</span>\n                      <span v-if=\"classroom.isArchived\" class=\"badge badge--warning\">Archived</span>\n                    </div>\n                  </td>\n                  <td data-title=\"Grade\">\n                    {{ classroom.gradeLevel?.name ?? \"—\" }}\n                  </td>\n                  <td data-title=\"Students\">{{ classroom.studentCount }}</td>\n                  <td data-title=\"Subjects\">{{ classroom.subjectCount }}</td>\n                  <td class=\"table__actions\">\n                    <button type=\"button\" class=\"btn btn--small btn--ghost\" @click=\"beginClassEdit(classroom)\">\n                      Edit\n                    </button>\n                    <a class=\"btn btn--small\" :href=\"`/classes/${classroom.id}`\">Open</a>\n                    <button\n                      v-if=\"!classroom.isArchived\"\n                      type=\"button\"\n                      class=\"btn btn--small btn--danger\"\n                      @click=\"archiveClass(classroom)\"\n                    >\n                      Archive\n                    </button>\n                    <button\n                      v-else\n                      type=\"button\"\n                      class=\"btn btn--small\"\n                      @click=\"restoreClass(classroom)\"\n                    >\n                      Restore\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </article>\n\n      <article class=\"card card--interactive\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Subjects</h2>\n            <p class=\"card__subtitle\">\n              {{ visibleSubjects.length }} of {{ subjects.length }} subject{{ subjects.length === 1 ? '' : 's' }} in view\n            </p>\n          </div>\n          <div class=\"card__actions\">\n            <div class=\"toolbar\">\n              <div class=\"toolbar__search\">\n                <input\n                  v-model=\"subjectSearch\"\n                  type=\"search\"\n                  class=\"form__control\"\n                  placeholder=\"Search subjects by name or code\"\n                />\n              </div>\n              <div class=\"toolbar__actions\">\n                <label class=\"toggle\">\n                  <input type=\"checkbox\" v-model=\"showArchivedSubjects\" />\n                  <span>Show archived</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <form class=\"form\" @submit.prevent=\"submitSubjectForm\" novalidate>\n          <div v-if=\"subjectErrors.length\" class=\"alert alert--danger\">\n            <p>Unable to save the subject:</p>\n            <ul>\n              <li v-for=\"error in subjectErrors\" :key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n          <label class=\"form__group\">\n            <span>Name</span>\n            <input v-model.trim=\"subjectForm.name\" type=\"text\" required class=\"form__control\" placeholder=\"eg. Mathematics\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Code</span>\n            <input v-model.trim=\"subjectForm.code\" type=\"text\" class=\"form__control\" placeholder=\"Optional short code\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Description</span>\n            <textarea v-model.trim=\"subjectForm.description\" rows=\"2\" class=\"form__control\" placeholder=\"Add context or curriculum notes\"></textarea>\n          </label>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn\" :disabled=\"isSavingSubject\">\n              {{ subjectEditingId ? \"Update subject\" : \"Create subject\" }}\n            </button>\n            <button v-if=\"subjectEditingId\" type=\"button\" class=\"btn btn--ghost\" @click=\"resetSubjectForm\">\n              Cancel edit\n            </button>\n            <button\n              v-if=\"isSubjectFilterActive\"\n              type=\"button\"\n              class=\"btn btn--ghost btn--small\"\n              @click=\"resetSubjectFilters\"\n            >\n              Clear filters\n            </button>\n          </div>\n        </form>\n\n        <div class=\"card__body\">\n          <div v-if=\"!visibleSubjects.length\" class=\"empty-state\">\n            <p class=\"empty-state__title\">No subjects match this view</p>\n            <p v-if=\"isSubjectFilterActive\">\n              Refine your search or reveal archived subjects to broaden the catalogue.\n            </p>\n            <p v-else>Capture your first subject to build the curriculum.</p>\n          </div>\n\n          <ul v-else class=\"list\">\n            <li v-for=\"subject in visibleSubjects\" :key=\"subject.id\">\n              <div class=\"list__heading\">\n                <strong>{{ subject.name }}</strong>\n                <span v-if=\"subject.code\" class=\"badge badge--neutral\">{{ subject.code }}</span>\n                <span v-if=\"subject.isArchived\" class=\"badge badge--warning\">Archived</span>\n              </div>\n              <p v-if=\"subject.description\" class=\"list__description\">\n                {{ subject.description }}\n              </p>\n              <div class=\"list__meta\">\n                <span>Linked classes: {{ subject.classCount }}</span>\n              </div>\n              <div class=\"list__actions\">\n                <button type=\"button\" class=\"btn btn--small btn--ghost\" @click=\"beginSubjectEdit(subject)\">\n                  Edit\n                </button>\n                <button\n                  v-if=\"!subject.isArchived\"\n                  type=\"button\"\n                  class=\"btn btn--small btn--danger\"\n                  @click=\"archiveSubject(subject)\"\n                >\n                  Archive\n                </button>\n                <button\n                  v-else\n                  type=\"button\"\n                  class=\"btn btn--small\"\n                  @click=\"restoreSubject(subject)\"\n                >\n                  Restore\n                </button>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </article>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  classes: { type: Array, default: () => [] },\n  subjects: { type: Array, default: () => [] },\n  lookups: {\n    type: Object,\n    default: () => ({ gradeLevels: [], teachers: [] }),\n  },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst classes = ref([...props.classes]);\nconst subjects = ref([...props.subjects]);\nconst lookups = reactive({\n  gradeLevels: props.lookups?.gradeLevels ?? [],\n  teachers: props.lookups?.teachers ?? [],\n});\n\nconst showArchivedClasses = ref(false);\nconst showArchivedSubjects = ref(false);\nconst classSearch = ref(\"\");\nconst subjectSearch = ref(\"\");\n\nconst classForm = reactive({\n  name: \"\",\n  code: \"\",\n  gradeLevelId: \"\",\n  homeroomTeacherId: \"\",\n  startDate: \"\",\n  endDate: \"\",\n  description: \"\",\n});\nconst classErrors = ref([]);\nconst classEditingId = ref(null);\nconst isSavingClass = ref(false);\n\nconst subjectForm = reactive({\n  name: \"\",\n  code: \"\",\n  description: \"\",\n});\nconst subjectErrors = ref([]);\nconst subjectEditingId = ref(null);\nconst isSavingSubject = ref(false);\n\nconst classSearchTerm = computed(() => classSearch.value.trim().toLowerCase());\nconst subjectSearchTerm = computed(() => subjectSearch.value.trim().toLowerCase());\n\nconst filteredClasses = computed(() => {\n  return classes.value\n    .filter((classroom) => showArchivedClasses.value || !classroom.isArchived)\n    .filter((classroom) => {\n      if (!classSearchTerm.value) {\n        return true;\n      }\n      const haystack = [\n        classroom.name,\n        classroom.code,\n        classroom.gradeLevel?.name,\n        classroom.homeroomTeacher?.name,\n      ]\n        .filter(Boolean)\n        .join(\" \")\n        .toLowerCase();\n      return haystack.includes(classSearchTerm.value);\n    });\n});\n\nconst visibleSubjects = computed(() => {\n  return subjects.value\n    .filter((subject) => showArchivedSubjects.value || !subject.isArchived)\n    .filter((subject) => {\n      if (!subjectSearchTerm.value) {\n        return true;\n      }\n      const haystack = [subject.name, subject.code]\n        .filter(Boolean)\n        .join(\" \")\n        .toLowerCase();\n      return haystack.includes(subjectSearchTerm.value);\n    });\n});\n\nconst isClassFilterActive = computed(\n  () => !!classSearchTerm.value || showArchivedClasses.value,\n);\nconst isSubjectFilterActive = computed(\n  () => !!subjectSearchTerm.value || showArchivedSubjects.value,\n);\n\nconst activeClassCount = computed(\n  () => classes.value.filter((classroom) => !classroom.isArchived).length,\n);\nconst totalStudents = computed(() =>\n  classes.value.reduce((sum, classroom) => sum + (classroom.studentCount ?? 0), 0),\n);\nconst activeSubjectCount = computed(\n  () => subjects.value.filter((subject) => !subject.isArchived).length,\n);\n\nfunction resetClassForm() {\n  classForm.name = \"\";\n  classForm.code = \"\";\n  classForm.gradeLevelId = \"\";\n  classForm.homeroomTeacherId = \"\";\n  classForm.startDate = \"\";\n  classForm.endDate = \"\";\n  classForm.description = \"\";\n  classEditingId.value = null;\n  classErrors.value = [];\n}\n\nfunction resetSubjectForm() {\n  subjectForm.name = \"\";\n  subjectForm.code = \"\";\n  subjectForm.description = \"\";\n  subjectEditingId.value = null;\n  subjectErrors.value = [];\n}\n\nfunction resetClassFilters() {\n  classSearch.value = \"\";\n  showArchivedClasses.value = false;\n}\n\nfunction resetSubjectFilters() {\n  subjectSearch.value = \"\";\n  showArchivedSubjects.value = false;\n}\n\nfunction beginClassEdit(classroom) {\n  classForm.name = classroom.name || \"\";\n  classForm.code = classroom.code || \"\";\n  classForm.gradeLevelId = classroom.gradeLevel ? String(classroom.gradeLevel.id) : \"\";\n  classForm.homeroomTeacherId = classroom.homeroomTeacher\n    ? String(classroom.homeroomTeacher.id)\n    : \"\";\n  classForm.startDate = classroom.startDate ? classroom.startDate.slice(0, 10) : \"\";\n  classForm.endDate = classroom.endDate ? classroom.endDate.slice(0, 10) : \"\";\n  classForm.description = classroom.description || \"\";\n  classEditingId.value = classroom.id;\n  classErrors.value = [];\n}\n\nfunction beginSubjectEdit(subject) {\n  subjectForm.name = subject.name || \"\";\n  subjectForm.code = subject.code || \"\";\n  subjectForm.description = subject.description || \"\";\n  subjectEditingId.value = subject.id;\n  subjectErrors.value = [];\n}\n\nasync function refreshManagementState() {\n  const response = await fetch(\"/classes\", {\n    headers: { Accept: \"application/json\" },\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to refresh data\");\n  }\n  const data = await response.json();\n  classes.value = data.management.classes || [];\n  subjects.value = data.management.subjects || [];\n  if (data.management.lookups) {\n    lookups.gradeLevels = data.management.lookups.gradeLevels || lookups.gradeLevels;\n    lookups.teachers = data.management.lookups.teachers || lookups.teachers;\n  }\n}\n\nasync function submitClassForm() {\n  classErrors.value = [];\n  if (!classForm.name) {\n    classErrors.value.push(\"Class name is required.\");\n    return;\n  }\n\n  isSavingClass.value = true;\n  try {\n    const url = classEditingId.value\n      ? `/classes/${classEditingId.value}/update`\n      : \"/classes\";\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(classForm),\n    });\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      classErrors.value = data.errors || [data.message || \"Unable to save class.\"];\n      return;\n    }\n    await refreshManagementState();\n    resetClassForm();\n  } catch (error) {\n    classErrors.value = [error.message || \"Unexpected error saving class.\"];\n  } finally {\n    isSavingClass.value = false;\n  }\n}\n\nasync function archiveClass(classroom) {\n  await mutateClass(`/classes/${classroom.id}/archive`);\n}\n\nasync function restoreClass(classroom) {\n  await mutateClass(`/classes/${classroom.id}/restore`);\n}\n\nasync function mutateClass(url) {\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n    });\n    if (!response.ok) {\n      const data = await response.json().catch(() => ({}));\n      throw new Error(data.message || \"Unable to update class\");\n    }\n    await refreshManagementState();\n  } catch (error) {\n    classErrors.value = [error.message || \"Unable to update class.\"];\n  }\n}\n\nasync function submitSubjectForm() {\n  subjectErrors.value = [];\n  if (!subjectForm.name) {\n    subjectErrors.value.push(\"Subject name is required.\");\n    return;\n  }\n\n  isSavingSubject.value = true;\n  try {\n    const url = subjectEditingId.value\n      ? `/classes/subjects/${subjectEditingId.value}/update`\n      : \"/classes/subjects\";\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(subjectForm),\n    });\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      subjectErrors.value = data.errors || [data.message || \"Unable to save subject.\"];\n      return;\n    }\n    await refreshManagementState();\n    resetSubjectForm();\n  } catch (error) {\n    subjectErrors.value = [error.message || \"Unexpected error saving subject.\"];\n  } finally {\n    isSavingSubject.value = false;\n  }\n}\n\nasync function archiveSubject(subject) {\n  await mutateSubject(`/classes/subjects/${subject.id}/archive`);\n}\n\nasync function restoreSubject(subject) {\n  await mutateSubject(`/classes/subjects/${subject.id}/restore`);\n}\n\nasync function mutateSubject(url) {\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n    });\n    if (!response.ok) {\n      const data = await response.json().catch(() => ({}));\n      throw new Error(data.message || \"Unable to update subject\");\n    }\n    await refreshManagementState();\n  } catch (error) {\n    subjectErrors.value = [error.message || \"Unable to update subject.\"];\n  }\n}\n</script>\n","<template>\n  <div class=\"academic-app\">\n    <section class=\"page-hero page-hero--subtle\">\n      <div class=\"page-hero__content\">\n        <p class=\"page-hero__eyebrow\">Class overview</p>\n        <h1 class=\"page-hero__title\">{{ classroom.name }}</h1>\n        <p class=\"page-hero__subtitle\">\n          Manage enrollments, subject coverage, and day-to-day notes for a comfortable, informed classroom.\n        </p>\n      </div>\n      <dl class=\"page-hero__stats\">\n        <div class=\"page-hero__stat\">\n          <dt>Subjects assigned</dt>\n          <dd>{{ subjectCount }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Students enrolled</dt>\n          <dd>{{ enrollmentCount }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Grade level</dt>\n          <dd>{{ gradeDisplay }}</dd>\n        </div>\n      </dl>\n    </section>\n\n    <div class=\"insight-row\">\n      <article class=\"insight-card\">\n        <p class=\"insight-card__label\">Homeroom teacher</p>\n        <p class=\"insight-card__value\">{{ homeroomDisplay }}</p>\n        <p class=\"insight-card__hint\">\n          Keep staff assignments current so guardians always see the right point of contact.\n        </p>\n      </article>\n      <article class=\"insight-card\">\n        <p class=\"insight-card__label\">Schedule</p>\n        <p class=\"insight-card__value\">{{ scheduleSummary }}</p>\n        <p class=\"insight-card__hint\">Use start and end dates to coordinate year planning and reporting windows.</p>\n      </article>\n      <article class=\"insight-card\">\n        <p class=\"insight-card__label\">Status</p>\n        <p class=\"insight-card__value\">\n          <span class=\"pill\" :class=\"{ 'pill--soft': !classroom.isArchived, 'pill--success': !classroom.isArchived }\">\n            {{ classroom.isArchived ? \"Archived\" : \"Active\" }}\n          </span>\n        </p>\n        <p class=\"insight-card__hint\">Archived classes remain read-only while keeping historical data in reports.</p>\n      </article>\n    </div>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Class information</h2>\n          <p class=\"card__subtitle\">Update high-level details to keep schedules and reporting aligned.</p>\n        </div>\n        <div class=\"card__actions\">\n          <span v-if=\"classroom.isArchived\" class=\"badge badge--warning\">Archived</span>\n        </div>\n      </header>\n\n      <form class=\"form\" @submit.prevent=\"saveClassroom\" novalidate>\n        <div v-if=\"classErrors.length\" class=\"alert alert--danger\">\n          <p>Unable to update class:</p>\n          <ul>\n            <li v-for=\"error in classErrors\" :key=\"error\">{{ error }}</li>\n          </ul>\n        </div>\n        <div class=\"grid grid--two-column\">\n          <label class=\"form__group\">\n            <span>Name</span>\n            <input v-model.trim=\"classForm.name\" type=\"text\" required class=\"form__control\" placeholder=\"eg. Grade 5 - Maple\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Code</span>\n            <input v-model.trim=\"classForm.code\" type=\"text\" class=\"form__control\" placeholder=\"Optional short code\" />\n          </label>\n        </div>\n        <div class=\"grid grid--two-column\">\n          <label class=\"form__group\">\n            <span>Grade level</span>\n            <select v-model=\"classForm.gradeLevelId\" class=\"form__control\">\n              <option value=\"\">Select grade</option>\n              <option v-for=\"grade in lookups.gradeLevels\" :key=\"grade.id\" :value=\"String(grade.id)\">\n                {{ grade.name }}\n              </option>\n            </select>\n          </label>\n          <label class=\"form__group\">\n            <span>Homeroom teacher</span>\n            <select v-model=\"classForm.homeroomTeacherId\" class=\"form__control\">\n              <option value=\"\">Unassigned</option>\n              <option v-for=\"teacher in lookups.teachers\" :key=\"teacher.id\" :value=\"String(teacher.id)\">\n                {{ teacher.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n        <div class=\"grid grid--two-column\">\n          <label class=\"form__group\">\n            <span>Start date</span>\n            <input v-model=\"classForm.startDate\" type=\"date\" class=\"form__control\" />\n          </label>\n          <label class=\"form__group\">\n            <span>End date</span>\n            <input v-model=\"classForm.endDate\" type=\"date\" class=\"form__control\" />\n          </label>\n        </div>\n        <label class=\"form__group\">\n          <span>Description</span>\n          <textarea\n            v-model.trim=\"classForm.description\"\n            rows=\"2\"\n            class=\"form__control\"\n            placeholder=\"Share classroom notes, planning highlights, or scheduling nuances\"\n          ></textarea>\n        </label>\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn\" :disabled=\"isSavingClass\">Save changes</button>\n          <button\n            v-if=\"classroom.isArchived\"\n            type=\"button\"\n            class=\"btn btn--ghost\"\n            @click=\"restoreClass\"\n          >\n            Restore class\n          </button>\n          <button\n            v-else\n            type=\"button\"\n            class=\"btn btn--danger\"\n            @click=\"archiveClass\"\n          >\n            Archive class\n          </button>\n        </div>\n      </form>\n    </section>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Subject assignments</h2>\n          <p class=\"card__subtitle\">Pair subjects with teachers to create a smooth, predictable timetable.</p>\n        </div>\n      </header>\n      <form class=\"form\" @submit.prevent=\"assignSubject\" novalidate>\n        <div v-if=\"subjectErrors.length\" class=\"alert alert--danger\">\n          <p>Unable to assign subject:</p>\n          <ul>\n            <li v-for=\"error in subjectErrors\" :key=\"error\">{{ error }}</li>\n          </ul>\n        </div>\n        <div class=\"grid grid--two-column\">\n          <label class=\"form__group\">\n            <span>Subject</span>\n            <select v-model=\"subjectForm.subjectId\" required class=\"form__control\">\n              <option value=\"\">Select subject</option>\n              <option v-for=\"subject in subjects\" :key=\"subject.id\" :value=\"String(subject.id)\">\n                {{ subject.name }}\n              </option>\n            </select>\n          </label>\n          <label class=\"form__group\">\n            <span>Teacher</span>\n            <select v-model=\"subjectForm.teacherId\" class=\"form__control\">\n              <option value=\"\">Unassigned</option>\n              <option v-for=\"teacher in lookups.teachers\" :key=\"teacher.id\" :value=\"String(teacher.id)\">\n                {{ teacher.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n        <label class=\"form__group\">\n          <span>Schedule notes</span>\n          <input v-model.trim=\"subjectForm.schedule\" type=\"text\" class=\"form__control\" placeholder=\"eg. Tue & Thu • 10:30\" />\n        </label>\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn\" :disabled=\"isSavingSubject\">Save assignment</button>\n        </div>\n      </form>\n\n      <div class=\"card__body\">\n        <div v-if=\"!classroom.subjects.length\" class=\"empty-state\">\n          <p class=\"empty-state__title\">No subjects assigned yet</p>\n          <p>Add a subject above to begin mapping the learning plan for this class.</p>\n        </div>\n\n        <div v-else class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Subject</th>\n                <th scope=\"col\">Teacher</th>\n                <th scope=\"col\">Schedule</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"assignment in classroom.subjects\" :key=\"assignment.id\">\n                <td data-title=\"Subject\">{{ assignment.subjectName }}</td>\n                <td data-title=\"Teacher\">{{ assignment.teacherName ?? \"Unassigned\" }}</td>\n                <td data-title=\"Schedule\">{{ assignment.schedule ?? \"—\" }}</td>\n                <td class=\"table__actions\">\n                  <a\n                    class=\"btn btn--small btn--ghost\"\n                    :href=\"`/classes/${classroom.id}/subjects/${assignment.id}/grades`\"\n                  >\n                    Grade entry\n                  </a>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn--small btn--danger\"\n                    @click=\"removeSubject(assignment)\"\n                  >\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Enrollments</h2>\n          <p class=\"card__subtitle\">Search for students and welcome them into this class roster.</p>\n        </div>\n      </header>\n      <div class=\"card__body\">\n        <label class=\"form__group\">\n          <span>Search students</span>\n          <input\n            v-model.trim=\"studentSearch\"\n            type=\"search\"\n            class=\"form__control\"\n            placeholder=\"Type a name or student number\"\n            @input=\"queueStudentSearch\"\n          />\n        </label>\n        <div v-if=\"enrollmentErrors.length\" class=\"alert alert--danger\">\n          <p>Unable to update enrollments:</p>\n          <ul>\n            <li v-for=\"error in enrollmentErrors\" :key=\"error\">{{ error }}</li>\n          </ul>\n        </div>\n        <p v-if=\"isSearching\" class=\"muted\">Searching students…</p>\n        <p\n          v-if=\"studentSearch && !isSearching && searchResults.length === 0\"\n          class=\"muted\"\n        >\n          No students match your search or they are already enrolled.\n        </p>\n        <ul v-if=\"searchResults.length\" class=\"list list--compact\">\n          <li v-for=\"student in searchResults\" :key=\"student.id\" class=\"list__option\">\n            <div>\n              <strong>{{ student.name }}</strong>\n              <span v-if=\"student.studentNumber\" class=\"badge badge--neutral\">\n                {{ student.studentNumber }}\n              </span>\n            </div>\n            <button type=\"button\" class=\"btn btn--small\" @click=\"addEnrollment(student)\">\n              Add to class\n            </button>\n          </li>\n        </ul>\n      </div>\n      <div class=\"card__body\">\n        <div v-if=\"!classroom.enrollments.length\" class=\"empty-state\">\n          <p class=\"empty-state__title\">No students enrolled yet</p>\n          <p>Invite students above to build the roster and unlock grade entry.</p>\n        </div>\n        <div v-else class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Student</th>\n                <th scope=\"col\">Grade</th>\n                <th scope=\"col\">Status</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"enrollment in classroom.enrollments\" :key=\"enrollment.id\">\n                <td data-title=\"Student\">\n                  {{ enrollment.name }}\n                  <span v-if=\"enrollment.studentNumber\" class=\"badge badge--neutral\">\n                    {{ enrollment.studentNumber }}\n                  </span>\n                </td>\n                <td data-title=\"Grade\">{{ enrollment.gradeLevel ?? \"—\" }}</td>\n                <td data-title=\"Status\">{{ enrollment.status ?? \"Active\" }}</td>\n                <td class=\"table__actions\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn--small btn--danger\"\n                    @click=\"removeEnrollment(enrollment)\"\n                  >\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  detail: { type: Object, default: () => ({}) },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst classroom = reactive({ ...(props.detail?.classroom ?? {}) });\nconst subjects = ref([...(props.detail?.subjects ?? [])]);\nconst lookups = reactive({\n  teachers: props.detail?.teachers ?? [],\n  gradeLevels: props.detail?.gradeLevels ?? [],\n});\nconst assessmentTypes = ref([...(props.detail?.assessmentTypes ?? [])]);\n\nconst classForm = reactive({\n  name: classroom.name || \"\",\n  code: classroom.code || \"\",\n  gradeLevelId: classroom.gradeLevel ? String(classroom.gradeLevel.id) : \"\",\n  homeroomTeacherId: classroom.homeroomTeacher ? String(classroom.homeroomTeacher.id) : \"\",\n  startDate: classroom.startDate ? classroom.startDate.slice(0, 10) : \"\",\n  endDate: classroom.endDate ? classroom.endDate.slice(0, 10) : \"\",\n  description: classroom.description || \"\",\n});\n\nconst classErrors = ref([]);\nconst isSavingClass = ref(false);\nconst subjectErrors = ref([]);\nconst subjectForm = reactive({ subjectId: \"\", teacherId: \"\", schedule: \"\" });\nconst isSavingSubject = ref(false);\n\nconst studentSearch = ref(\"\");\nconst searchResults = ref([]);\nconst isSearching = ref(false);\nconst enrollmentErrors = ref([]);\nlet searchTimeout;\n\nconst classroomId = computed(() => classroom.id);\nconst subjectCount = computed(() => classroom.subjects?.length ?? 0);\nconst enrollmentCount = computed(() => classroom.enrollments?.length ?? 0);\nconst gradeDisplay = computed(() => classroom.gradeLevel?.name ?? \"Unassigned\");\nconst homeroomDisplay = computed(\n  () => classroom.homeroomTeacher?.name ?? \"No homeroom assigned\",\n);\n\nfunction formatDate(value) {\n  if (!value) {\n    return null;\n  }\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return null;\n  }\n  return parsed.toLocaleDateString(undefined, {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n}\n\nconst scheduleSummary = computed(() => {\n  const start = formatDate(classroom.startDate);\n  const end = formatDate(classroom.endDate);\n  if (start && end) {\n    return `${start} → ${end}`;\n  }\n  if (start) {\n    return `Starts ${start}`;\n  }\n  if (end) {\n    return `Ends ${end}`;\n  }\n  return \"Flexible schedule\";\n});\n\nasync function refreshDetail() {\n  const response = await fetch(`/classes/${classroomId.value}`, {\n    headers: { Accept: \"application/json\" },\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to refresh class\");\n  }\n  const data = await response.json();\n  const detail = data.detail;\n  Object.assign(classroom, detail.classroom);\n  subjects.value = detail.subjects;\n  if (Array.isArray(detail.teachers)) {\n    lookups.teachers = detail.teachers;\n  }\n  if (Array.isArray(detail.gradeLevels)) {\n    lookups.gradeLevels = detail.gradeLevels;\n  }\n  if (detail.classroom.gradeLevel) {\n    classForm.gradeLevelId = String(detail.classroom.gradeLevel.id);\n  } else {\n    classForm.gradeLevelId = \"\";\n  }\n  classForm.name = detail.classroom.name || \"\";\n  classForm.code = detail.classroom.code || \"\";\n  classForm.homeroomTeacherId = detail.classroom.homeroomTeacher\n    ? String(detail.classroom.homeroomTeacher.id)\n    : \"\";\n  classForm.startDate = detail.classroom.startDate\n    ? detail.classroom.startDate.slice(0, 10)\n    : \"\";\n  classForm.endDate = detail.classroom.endDate\n    ? detail.classroom.endDate.slice(0, 10)\n    : \"\";\n  classForm.description = detail.classroom.description || \"\";\n  if (Array.isArray(detail.assessmentTypes)) {\n    assessmentTypes.value = detail.assessmentTypes;\n  }\n}\n\nasync function saveClassroom() {\n  classErrors.value = [];\n  if (!classForm.name) {\n    classErrors.value.push(\"Class name is required.\");\n    return;\n  }\n  isSavingClass.value = true;\n  try {\n    const response = await fetch(`/classes/${classroomId.value}/update`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(classForm),\n    });\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      classErrors.value = data.errors || [data.message || \"Unable to update class.\"];\n      return;\n    }\n    await refreshDetail();\n  } catch (error) {\n    classErrors.value = [error.message || \"Unexpected error updating class.\"];\n  } finally {\n    isSavingClass.value = false;\n  }\n}\n\nasync function archiveClass() {\n  await mutateClass(`/classes/${classroomId.value}/archive`);\n}\n\nasync function restoreClass() {\n  await mutateClass(`/classes/${classroomId.value}/restore`);\n}\n\nasync function mutateClass(url) {\n  classErrors.value = [];\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n    });\n    if (!response.ok) {\n      const data = await response.json().catch(() => ({}));\n      throw new Error(data.message || \"Unable to update class\");\n    }\n    await refreshDetail();\n  } catch (error) {\n    classErrors.value = [error.message || \"Unable to update class.\"];\n  }\n}\n\nasync function assignSubject() {\n  subjectErrors.value = [];\n  if (!subjectForm.subjectId) {\n    subjectErrors.value.push(\"Subject is required.\");\n    return;\n  }\n  isSavingSubject.value = true;\n  try {\n    const response = await fetch(`/classes/${classroomId.value}/subjects`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(subjectForm),\n    });\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      subjectErrors.value = data.errors || [data.message || \"Unable to assign subject.\"];\n      return;\n    }\n    subjectForm.subjectId = \"\";\n    subjectForm.teacherId = \"\";\n    subjectForm.schedule = \"\";\n    await refreshDetail();\n  } catch (error) {\n    subjectErrors.value = [error.message || \"Unable to assign subject.\"];\n  } finally {\n    isSavingSubject.value = false;\n  }\n}\n\nasync function removeSubject(assignment) {\n  subjectErrors.value = [];\n  try {\n    const response = await fetch(\n      `/classes/${classroomId.value}/subjects/${assignment.id}/delete`,\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"X-CSRF-Token\": props.csrfToken,\n        },\n      },\n    );\n    if (!response.ok) {\n      const data = await response.json().catch(() => ({}));\n      throw new Error(data.message || \"Unable to remove subject.\");\n    }\n    await refreshDetail();\n  } catch (error) {\n    subjectErrors.value = [error.message || \"Unable to remove subject.\"];\n  }\n}\n\nfunction queueStudentSearch() {\n  clearTimeout(searchTimeout);\n  if (!studentSearch.value) {\n    searchResults.value = [];\n    return;\n  }\n  searchTimeout = setTimeout(runStudentSearch, 250);\n}\n\nasync function runStudentSearch() {\n  isSearching.value = true;\n  try {\n    const params = new URLSearchParams({ search: studentSearch.value });\n    const response = await fetch(\n      `/classes/${classroomId.value}/enrollment/search?${params.toString()}`,\n      {\n        headers: { Accept: \"application/json\" },\n      },\n    );\n    if (!response.ok) {\n      throw new Error(\"Search failed\");\n    }\n    const data = await response.json();\n    searchResults.value = data.students || [];\n  } catch (error) {\n    searchResults.value = [];\n  } finally {\n    isSearching.value = false;\n  }\n}\n\nasync function addEnrollment(student) {\n  enrollmentErrors.value = [];\n  try {\n    const response = await fetch(`/classes/${classroomId.value}/enrollments`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify({ studentId: student.id }),\n    });\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      throw new Error(data.message || \"Unable to add student\");\n    }\n    studentSearch.value = \"\";\n    searchResults.value = [];\n    await refreshDetail();\n  } catch (error) {\n    enrollmentErrors.value = [error.message || \"Unable to add student.\"];\n  }\n}\n\nasync function removeEnrollment(enrollment) {\n  enrollmentErrors.value = [];\n  try {\n    const response = await fetch(\n      `/classes/${classroomId.value}/enrollments/${enrollment.id}/delete`,\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"X-CSRF-Token\": props.csrfToken,\n        },\n      },\n    );\n    if (!response.ok) {\n      const data = await response.json().catch(() => ({}));\n      throw new Error(data.message || \"Unable to remove student\");\n    }\n    await refreshDetail();\n  } catch (error) {\n    enrollmentErrors.value = [error.message || \"Unable to remove student.\"];\n  }\n}\n</script>\n","<template>\n  <div class=\"academic-app\">\n    <section class=\"page-hero page-hero--subtle\">\n      <div class=\"page-hero__content\">\n        <p class=\"page-hero__eyebrow\">Grade workspace</p>\n        <h1 class=\"page-hero__title\">\n          {{ classSubject.classroom.name }} • {{ classSubject.subject.name }}\n        </h1>\n        <p class=\"page-hero__subtitle\">\n          Capture grades with clarity, track assessment progress, and keep every student supported.\n        </p>\n      </div>\n      <dl class=\"page-hero__stats\">\n        <div class=\"page-hero__stat\">\n          <dt>Enrolled students</dt>\n          <dd>{{ enrollments.length }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Assessments</dt>\n          <dd>{{ classSubject.assessments.length }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Instructor</dt>\n          <dd>{{ teacherDisplay }}</dd>\n        </div>\n      </dl>\n    </section>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Assessments</h2>\n          <p class=\"card__subtitle\">Choose an assessment to review or add a new experience below.</p>\n        </div>\n      </header>\n      <div class=\"card__body\">\n        <div class=\"toolbar\">\n          <div class=\"toolbar__search\">\n            <label class=\"form__group\">\n              <span>Assessment</span>\n              <select\n                v-model=\"selectedAssessmentId\"\n                class=\"form__control\"\n                @change=\"applySelectedAssessment\"\n              >\n                <option v-if=\"classSubject.assessments.length === 0\" value=\"\">\n                  Create an assessment to begin\n                </option>\n                <option\n                  v-for=\"assessment in classSubject.assessments\"\n                  :key=\"assessment.id\"\n                  :value=\"String(assessment.id)\"\n                >\n                  {{ assessment.title }}\n                </option>\n              </select>\n            </label>\n          </div>\n          <div class=\"toolbar__actions\">\n            <span v-if=\"classSubject.schedule\" class=\"pill pill--soft\">\n              {{ classSubject.schedule }}\n            </span>\n          </div>\n        </div>\n\n        <div v-if=\"selectedAssessment\" class=\"insight-row\">\n          <article class=\"insight-card\">\n            <p class=\"insight-card__label\">Assessment type</p>\n            <p class=\"insight-card__value\">\n              {{ selectedAssessment.assessmentType?.name ?? \"Not set\" }}\n            </p>\n            <p class=\"insight-card__hint\">Consistent types keep reporting balanced.</p>\n          </article>\n          <article class=\"insight-card\">\n            <p class=\"insight-card__label\">Due date</p>\n            <p class=\"insight-card__value\">{{ formatDueDate(selectedAssessment.dueDate) }}</p>\n            <p class=\"insight-card__hint\">Schedule clearly signals expectations to students.</p>\n          </article>\n          <article class=\"insight-card\">\n            <p class=\"insight-card__label\">Default max score</p>\n            <p class=\"insight-card__value\">\n              {{ selectedAssessment.maxScore != null ? selectedAssessment.maxScore : \"Flexible\" }}\n            </p>\n            <p class=\"insight-card__hint\">You can customise per student in the grid below.</p>\n          </article>\n        </div>\n      </div>\n\n      <form class=\"form form--inline\" @submit.prevent=\"createAssessment\" novalidate>\n        <fieldset>\n          <legend>Add assessment</legend>\n          <div v-if=\"assessmentErrors.length\" class=\"alert alert--danger\">\n            <p>Unable to create assessment:</p>\n            <ul>\n              <li v-for=\"error in assessmentErrors\" :key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n          <div class=\"grid grid--three-column\">\n            <label class=\"form__group\">\n              <span>Title</span>\n              <input v-model.trim=\"assessmentForm.title\" type=\"text\" required class=\"form__control\" placeholder=\"eg. Module reflection\" />\n            </label>\n            <label class=\"form__group\">\n              <span>Type</span>\n              <select v-model=\"assessmentForm.assessmentTypeId\" required class=\"form__control\">\n                <option value=\"\">Select type</option>\n                <option v-for=\"type in assessmentTypes\" :key=\"type.id\" :value=\"String(type.id)\">\n                  {{ type.name }}\n                </option>\n              </select>\n            </label>\n            <label class=\"form__group\">\n              <span>Due date</span>\n              <input v-model=\"assessmentForm.dueDate\" type=\"date\" class=\"form__control\" />\n            </label>\n          </div>\n          <div class=\"grid grid--two-column\">\n            <label class=\"form__group\">\n              <span>Max score</span>\n              <input v-model=\"assessmentForm.maxScore\" type=\"number\" step=\"0.01\" class=\"form__control\" />\n            </label>\n            <label class=\"form__group\">\n              <span>Description</span>\n              <input v-model.trim=\"assessmentForm.description\" type=\"text\" class=\"form__control\" placeholder=\"Optional context\" />\n            </label>\n          </div>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn\" :disabled=\"isCreatingAssessment\">Add assessment</button>\n          </div>\n        </fieldset>\n      </form>\n    </section>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Grade entry</h2>\n          <p class=\"card__subtitle\">\n            Enter scores, adjust maximums, and leave caring comments for each learner.\n          </p>\n        </div>\n      </header>\n      <div class=\"card__body\">\n        <div v-if=\"!selectedAssessment\" class=\"empty-state\">\n          <p class=\"empty-state__title\">No assessment selected</p>\n          <p>Create an assessment above or choose one to begin recording grades.</p>\n        </div>\n        <form v-else class=\"stack\" @submit.prevent=\"saveGrades\" novalidate>\n          <div v-if=\"gradeErrors.length\" class=\"alert alert--danger\">\n            <p>Unable to save grades:</p>\n            <ul>\n              <li v-for=\"error in gradeErrors\" :key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Student</th>\n                  <th scope=\"col\">Score</th>\n                  <th scope=\"col\">Max</th>\n                  <th scope=\"col\">Percentage</th>\n                  <th scope=\"col\">Letter</th>\n                  <th scope=\"col\">Comments</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"enrollment in enrollments\" :key=\"enrollment.id\">\n                  <td data-title=\"Student\">\n                    <strong>{{ enrollment.name }}</strong>\n                    <span v-if=\"enrollment.studentNumber\" class=\"badge badge--neutral\">\n                      {{ enrollment.studentNumber }}\n                    </span>\n                  </td>\n                  <td data-title=\"Score\">\n                    <input\n                      v-model.number=\"gradeEntries[enrollment.studentId].score\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      class=\"form__control\"\n                      @input=\"recalculate(enrollment.studentId)\"\n                    />\n                  </td>\n                  <td data-title=\"Max\">\n                    <input\n                      v-model.number=\"gradeEntries[enrollment.studentId].maxScore\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      class=\"form__control\"\n                      @input=\"recalculate(enrollment.studentId)\"\n                    />\n                  </td>\n                  <td data-title=\"Percentage\">\n                    {{ formatPercentage(gradeEntries[enrollment.studentId].percentage) }}\n                  </td>\n                  <td data-title=\"Letter\">\n                    {{ gradeEntries[enrollment.studentId].letter || \"—\" }}\n                  </td>\n                  <td data-title=\"Comments\">\n                    <input\n                      v-model.trim=\"gradeEntries[enrollment.studentId].comments\"\n                      type=\"text\"\n                      class=\"form__control\"\n                      placeholder=\"Encouragement or feedback\"\n                    />\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn\" :disabled=\"isSavingGrades\">Save grades</button>\n          </div>\n        </form>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  classSubject: { type: Object, default: () => ({}) },\n  enrollments: { type: Array, default: () => [] },\n  assessmentTypes: { type: Array, default: () => [] },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst classSubject = reactive({ ...(props.classSubject ?? {}) });\nif (!Array.isArray(classSubject.assessments)) {\n  classSubject.assessments = [];\n}\nconst enrollments = ref([...(props.enrollments ?? [])]);\nconst assessmentTypes = ref([...(props.assessmentTypes ?? [])]);\n\nconst selectedAssessmentId = ref(\n  classSubject.assessments?.[0]?.id ? String(classSubject.assessments[0].id) : \"\",\n);\n\nconst assessmentForm = reactive({\n  title: \"\",\n  assessmentTypeId: \"\",\n  dueDate: \"\",\n  maxScore: \"\",\n  description: \"\",\n});\n\nconst assessmentErrors = ref([]);\nconst isCreatingAssessment = ref(false);\nconst gradeErrors = ref([]);\nconst isSavingGrades = ref(false);\n\nconst gradeEntries = reactive({});\n\nconst selectedAssessment = computed(() => {\n  if (!selectedAssessmentId.value) {\n    return null;\n  }\n  return (\n    classSubject.assessments?.find(\n      (assessment) => String(assessment.id) === String(selectedAssessmentId.value),\n    ) || null\n  );\n});\n\nconst teacherDisplay = computed(\n  () => classSubject.teacher?.name ?? \"Unassigned teacher\",\n);\n\nfunction ensureEntry(studentId) {\n  if (!gradeEntries[studentId]) {\n    gradeEntries[studentId] = {\n      score: \"\",\n      maxScore: selectedAssessment.value?.maxScore ?? \"\",\n      percentage: null,\n      letter: null,\n      comments: \"\",\n    };\n  }\n  return gradeEntries[studentId];\n}\n\nfunction hydrateEntries() {\n  enrollments.value.forEach((enrollment) => {\n    const entry = ensureEntry(enrollment.studentId);\n    const grade = selectedAssessment.value?.grades?.find(\n      (row) => row.studentId === enrollment.studentId,\n    );\n    entry.score = grade?.score ?? \"\";\n    entry.maxScore = grade?.maxScore ?? selectedAssessment.value?.maxScore ?? \"\";\n    entry.percentage = grade?.percentage ?? null;\n    entry.letter = grade?.letterGrade ?? null;\n    entry.comments = grade?.comments ?? \"\";\n  });\n}\n\nfunction calculateMetrics(score, maxScore) {\n  if (\n    score === null ||\n    score === undefined ||\n    score === \"\" ||\n    maxScore === null ||\n    maxScore === undefined ||\n    maxScore === \"\"\n  ) {\n    return { percentage: null, letter: null };\n  }\n  const parsedScore = Number(score);\n  const parsedMax = Number(maxScore);\n  if (!Number.isFinite(parsedScore) || !Number.isFinite(parsedMax) || parsedMax <= 0) {\n    return { percentage: null, letter: null };\n  }\n  const percentage = Number(((Math.max(0, parsedScore) / parsedMax) * 100).toFixed(2));\n  let letter = null;\n  if (percentage >= 90) {\n    letter = \"A\";\n  } else if (percentage >= 80) {\n    letter = \"B\";\n  } else if (percentage >= 70) {\n    letter = \"C\";\n  } else if (percentage >= 60) {\n    letter = \"D\";\n  } else {\n    letter = \"F\";\n  }\n  return { percentage, letter };\n}\n\nfunction recalculate(studentId) {\n  const entry = ensureEntry(studentId);\n  const metrics = calculateMetrics(entry.score, entry.maxScore);\n  entry.percentage = metrics.percentage;\n  entry.letter = metrics.letter;\n}\n\nfunction formatPercentage(value) {\n  if (value === null || value === undefined || Number.isNaN(value)) {\n    return \"—\";\n  }\n  return `${Number(value).toFixed(2)}%`;\n}\n\nfunction formatDueDate(value) {\n  if (!value) {\n    return \"Not scheduled\";\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return \"Not scheduled\";\n  }\n  return date.toLocaleDateString(undefined, {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n}\n\nfunction applySelectedAssessment() {\n  hydrateEntries();\n}\n\nhydrateEntries();\n\nasync function createAssessment() {\n  assessmentErrors.value = [];\n  if (!assessmentForm.title) {\n    assessmentErrors.value.push(\"Title is required.\");\n  }\n  if (!assessmentForm.assessmentTypeId) {\n    assessmentErrors.value.push(\"Assessment type is required.\");\n  }\n  if (assessmentErrors.value.length) {\n    return;\n  }\n\n  isCreatingAssessment.value = true;\n  try {\n    const response = await fetch(\n      `/classes/${classSubject.classroomId}/subjects/${classSubject.id}/assessments`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"X-CSRF-Token\": props.csrfToken,\n        },\n        body: JSON.stringify(assessmentForm),\n      },\n    );\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      assessmentErrors.value = data.errors || [data.message || \"Unable to create assessment.\"];\n      return;\n    }\n    updateContext(data.context);\n    if (data.context?.classSubject?.assessments?.length) {\n      const latest = data.context.classSubject.assessments.at(-1);\n      selectedAssessmentId.value = String(latest.id);\n      hydrateEntries();\n    }\n    assessmentForm.title = \"\";\n    assessmentForm.assessmentTypeId = \"\";\n    assessmentForm.dueDate = \"\";\n    assessmentForm.maxScore = \"\";\n    assessmentForm.description = \"\";\n  } catch (error) {\n    assessmentErrors.value = [error.message || \"Unable to create assessment.\"];\n  } finally {\n    isCreatingAssessment.value = false;\n  }\n}\n\nasync function saveGrades() {\n  gradeErrors.value = [];\n  if (!selectedAssessment.value) {\n    gradeErrors.value.push(\"Select an assessment before saving.\");\n    return;\n  }\n  isSavingGrades.value = true;\n  try {\n    const payload = {\n      assessmentId: selectedAssessment.value.id,\n      entries: enrollments.value.map((enrollment) => ({\n        enrollmentId: enrollment.id,\n        studentId: enrollment.studentId,\n        score: gradeEntries[enrollment.studentId].score,\n        maxScore: gradeEntries[enrollment.studentId].maxScore,\n        comments: gradeEntries[enrollment.studentId].comments,\n      })),\n    };\n    const response = await fetch(\n      `/classes/${classSubject.classroomId}/subjects/${classSubject.id}/grades`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"X-CSRF-Token\": props.csrfToken,\n        },\n        body: JSON.stringify(payload),\n      },\n    );\n    const data = await response.json().catch(() => ({}));\n    if (!response.ok) {\n      gradeErrors.value = data.errors || [data.message || \"Unable to save grades.\"];\n      return;\n    }\n    updateContext(data.context);\n    hydrateEntries();\n  } catch (error) {\n    gradeErrors.value = [error.message || \"Unable to save grades.\"];\n  } finally {\n    isSavingGrades.value = false;\n  }\n}\n\nfunction updateContext(context) {\n  if (!context) {\n    return;\n  }\n  Object.assign(classSubject, context.classSubject ?? {});\n  enrollments.value = context.enrollments ?? enrollments.value;\n  if (Array.isArray(context.assessmentTypes)) {\n    assessmentTypes.value = context.assessmentTypes;\n  }\n}\n</script>\n","<template>\n  <div class=\"academic-app\">\n    <section class=\"page-hero page-hero--compact\">\n      <div class=\"page-hero__content\">\n        <p class=\"page-hero__eyebrow\">Progress analytics</p>\n        <h1 class=\"page-hero__title\">Grade reports</h1>\n        <p class=\"page-hero__subtitle\">\n          Explore class performance, celebrate wins, and spot support opportunities with calm, clear visuals.\n        </p>\n      </div>\n      <dl class=\"page-hero__stats\">\n        <div class=\"page-hero__stat\">\n          <dt>Classes tracked</dt>\n          <dd>{{ classCount }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Students represented</dt>\n          <dd>{{ studentCount }}</dd>\n        </div>\n        <div class=\"page-hero__stat\">\n          <dt>Average overall</dt>\n          <dd>{{ overallAverageLabel }}</dd>\n        </div>\n      </dl>\n    </section>\n\n    <section class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Filters</h2>\n          <p class=\"card__subtitle\">Focus on a specific class or learner to tailor the insights you need.</p>\n        </div>\n      </header>\n      <form class=\"form\" @submit.prevent=\"applyFilters\">\n        <div class=\"grid grid--three-column\">\n          <label class=\"form__group\">\n            <span>Class</span>\n            <select v-model=\"filters.classId\" class=\"form__control\">\n              <option value=\"\">All classes</option>\n              <option v-for=\"option in report.filters.classes\" :key=\"option.id\" :value=\"String(option.id)\">\n                {{ option.name }}\n              </option>\n            </select>\n          </label>\n          <label class=\"form__group\">\n            <span>Student</span>\n            <select v-model=\"filters.studentId\" class=\"form__control\">\n              <option value=\"\">All students</option>\n              <option v-for=\"option in report.filters.students\" :key=\"option.id\" :value=\"String(option.id)\">\n                {{ option.name }}\n              </option>\n            </select>\n          </label>\n          <div class=\"form__actions align-end\">\n            <button type=\"submit\" class=\"btn\" :disabled=\"isLoading\">Apply filters</button>\n            <button\n              type=\"button\"\n              class=\"btn btn--ghost btn--small\"\n              :disabled=\"!filtersApplied\"\n              @click=\"resetFilters\"\n            >\n              Reset\n            </button>\n          </div>\n        </div>\n      </form>\n\n      <div class=\"card__body\">\n        <p v-if=\"isLoading\" class=\"muted\">Loading report…</p>\n        <div v-else-if=\"!report.summaries.length\" class=\"empty-state\">\n          <p class=\"empty-state__title\">No grade data yet</p>\n          <p>Record assessments for your classes to populate this space with insights.</p>\n        </div>\n      </div>\n\n      <div v-if=\"!isLoading && report.summaries.length\" class=\"stack\">\n        <section v-for=\"summary in report.summaries\" :key=\"summary.classId\" class=\"report-section\">\n          <header class=\"report-section__header\">\n            <div>\n              <h2>{{ summary.className }}</h2>\n              <p v-if=\"summary.gradeLevel\" class=\"muted\">Grade level: {{ summary.gradeLevel }}</p>\n            </div>\n            <div class=\"pill pill--soft\">\n              {{ summary.subjects.length }} subject{{ summary.subjects.length === 1 ? '' : 's' }}\n            </div>\n          </header>\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Student</th>\n                  <th\n                    v-for=\"subject in summary.subjects\"\n                    :key=\"subject.classSubjectId\"\n                    scope=\"col\"\n                  >\n                    {{ subject.name }}\n                  </th>\n                  <th scope=\"col\">Overall</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"student in summary.students\" :key=\"student.studentId\">\n                  <td data-title=\"Student\">\n                    <strong>{{ student.name }}</strong>\n                    <span v-if=\"student.studentNumber\" class=\"badge badge--neutral\">\n                      {{ student.studentNumber }}\n                    </span>\n                  </td>\n                  <td\n                    v-for=\"subject in summary.subjects\"\n                    :key=\"subject.classSubjectId\"\n                    data-title=\"Subject\"\n                  >\n                    {{ formatPercentage(student.subjectGrades[String(subject.classSubjectId)]?.percentage) }}\n                    <span\n                      v-if=\"student.subjectGrades[String(subject.classSubjectId)]?.letterGrade\"\n                      class=\"badge\"\n                    >\n                      {{ student.subjectGrades[String(subject.classSubjectId)].letterGrade }}\n                    </span>\n                  </td>\n                  <td data-title=\"Overall\">\n                    {{ formatPercentage(student.overall.percentage) }}\n                    <span v-if=\"student.overall.letterGrade\" class=\"badge badge--success\">\n                      {{ student.overall.letterGrade }}\n                    </span>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </section>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  report: { type: Object, default: () => ({ summaries: [], filters: { classes: [], students: [] } }) },\n});\n\nconst report = reactive({\n  summaries: props.report?.summaries ?? [],\n  filters: {\n    classes: props.report?.filters?.classes ?? [],\n    students: props.report?.filters?.students ?? [],\n  },\n});\n\nconst filters = reactive({\n  classId: props.report?.filters?.classId ? String(props.report.filters.classId) : \"\",\n  studentId: props.report?.filters?.studentId ? String(props.report.filters.studentId) : \"\",\n});\n\nconst isLoading = ref(false);\n\nconst classCount = computed(() => report.summaries?.length ?? 0);\nconst studentCount = computed(() => {\n  const ids = new Set();\n  report.summaries?.forEach((summary) => {\n    summary.students?.forEach((student) => ids.add(student.studentId));\n  });\n  return ids.size;\n});\n\nconst overallAverage = computed(() => {\n  let total = 0;\n  let count = 0;\n  report.summaries?.forEach((summary) => {\n    summary.students?.forEach((student) => {\n      if (student.overall?.percentage !== null && student.overall?.percentage !== undefined) {\n        const value = Number(student.overall.percentage);\n        if (!Number.isNaN(value)) {\n          total += value;\n          count += 1;\n        }\n      }\n    });\n  });\n  if (count === 0) {\n    return null;\n  }\n  return Number((total / count).toFixed(2));\n});\n\nconst overallAverageLabel = computed(() => {\n  if (overallAverage.value === null) {\n    return \"—\";\n  }\n  return `${overallAverage.value.toFixed(2)}%`;\n});\n\nconst filtersApplied = computed(() => Boolean(filters.classId || filters.studentId));\n\nfunction formatPercentage(value) {\n  if (value === null || value === undefined || Number.isNaN(value)) {\n    return \"—\";\n  }\n  return `${Number(value).toFixed(2)}%`;\n}\n\nfunction resetFilters() {\n  filters.classId = \"\";\n  filters.studentId = \"\";\n  applyFilters();\n}\n\nasync function applyFilters() {\n  isLoading.value = true;\n  try {\n    const params = new URLSearchParams();\n    if (filters.classId) {\n      params.set(\"classId\", filters.classId);\n    }\n    if (filters.studentId) {\n      params.set(\"studentId\", filters.studentId);\n    }\n    const response = await fetch(`/reports/grades/data?${params.toString()}`);\n    if (!response.ok) {\n      throw new Error(\"Failed to load report\");\n    }\n    const data = await response.json();\n    report.summaries = data.report?.summaries ?? [];\n    report.filters.classes = data.report?.filters?.classes ?? report.filters.classes;\n    report.filters.students = data.report?.filters?.students ?? report.filters.students;\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  } finally {\n    isLoading.value = false;\n  }\n}\n</script>\n","import { createApp } from \"vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\nimport ClassManagementApp from \"./components/ClassManagementApp.vue\";\nimport ClassDetailApp from \"./components/ClassDetailApp.vue\";\nimport GradeEntryApp from \"./components/GradeEntryApp.vue\";\nimport GradeReportApp from \"./components/GradeReportApp.vue\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  ClassManagementApp,\n  ClassDetailApp,\n  GradeEntryApp,\n  GradeReportApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const element = document.getElementById(stateId);\n  if (!element) {\n    return {};\n  }\n  try {\n    return JSON.parse(element.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\ndocument.querySelectorAll(\"[data-vue-app]\").forEach((el) => {\n  if (COMPONENTS[el.dataset.vueApp]) {\n    mountComponent(el);\n  }\n});\n"],"names":["props","__props","classes","ref","subjects","lookups","reactive","_a","_b","showArchivedClasses","showArchivedSubjects","classSearch","subjectSearch","classForm","classErrors","classEditingId","isSavingClass","subjectForm","subjectErrors","subjectEditingId","isSavingSubject","classSearchTerm","computed","subjectSearchTerm","filteredClasses","classroom","visibleSubjects","subject","isClassFilterActive","isSubjectFilterActive","activeClassCount","totalStudents","sum","activeSubjectCount","resetClassForm","resetSubjectForm","resetClassFilters","resetSubjectFilters","beginClassEdit","beginSubjectEdit","refreshManagementState","response","data","submitClassForm","url","error","archiveClass","mutateClass","restoreClass","submitSubjectForm","archiveSubject","mutateSubject","restoreSubject","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_38","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_69","_hoisted_73","_hoisted_74","_openBlock","_createElementBlock","_createElementVNode","_cache","$setup","_toDisplayString","$event","_hoisted_16","_Fragment","_renderList","grade","_hoisted_20","_vModelSelect","teacher","_hoisted_22","_vModelText","_hoisted_28","_hoisted_33","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_46","_hoisted_47","_hoisted_49","_hoisted_48","_hoisted_30","_hoisted_58","_hoisted_63","_hoisted_68","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_75","_hoisted_77","_hoisted_76","_hoisted_65","_c","_d","assessmentTypes","_e","studentSearch","searchResults","isSearching","enrollmentErrors","searchTimeout","classroomId","subjectCount","enrollmentCount","gradeDisplay","homeroomDisplay","formatDate","value","parsed","scheduleSummary","start","end","refreshDetail","detail","saveClassroom","assignSubject","removeSubject","assignment","queueStudentSearch","runStudentSearch","params","addEnrollment","student","removeEnrollment","enrollment","_hoisted_31","_hoisted_32","_hoisted_67","_normalizeClass","_hoisted_66","classSubject","enrollments","selectedAssessmentId","assessmentForm","assessmentErrors","isCreatingAssessment","gradeErrors","isSavingGrades","gradeEntries","selectedAssessment","assessment","teacherDisplay","ensureEntry","studentId","hydrateEntries","entry","row","calculateMetrics","score","maxScore","parsedScore","parsedMax","percentage","letter","recalculate","metrics","formatPercentage","formatDueDate","date","applySelectedAssessment","createAssessment","updateContext","latest","saveGrades","payload","context","type","report","filters","_g","_f","_i","_h","isLoading","classCount","studentCount","ids","summary","overallAverage","total","count","overallAverageLabel","filtersApplied","resetFilters","applyFilters","option","_createTextVNode","COMPONENTS","ClassManagementApp","ClassDetailApp","GradeEntryApp","GradeReportApp","readState","stateId","element","mountComponent","el","componentName","Component","createApp"],"mappings":"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"}