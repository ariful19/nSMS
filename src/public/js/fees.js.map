{"version":3,"file":"fees.js","sources":["../../client/fees/components/FeeDashboardApp.vue","../../client/fees/components/FeeLedgerApp.vue","../../client/fees/components/FeeReceiptApp.vue","../../client/fees/main.js"],"sourcesContent":["<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Fees workspace</h1>\n        <p class=\"card__subtitle\">\n          Manage fee categories, review activity, and locate student ledgers.\n        </p>\n      </div>\n    </header>\n\n    <div class=\"grid grid--two-column\">\n      <article class=\"card\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Student search</h2>\n            <p class=\"card__hint\">Search by name or student number.</p>\n          </div>\n        </header>\n        <form class=\"form\" @submit.prevent=\"runSearch\">\n          <label class=\"form__group\">\n            <span>Student</span>\n            <input\n              v-model.trim=\"searchTerm\"\n              type=\"search\"\n              name=\"term\"\n              class=\"form__control\"\n              placeholder=\"Start typing to search\"\n            />\n          </label>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isSearching\">\n              {{ isSearching ? \"Searching…\" : \"Search\" }}\n            </button>\n            <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetSearch\" :disabled=\"isSearching\">\n              Clear\n            </button>\n          </div>\n        </form>\n        <div v-if=\"searchError\" class=\"alert alert--danger\">\n          {{ searchError }}\n        </div>\n        <ul v-if=\"searchResults.length\" class=\"list list--compact\">\n          <li v-for=\"result in searchResults\" :key=\"result.id\" class=\"list__option\">\n            <div>\n              <div class=\"list__heading\">\n                <strong>{{ result.label }}</strong>\n                <span class=\"badge badge--info\">{{ result.studentNumber || \"No number\" }}</span>\n              </div>\n            </div>\n            <a :href=\"`/fees/ledger/${result.id}`\" class=\"btn btn--ghost btn--small\">Open ledger</a>\n          </li>\n        </ul>\n        <p v-else-if=\"hasSearched && !isSearching\" class=\"empty-state__title\">\n          No students found. Try another search term.\n        </p>\n      </article>\n\n      <article class=\"card\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Recent ledger activity</h2>\n            <p class=\"card__hint\">Latest 10 entries across all students.</p>\n          </div>\n        </header>\n        <div v-if=\"recentEntries.length\" class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Student</th>\n                <th scope=\"col\">Type</th>\n                <th scope=\"col\">Description</th>\n                <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"entry in recentEntries\" :key=\"entry.id\">\n                <td>{{ formatDate(entry.entryDate) }}</td>\n                <td>{{ entry.student?.name ?? \"—\" }}</td>\n                <td>{{ entry.entryType }}</td>\n                <td>{{ entry.description || \"—\" }}</td>\n                <td class=\"table__cell--numeric\">{{ formatCurrency(entry.amount) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <p v-else class=\"empty-state__title\">No ledger entries recorded yet.</p>\n      </article>\n    </div>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Fee categories</h2>\n          <p class=\"card__hint\">Active and archived billing categories.</p>\n        </div>\n      </header>\n      <div v-if=\"categories.length\" class=\"table-responsive\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Code</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Default amount</th>\n              <th scope=\"col\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"category in categories\" :key=\"category.id\">\n              <td>{{ category.name }}</td>\n              <td>{{ category.code || \"—\" }}</td>\n              <td class=\"table__cell--numeric\">\n                {{ category.defaultAmount ? formatCurrency(category.defaultAmount) : \"—\" }}\n              </td>\n              <td>\n                <span :class=\"['badge', category.isActive ? 'badge--success' : 'badge--neutral']\">\n                  {{ category.isActive ? \"Active\" : \"Archived\" }}\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <p v-else class=\"empty-state__title\">No categories configured.</p>\n    </article>\n  </section>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  categories: { type: Array, default: () => [] },\n  recentEntries: { type: Array, default: () => [] },\n});\n\nconst searchTerm = ref(\"\");\nconst isSearching = ref(false);\nconst hasSearched = ref(false);\nconst searchResults = ref([]);\nconst searchError = ref(\"\");\n\nconst recentEntries = computed(() => props.recentEntries ?? []);\nconst categories = computed(() => props.categories ?? []);\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(date) {\n  const parsed = new Date(date);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nasync function runSearch() {\n  if (!searchTerm.value) {\n    searchResults.value = [];\n    hasSearched.value = true;\n    return;\n  }\n  isSearching.value = true;\n  searchError.value = \"\";\n  try {\n    const params = new URLSearchParams({ term: searchTerm.value });\n    const response = await fetch(`/fees/api/students?${params.toString()}`);\n    if (!response.ok) {\n      throw new Error(`Request failed with status ${response.status}`);\n    }\n    const data = await response.json();\n    searchResults.value = Array.isArray(data.results) ? data.results : [];\n  } catch (error) {\n    console.error(error);\n    searchError.value = \"Unable to complete search. Please try again.\";\n  } finally {\n    isSearching.value = false;\n    hasSearched.value = true;\n  }\n}\n\nfunction resetSearch() {\n  searchTerm.value = \"\";\n  searchResults.value = [];\n  hasSearched.value = false;\n  searchError.value = \"\";\n}\n</script>\n","<template>\n  <section class=\"stack\">\n    <article class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h1 class=\"card__title\">{{ studentName }}</h1>\n          <p class=\"card__subtitle\">\n            Student number: <strong>{{ ledgerState.student?.studentNumber || \"—\" }}</strong>\n          </p>\n        </div>\n        <div class=\"card__actions\">\n          <a class=\"btn btn--ghost\" href=\"/fees\">Back to fees</a>\n        </div>\n      </header>\n      <div class=\"grid grid--three-column\">\n        <div class=\"summary\">\n          <h3>Charges</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.charges || 0) }}</p>\n        </div>\n        <div class=\"summary\">\n          <h3>Payments</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.payments || 0) }}</p>\n        </div>\n        <div class=\"summary\">\n          <h3>Adjustments</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.adjustments || 0) }}</p>\n        </div>\n      </div>\n      <div class=\"summary summary--balance\">\n        <h3>Balance</h3>\n        <p>{{ formatCurrency(ledgerState.balance || 0) }}</p>\n      </div>\n      <form class=\"form filters\" @submit.prevent=\"applyFilters\">\n        <div class=\"form__row\">\n          <label class=\"form__group\">\n            <span>Start date</span>\n            <input type=\"date\" v-model=\"filterState.startDate\" class=\"form__control\" />\n          </label>\n          <label class=\"form__group\">\n            <span>End date</span>\n            <input type=\"date\" v-model=\"filterState.endDate\" class=\"form__control\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Category</span>\n            <select v-model=\"filterState.categoryId\" class=\"form__control\">\n              <option value=\"\">All categories</option>\n              <option\n                v-for=\"category in categories\"\n                :key=\"category.id\"\n                :value=\"String(category.id)\"\n              >\n                {{ category.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isLoading\">\n            {{ isLoading ? \"Updating…\" : \"Apply filters\" }}\n          </button>\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetFilters\" :disabled=\"isLoading\">\n            Reset\n          </button>\n        </div>\n      </form>\n    </article>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Record transaction</h2>\n          <p class=\"card__hint\">Capture new charges, payments, or adjustments.</p>\n        </div>\n      </header>\n\n      <div class=\"transaction-tabs\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          type=\"button\"\n          class=\"transaction-tabs__tab\"\n          :class=\"{ 'transaction-tabs__tab--active': activeTab === tab.id }\"\n          @click=\"switchTab(tab.id)\"\n        >\n          {{ tab.label }}\n        </button>\n      </div>\n\n      <form class=\"form\" @submit.prevent=\"submitTransaction\">\n        <div class=\"transaction-items\">\n          <div v-for=\"(item, index) in lineItems\" :key=\"index\" class=\"transaction-item\">\n            <div class=\"form__row\">\n              <label class=\"form__group\">\n                <span>Category</span>\n                <select v-model=\"item.categoryId\" class=\"form__control\">\n                  <option value=\"\">Uncategorized</option>\n                  <option\n                    v-for=\"category in categories\"\n                    :key=\"category.id\"\n                    :value=\"String(category.id)\"\n                  >\n                    {{ category.name }}\n                  </option>\n                </select>\n              </label>\n              <label class=\"form__group\">\n                <span>Amount</span>\n                <input\n                  v-model=\"item.amount\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  :min=\"activeTab === 'adjustment' ? null : 0\"\n                  class=\"form__control\"\n                  required\n                />\n              </label>\n              <label class=\"form__group\">\n                <span>Date</span>\n                <input v-model=\"item.entryDate\" type=\"date\" class=\"form__control\" required />\n              </label>\n            </div>\n            <label class=\"form__group\">\n              <span>Description</span>\n              <input v-model=\"item.description\" type=\"text\" class=\"form__control\" placeholder=\"Optional\" />\n            </label>\n            <div class=\"transaction-item__actions\">\n              <button type=\"button\" class=\"btn btn--link\" @click=\"removeLineItem(index)\" v-if=\"lineItems.length > 1\">\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form__actions\">\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"addLineItem\">\n            Add another line\n          </button>\n        </div>\n\n        <label v-if=\"activeTab === 'payment'\" class=\"form__group\">\n          <span>Payment method</span>\n          <select v-model=\"paymentMethod\" class=\"form__control\">\n            <option value=\"\">Select method</option>\n            <option value=\"CASH\">Cash</option>\n            <option value=\"CHECK\">Check</option>\n            <option value=\"TRANSFER\">Bank transfer</option>\n            <option value=\"MOBILE\">Mobile payment</option>\n            <option value=\"OTHER\">Other</option>\n          </select>\n        </label>\n\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isSubmitting\">\n            {{ submitLabel }}\n          </button>\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetForm\" :disabled=\"isSubmitting\">\n            Clear form\n          </button>\n        </div>\n      </form>\n\n      <div v-if=\"alerts.length\" class=\"alerts\">\n        <div v-for=\"(alert, index) in alerts\" :key=\"index\" :class=\"['alert', `alert--${alert.type}`]\">\n          {{ alert.message }}\n          <template v-if=\"alert.receiptNumber\">\n            –\n            <a :href=\"`/fees/receipt/${alert.receiptNumber}`\" class=\"alert__link\">View receipt</a>\n          </template>\n        </div>\n      </div>\n    </article>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Ledger entries</h2>\n          <p class=\"card__hint\">Ordered chronologically with running balance.</p>\n        </div>\n      </header>\n      <div v-if=\"ledgerState.entries?.length\" class=\"table-responsive\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Date</th>\n              <th scope=\"col\">Type</th>\n              <th scope=\"col\">Category</th>\n              <th scope=\"col\">Description</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Balance</th>\n              <th scope=\"col\">Receipt</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"entry in ledgerState.entries\" :key=\"entry.id\">\n              <td>{{ formatDate(entry.entryDate) }}</td>\n              <td>{{ entry.entryType }}</td>\n              <td>{{ entry.category?.name ?? \"—\" }}</td>\n              <td>{{ entry.description || \"—\" }}</td>\n              <td class=\"table__cell--numeric\">\n                <span :class=\"entry.entryType === 'PAYMENT' ? 'text--success' : ''\">\n                  {{ formatCurrency(entry.amount) }}\n                </span>\n              </td>\n              <td class=\"table__cell--numeric\">{{ formatCurrency(entry.runningBalance) }}</td>\n              <td>\n                <a v-if=\"entry.receiptNumber\" :href=\"`/fees/receipt/${entry.receiptNumber}`\" class=\"btn btn--link\">\n                  {{ entry.receiptNumber }}\n                </a>\n                <span v-else>—</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <p v-else class=\"empty-state__title\">No ledger entries for the selected filters.</p>\n    </article>\n  </section>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  ledger: { type: Object, default: () => ({ entries: [], totals: {}, student: null }) },\n  categories: { type: Array, default: () => [] },\n  filters: { type: Object, default: () => ({}) },\n  endpoints: { type: Object, default: () => ({}) },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst ledgerState = reactive(JSON.parse(JSON.stringify(props.ledger ?? {})));\nconst categories = computed(() => props.categories ?? []);\nconst filterState = reactive({\n  startDate: props.filters?.startDate || \"\",\n  endDate: props.filters?.endDate || \"\",\n  categoryId: props.filters?.categoryId || \"\",\n});\nconst activeTab = ref(\"charge\");\nconst lineItems = ref([createLineItem()]);\nconst paymentMethod = ref(\"\");\nconst alerts = ref([]);\nconst isSubmitting = ref(false);\nconst isLoading = ref(false);\n\nconst tabs = [\n  { id: \"charge\", label: \"Charge\" },\n  { id: \"payment\", label: \"Payment\" },\n  { id: \"adjustment\", label: \"Adjustment\" },\n];\n\nconst studentName = computed(() => {\n  const person = ledgerState.student?.person;\n  if (!person) {\n    return \"Student ledger\";\n  }\n  return `${person.firstName ?? \"\"} ${person.lastName ?? \"\"}`.trim();\n});\n\nconst submitLabel = computed(() => {\n  if (isSubmitting.value) {\n    return \"Saving…\";\n  }\n  if (activeTab.value === \"payment\") {\n    return \"Record payment\";\n  }\n  if (activeTab.value === \"adjustment\") {\n    return \"Record adjustment\";\n  }\n  return \"Record charge\";\n});\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(value) {\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nfunction createLineItem() {\n  const today = new Date();\n  return {\n    categoryId: \"\",\n    amount: \"\",\n    entryDate: today.toISOString().slice(0, 10),\n    description: \"\",\n  };\n}\n\nfunction addLineItem() {\n  lineItems.value.push(createLineItem());\n}\n\nfunction removeLineItem(index) {\n  if (lineItems.value.length === 1) {\n    return;\n  }\n  lineItems.value.splice(index, 1);\n}\n\nfunction resetForm() {\n  lineItems.value = [createLineItem()];\n  paymentMethod.value = \"\";\n}\n\nfunction resetFilters() {\n  filterState.startDate = \"\";\n  filterState.endDate = \"\";\n  filterState.categoryId = \"\";\n  applyFilters();\n}\n\nfunction switchTab(tabId) {\n  activeTab.value = tabId;\n  resetForm();\n}\n\nfunction addAlert(type, message, extra = {}) {\n  alerts.value.unshift({ type, message, ...extra });\n  if (alerts.value.length > 5) {\n    alerts.value.pop();\n  }\n}\n\nasync function refreshLedger() {\n  isLoading.value = true;\n  try {\n    const params = new URLSearchParams();\n    if (filterState.startDate) {\n      params.set(\"startDate\", filterState.startDate);\n    }\n    if (filterState.endDate) {\n      params.set(\"endDate\", filterState.endDate);\n    }\n    if (filterState.categoryId) {\n      params.set(\"categoryId\", filterState.categoryId);\n    }\n    const response = await fetch(`${window.location.pathname}?${params.toString()}`, {\n      headers: { Accept: \"application/json\" },\n    });\n    if (!response.ok) {\n      throw new Error(\"Unable to refresh ledger\");\n    }\n    const data = await response.json();\n    Object.assign(ledgerState, data.ledger ?? {});\n  } catch (error) {\n    console.error(error);\n    addAlert(\"danger\", \"Failed to refresh ledger. Please reload the page.\");\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nfunction applyFilters() {\n  refreshLedger();\n}\n\nfunction serializeLineItems() {\n  return lineItems.value\n    .filter((item) => item.amount)\n    .map((item) => ({\n      categoryId: item.categoryId || null,\n      amount: item.amount,\n      entryDate: item.entryDate,\n      description: item.description,\n    }));\n}\n\nasync function submitTransaction() {\n  const items = serializeLineItems();\n  if (!items.length) {\n    addAlert(\"warning\", \"Add at least one line with an amount before submitting.\");\n    return;\n  }\n\n  const endpointMap = {\n    charge: props.endpoints?.createCharge,\n    payment: props.endpoints?.createPayment,\n    adjustment: props.endpoints?.createAdjustment,\n  };\n  const endpoint = endpointMap[activeTab.value];\n  if (!endpoint) {\n    addAlert(\"danger\", \"Missing endpoint configuration.\");\n    return;\n  }\n\n  const payload = { lineItems: items };\n  if (activeTab.value === \"payment\") {\n    payload.paymentMethod = paymentMethod.value || undefined;\n  }\n\n  isSubmitting.value = true;\n  try {\n    const response = await fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(payload),\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data?.error || \"Unable to record transaction\");\n    }\n    addAlert(\"success\", data.message || \"Transaction recorded.\", {\n      receiptNumber: data.receiptNumber,\n    });\n    resetForm();\n    await refreshLedger();\n  } catch (error) {\n    console.error(error);\n    addAlert(\"danger\", error.message || \"Unable to record transaction.\");\n  } finally {\n    isSubmitting.value = false;\n  }\n}\n</script>\n\n<style scoped>\n.summary {\n  display: grid;\n  gap: 0.35rem;\n  background: rgba(79, 70, 229, 0.08);\n  border-radius: 1rem;\n  padding: 1rem 1.25rem;\n  border: 1px solid rgba(129, 140, 248, 0.25);\n}\n\n.summary--balance {\n  margin-top: 1.5rem;\n  background: rgba(16, 185, 129, 0.1);\n  border-color: rgba(16, 185, 129, 0.3);\n}\n\n.transaction-tabs {\n  display: inline-flex;\n  border: 1px solid rgba(148, 163, 184, 0.35);\n  border-radius: 999px;\n  padding: 0.3rem;\n  background: rgba(248, 250, 252, 0.95);\n  margin-bottom: 1.5rem;\n}\n\n.transaction-tabs__tab {\n  border: none;\n  background: transparent;\n  padding: 0.55rem 1.4rem;\n  border-radius: 999px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s ease, color 0.2s ease;\n}\n\n.transaction-tabs__tab--active {\n  background: rgba(79, 70, 229, 0.15);\n  color: #312e81;\n}\n\n.transaction-items {\n  display: grid;\n  gap: 1.5rem;\n}\n\n.transaction-item {\n  border: 1px solid rgba(148, 163, 184, 0.25);\n  border-radius: 1rem;\n  padding: 1.25rem;\n  background: rgba(248, 250, 252, 0.85);\n  display: grid;\n  gap: 1rem;\n}\n\n.transaction-item__actions {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.alerts {\n  display: grid;\n  gap: 0.75rem;\n  margin-top: 1.5rem;\n}\n\n.alert {\n  padding: 0.75rem 1rem;\n  border-radius: 0.85rem;\n  font-weight: 600;\n}\n\n.alert--success {\n  background: rgba(16, 185, 129, 0.16);\n  color: #065f46;\n}\n\n.alert--danger {\n  background: rgba(248, 113, 113, 0.18);\n  color: #991b1b;\n}\n\n.alert--warning {\n  background: rgba(245, 158, 11, 0.18);\n  color: #92400e;\n}\n\n.alert__link {\n  color: inherit;\n  text-decoration: underline;\n}\n\n.text--success {\n  color: #047857;\n}\n</style>\n","<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Receipt {{ receipt.receiptNumber }}</h1>\n        <p class=\"card__hint\">\n          {{ receipt.student?.name ?? \"\" }} • {{ receipt.student?.studentNumber ?? \"—\" }}\n        </p>\n      </div>\n      <div class=\"card__actions\">\n        <button type=\"button\" class=\"btn btn--ghost\" @click=\"print\">Print</button>\n        <a class=\"btn\" href=\"/fees\">Back to fees</a>\n      </div>\n    </header>\n\n    <div class=\"table-responsive\" v-if=\"receipt.lineItems?.length\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Line</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\">Category</th>\n            <th scope=\"col\">Method</th>\n            <th scope=\"col\">Date</th>\n            <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in receipt.lineItems\" :key=\"item.id ?? index\">\n            <td>{{ index + 1 }}</td>\n            <td>{{ item.description || \"—\" }}</td>\n            <td>{{ item.category?.name ?? \"—\" }}</td>\n            <td>{{ item.paymentMethod || \"—\" }}</td>\n            <td>{{ formatDate(item.entryDate) }}</td>\n            <td class=\"table__cell--numeric\">{{ formatCurrency(item.amount) }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <th scope=\"row\" colspan=\"5\" class=\"table__cell--numeric\">Total</th>\n            <td class=\"table__cell--numeric\">{{ formatCurrency(receipt.total) }}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n    <p v-else class=\"empty-state__title\">No line items available for this receipt.</p>\n  </section>\n</template>\n\n<script setup>\nconst props = defineProps({\n  receipt: { type: Object, default: () => ({ lineItems: [] }) },\n});\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(value) {\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nfunction print() {\n  window.print();\n}\n</script>\n","import { createApp } from \"vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\nimport FeeDashboardApp from \"./components/FeeDashboardApp.vue\";\nimport FeeLedgerApp from \"./components/FeeLedgerApp.vue\";\nimport FeeReceiptApp from \"./components/FeeReceiptApp.vue\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  FeeDashboardApp,\n  FeeLedgerApp,\n  FeeReceiptApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const el = document.getElementById(stateId);\n  if (!el) {\n    return {};\n  }\n  try {\n    return JSON.parse(el.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\nArray.from(document.querySelectorAll('[data-vue-app^=\"Fee\"]')).forEach((el) =>\n  mountComponent(el)\n);\n"],"names":["props","__props","searchTerm","ref","isSearching","hasSearched","searchResults","searchError","recentEntries","computed","categories","formatCurrency","value","formatDate","date","parsed","runSearch","params","response","data","error","resetSearch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_Fragment","_renderList","result","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","entry","_a","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","category","_hoisted_22","_normalizeClass","_hoisted_23","ledgerState","reactive","filterState","_b","_c","activeTab","lineItems","createLineItem","paymentMethod","alerts","isSubmitting","isLoading","tabs","studentName","person","submitLabel","addLineItem","removeLineItem","index","resetForm","resetFilters","applyFilters","switchTab","tabId","addAlert","type","message","extra","refreshLedger","serializeLineItems","item","submitTransaction","items","endpoint","payload","_d","_vModelText","_vModelSelect","tab","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","alert","_hoisted_40","_hoisted_41","_e","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_48","print","COMPONENTS","FeeDashboardApp","FeeLedgerApp","FeeReceiptApp","readState","stateId","el","mountComponent","componentName","Component","createApp"],"mappings":"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"}