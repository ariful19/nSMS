{"version":3,"file":"fees.js","sources":["../../client/fees/components/FeeDashboardApp.vue","../../client/fees/components/FeeLedgerApp.vue","../../client/fees/components/FeeReceiptApp.vue","../../client/fees/main.js"],"sourcesContent":["<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Fees workspace</h1>\n        <p class=\"card__subtitle\">\n          Manage fee categories, review activity, and locate student ledgers.\n        </p>\n      </div>\n    </header>\n\n    <div class=\"grid grid--two-column\">\n      <article class=\"card\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Student search</h2>\n            <p class=\"card__hint\">Search by name or student number.</p>\n          </div>\n        </header>\n        <form class=\"form\" @submit.prevent=\"runSearch\">\n          <label class=\"form__group\">\n            <span>Student</span>\n            <input\n              v-model.trim=\"searchTerm\"\n              type=\"search\"\n              name=\"term\"\n              class=\"form__control\"\n              placeholder=\"Start typing to search\"\n            />\n          </label>\n          <div class=\"form__actions\">\n            <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isSearching\">\n              {{ isSearching ? \"Searching…\" : \"Search\" }}\n            </button>\n            <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetSearch\" :disabled=\"isSearching\">\n              Clear\n            </button>\n          </div>\n        </form>\n        <div v-if=\"searchError\" class=\"alert alert--danger\">\n          {{ searchError }}\n        </div>\n        <ul v-if=\"searchResults.length\" class=\"list list--compact\">\n          <li v-for=\"result in searchResults\" :key=\"result.id\" class=\"list__option\">\n            <div>\n              <div class=\"list__heading\">\n                <strong>{{ result.label }}</strong>\n                <span class=\"badge badge--info\">{{ result.studentNumber || \"No number\" }}</span>\n              </div>\n            </div>\n            <a :href=\"`/fees/ledger/${result.id}`\" class=\"btn btn--ghost btn--small\">Open ledger</a>\n          </li>\n        </ul>\n        <p v-else-if=\"hasSearched && !isSearching\" class=\"empty-state__title\">\n          No students found. Try another search term.\n        </p>\n      </article>\n\n      <article class=\"card\">\n        <header class=\"card__header\">\n          <div>\n            <h2 class=\"card__title\">Recent ledger activity</h2>\n            <p class=\"card__hint\">Latest 10 entries across all students.</p>\n          </div>\n        </header>\n        <div v-if=\"recentEntries.length\" class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Date</th>\n                <th scope=\"col\">Student</th>\n                <th scope=\"col\">Type</th>\n                <th scope=\"col\">Description</th>\n                <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"entry in recentEntries\" :key=\"entry.id\">\n                <td>{{ formatDate(entry.entryDate) }}</td>\n                <td>{{ entry.student?.name ?? \"—\" }}</td>\n                <td>{{ entry.entryType }}</td>\n                <td>{{ entry.description || \"—\" }}</td>\n                <td class=\"table__cell--numeric\">{{ formatCurrency(entry.amount) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <p v-else class=\"empty-state__title\">No ledger entries recorded yet.</p>\n      </article>\n    </div>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Fee categories</h2>\n          <p class=\"card__hint\">Active and archived billing categories.</p>\n        </div>\n      </header>\n      <div v-if=\"categories.length\" class=\"table-responsive\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Name</th>\n              <th scope=\"col\">Code</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Default amount</th>\n              <th scope=\"col\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"category in categories\" :key=\"category.id\">\n              <td>{{ category.name }}</td>\n              <td>{{ category.code || \"—\" }}</td>\n              <td class=\"table__cell--numeric\">\n                {{ category.defaultAmount ? formatCurrency(category.defaultAmount) : \"—\" }}\n              </td>\n              <td>\n                <span :class=\"['badge', category.isActive ? 'badge--success' : 'badge--neutral']\">\n                  {{ category.isActive ? \"Active\" : \"Archived\" }}\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <p v-else class=\"empty-state__title\">No categories configured.</p>\n    </article>\n  </section>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  categories: { type: Array, default: () => [] },\n  recentEntries: { type: Array, default: () => [] },\n});\n\nconst searchTerm = ref(\"\");\nconst isSearching = ref(false);\nconst hasSearched = ref(false);\nconst searchResults = ref([]);\nconst searchError = ref(\"\");\n\nconst recentEntries = computed(() => props.recentEntries ?? []);\nconst categories = computed(() => props.categories ?? []);\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(date) {\n  const parsed = new Date(date);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nasync function runSearch() {\n  if (!searchTerm.value) {\n    searchResults.value = [];\n    hasSearched.value = true;\n    return;\n  }\n  isSearching.value = true;\n  searchError.value = \"\";\n  try {\n    const params = new URLSearchParams({ term: searchTerm.value });\n    const response = await fetch(`/fees/api/students?${params.toString()}`);\n    if (!response.ok) {\n      throw new Error(`Request failed with status ${response.status}`);\n    }\n    const data = await response.json();\n    searchResults.value = Array.isArray(data.results) ? data.results : [];\n  } catch (error) {\n    console.error(error);\n    searchError.value = \"Unable to complete search. Please try again.\";\n  } finally {\n    isSearching.value = false;\n    hasSearched.value = true;\n  }\n}\n\nfunction resetSearch() {\n  searchTerm.value = \"\";\n  searchResults.value = [];\n  hasSearched.value = false;\n  searchError.value = \"\";\n}\n</script>\n","<template>\n  <section class=\"stack\">\n    <article class=\"card card--interactive\">\n      <header class=\"card__header\">\n        <div>\n          <h1 class=\"card__title\">{{ studentName }}</h1>\n          <p class=\"card__subtitle\">\n            Student number: <strong>{{ ledgerState.student?.studentNumber || \"—\" }}</strong>\n          </p>\n        </div>\n        <div class=\"card__actions\">\n          <a class=\"btn btn--ghost\" href=\"/fees\">Back to fees</a>\n        </div>\n      </header>\n      <div class=\"grid grid--three-column\">\n        <div class=\"summary\">\n          <h3>Charges</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.charges || 0) }}</p>\n        </div>\n        <div class=\"summary\">\n          <h3>Payments</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.payments || 0) }}</p>\n        </div>\n        <div class=\"summary\">\n          <h3>Adjustments</h3>\n          <p>{{ formatCurrency(ledgerState.totals?.adjustments || 0) }}</p>\n        </div>\n      </div>\n      <div class=\"summary summary--balance\">\n        <h3>Balance</h3>\n        <p>{{ formatCurrency(ledgerState.balance || 0) }}</p>\n      </div>\n      <form class=\"form filters\" @submit.prevent=\"applyFilters\">\n        <div class=\"form__row\">\n          <label class=\"form__group\">\n            <span>Start date</span>\n            <input type=\"date\" v-model=\"filterState.startDate\" class=\"form__control\" />\n          </label>\n          <label class=\"form__group\">\n            <span>End date</span>\n            <input type=\"date\" v-model=\"filterState.endDate\" class=\"form__control\" />\n          </label>\n          <label class=\"form__group\">\n            <span>Category</span>\n            <select v-model=\"filterState.categoryId\" class=\"form__control\">\n              <option value=\"\">All categories</option>\n              <option\n                v-for=\"category in categories\"\n                :key=\"category.id\"\n                :value=\"String(category.id)\"\n              >\n                {{ category.name }}\n              </option>\n            </select>\n          </label>\n        </div>\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isLoading\">\n            {{ isLoading ? \"Updating…\" : \"Apply filters\" }}\n          </button>\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetFilters\" :disabled=\"isLoading\">\n            Reset\n          </button>\n        </div>\n      </form>\n    </article>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Record transaction</h2>\n          <p class=\"card__hint\">Capture new charges, payments, or adjustments.</p>\n        </div>\n      </header>\n\n      <div class=\"transaction-tabs\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          type=\"button\"\n          class=\"transaction-tabs__tab\"\n          :class=\"{ 'transaction-tabs__tab--active': activeTab === tab.id }\"\n          @click=\"switchTab(tab.id)\"\n        >\n          {{ tab.label }}\n        </button>\n      </div>\n\n      <form class=\"form\" @submit.prevent=\"submitTransaction\">\n        <div class=\"transaction-items\">\n          <div v-for=\"(item, index) in lineItems\" :key=\"index\" class=\"transaction-item\">\n            <div class=\"form__row\">\n              <label class=\"form__group\">\n                <span>Category</span>\n                <select v-model=\"item.categoryId\" class=\"form__control\">\n                  <option value=\"\">Uncategorized</option>\n                  <option\n                    v-for=\"category in categories\"\n                    :key=\"category.id\"\n                    :value=\"String(category.id)\"\n                  >\n                    {{ category.name }}\n                  </option>\n                </select>\n              </label>\n              <label class=\"form__group\">\n                <span>Amount</span>\n                <input\n                  v-model=\"item.amount\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  :min=\"activeTab === 'adjustment' ? null : 0\"\n                  class=\"form__control\"\n                  required\n                />\n              </label>\n              <label class=\"form__group\">\n                <span>Date</span>\n                <input v-model=\"item.entryDate\" type=\"date\" class=\"form__control\" required />\n              </label>\n            </div>\n            <label class=\"form__group\">\n              <span>Description</span>\n              <input v-model=\"item.description\" type=\"text\" class=\"form__control\" placeholder=\"Optional\" />\n            </label>\n            <div class=\"transaction-item__actions\">\n              <button type=\"button\" class=\"btn btn--link\" @click=\"removeLineItem(index)\" v-if=\"lineItems.length > 1\">\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form__actions\">\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"addLineItem\">\n            Add another line\n          </button>\n        </div>\n\n        <label v-if=\"activeTab === 'payment'\" class=\"form__group\">\n          <span>Payment method</span>\n          <select v-model=\"paymentMethod\" class=\"form__control\">\n            <option value=\"\">Select method</option>\n            <option value=\"CASH\">Cash</option>\n            <option value=\"CHECK\">Check</option>\n            <option value=\"TRANSFER\">Bank transfer</option>\n            <option value=\"MOBILE\">Mobile payment</option>\n            <option value=\"OTHER\">Other</option>\n          </select>\n        </label>\n\n        <div class=\"form__actions\">\n          <button type=\"submit\" class=\"btn btn--primary\" :disabled=\"isSubmitting\">\n            {{ submitLabel }}\n          </button>\n          <button type=\"button\" class=\"btn btn--ghost\" @click=\"resetForm\" :disabled=\"isSubmitting\">\n            Clear form\n          </button>\n        </div>\n      </form>\n\n      <div v-if=\"alerts.length\" class=\"alerts\">\n        <div v-for=\"(alert, index) in alerts\" :key=\"index\" :class=\"['alert', `alert--${alert.type}`]\">\n          {{ alert.message }}\n          <template v-if=\"alert.receiptNumber\">\n            –\n            <a :href=\"`/fees/receipt/${alert.receiptNumber}`\" class=\"alert__link\">View receipt</a>\n          </template>\n        </div>\n      </div>\n    </article>\n\n    <article class=\"card\">\n      <header class=\"card__header\">\n        <div>\n          <h2 class=\"card__title\">Ledger entries</h2>\n          <p class=\"card__hint\">Ordered chronologically with running balance.</p>\n        </div>\n      </header>\n      <div v-if=\"ledgerState.entries?.length\" class=\"table-responsive\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Date</th>\n              <th scope=\"col\">Type</th>\n              <th scope=\"col\">Category</th>\n              <th scope=\"col\">Description</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n              <th scope=\"col\" class=\"table__cell--numeric\">Balance</th>\n              <th scope=\"col\">Receipt</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"entry in ledgerState.entries\" :key=\"entry.id\">\n              <td>{{ formatDate(entry.entryDate) }}</td>\n              <td>{{ entry.entryType }}</td>\n              <td>{{ entry.category?.name ?? \"—\" }}</td>\n              <td>{{ entry.description || \"—\" }}</td>\n              <td class=\"table__cell--numeric\">\n                <span :class=\"entry.entryType === 'PAYMENT' ? 'text--success' : ''\">\n                  {{ formatCurrency(entry.amount) }}\n                </span>\n              </td>\n              <td class=\"table__cell--numeric\">{{ formatCurrency(entry.runningBalance) }}</td>\n              <td>\n                <a v-if=\"entry.receiptNumber\" :href=\"`/fees/receipt/${entry.receiptNumber}`\" class=\"btn btn--link\">\n                  {{ entry.receiptNumber }}\n                </a>\n                <span v-else>—</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <p v-else class=\"empty-state__title\">No ledger entries for the selected filters.</p>\n    </article>\n  </section>\n</template>\n\n<script setup>\nimport { computed, reactive, ref } from \"vue\";\n\nconst props = defineProps({\n  ledger: { type: Object, default: () => ({ entries: [], totals: {}, student: null }) },\n  categories: { type: Array, default: () => [] },\n  filters: { type: Object, default: () => ({}) },\n  endpoints: { type: Object, default: () => ({}) },\n  csrfToken: { type: String, default: \"\" },\n});\n\nconst ledgerState = reactive(JSON.parse(JSON.stringify(props.ledger ?? {})));\nconst categories = computed(() => props.categories ?? []);\nconst filterState = reactive({\n  startDate: props.filters?.startDate || \"\",\n  endDate: props.filters?.endDate || \"\",\n  categoryId: props.filters?.categoryId || \"\",\n});\nconst activeTab = ref(\"charge\");\nconst lineItems = ref([createLineItem()]);\nconst paymentMethod = ref(\"\");\nconst alerts = ref([]);\nconst isSubmitting = ref(false);\nconst isLoading = ref(false);\n\nconst tabs = [\n  { id: \"charge\", label: \"Charge\" },\n  { id: \"payment\", label: \"Payment\" },\n  { id: \"adjustment\", label: \"Adjustment\" },\n];\n\nconst studentName = computed(() => {\n  const person = ledgerState.student?.person;\n  if (!person) {\n    return \"Student ledger\";\n  }\n  return `${person.firstName ?? \"\"} ${person.lastName ?? \"\"}`.trim();\n});\n\nconst submitLabel = computed(() => {\n  if (isSubmitting.value) {\n    return \"Saving…\";\n  }\n  if (activeTab.value === \"payment\") {\n    return \"Record payment\";\n  }\n  if (activeTab.value === \"adjustment\") {\n    return \"Record adjustment\";\n  }\n  return \"Record charge\";\n});\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(value) {\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nfunction createLineItem() {\n  const today = new Date();\n  return {\n    categoryId: \"\",\n    amount: \"\",\n    entryDate: today.toISOString().slice(0, 10),\n    description: \"\",\n  };\n}\n\nfunction addLineItem() {\n  lineItems.value.push(createLineItem());\n}\n\nfunction removeLineItem(index) {\n  if (lineItems.value.length === 1) {\n    return;\n  }\n  lineItems.value.splice(index, 1);\n}\n\nfunction resetForm() {\n  lineItems.value = [createLineItem()];\n  paymentMethod.value = \"\";\n}\n\nfunction resetFilters() {\n  filterState.startDate = \"\";\n  filterState.endDate = \"\";\n  filterState.categoryId = \"\";\n  applyFilters();\n}\n\nfunction switchTab(tabId) {\n  activeTab.value = tabId;\n  resetForm();\n}\n\nfunction addAlert(type, message, extra = {}) {\n  alerts.value.unshift({ type, message, ...extra });\n  if (alerts.value.length > 5) {\n    alerts.value.pop();\n  }\n}\n\nasync function refreshLedger() {\n  isLoading.value = true;\n  try {\n    const params = new URLSearchParams();\n    if (filterState.startDate) {\n      params.set(\"startDate\", filterState.startDate);\n    }\n    if (filterState.endDate) {\n      params.set(\"endDate\", filterState.endDate);\n    }\n    if (filterState.categoryId) {\n      params.set(\"categoryId\", filterState.categoryId);\n    }\n    const response = await fetch(`${window.location.pathname}?${params.toString()}`, {\n      headers: { Accept: \"application/json\" },\n    });\n    if (!response.ok) {\n      throw new Error(\"Unable to refresh ledger\");\n    }\n    const data = await response.json();\n    Object.assign(ledgerState, data.ledger ?? {});\n  } catch (error) {\n    console.error(error);\n    addAlert(\"danger\", \"Failed to refresh ledger. Please reload the page.\");\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nfunction applyFilters() {\n  refreshLedger();\n}\n\nfunction serializeLineItems() {\n  return lineItems.value\n    .filter((item) => item.amount)\n    .map((item) => ({\n      categoryId: item.categoryId || null,\n      amount: item.amount,\n      entryDate: item.entryDate,\n      description: item.description,\n    }));\n}\n\nasync function submitTransaction() {\n  const items = serializeLineItems();\n  if (!items.length) {\n    addAlert(\"warning\", \"Add at least one line with an amount before submitting.\");\n    return;\n  }\n\n  const endpointMap = {\n    charge: props.endpoints?.createCharge,\n    payment: props.endpoints?.createPayment,\n    adjustment: props.endpoints?.createAdjustment,\n  };\n  const endpoint = endpointMap[activeTab.value];\n  if (!endpoint) {\n    addAlert(\"danger\", \"Missing endpoint configuration.\");\n    return;\n  }\n\n  const payload = { lineItems: items };\n  if (activeTab.value === \"payment\") {\n    payload.paymentMethod = paymentMethod.value || undefined;\n  }\n\n  isSubmitting.value = true;\n  try {\n    const response = await fetch(endpoint, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"X-CSRF-Token\": props.csrfToken,\n      },\n      body: JSON.stringify(payload),\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data?.error || \"Unable to record transaction\");\n    }\n    addAlert(\"success\", data.message || \"Transaction recorded.\", {\n      receiptNumber: data.receiptNumber,\n    });\n    resetForm();\n    await refreshLedger();\n  } catch (error) {\n    console.error(error);\n    addAlert(\"danger\", error.message || \"Unable to record transaction.\");\n  } finally {\n    isSubmitting.value = false;\n  }\n}\n</script>\n\n<style scoped>\n.summary {\n  display: grid;\n  gap: 0.35rem;\n  background: rgba(79, 70, 229, 0.08);\n  border-radius: 1rem;\n  padding: 1rem 1.25rem;\n  border: 1px solid rgba(129, 140, 248, 0.25);\n}\n\n.summary--balance {\n  margin-top: 1.5rem;\n  background: rgba(16, 185, 129, 0.1);\n  border-color: rgba(16, 185, 129, 0.3);\n}\n\n.transaction-tabs {\n  display: inline-flex;\n  border: 1px solid rgba(148, 163, 184, 0.35);\n  border-radius: 999px;\n  padding: 0.3rem;\n  background: rgba(248, 250, 252, 0.95);\n  margin-bottom: 1.5rem;\n}\n\n.transaction-tabs__tab {\n  border: none;\n  background: transparent;\n  padding: 0.55rem 1.4rem;\n  border-radius: 999px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s ease, color 0.2s ease;\n}\n\n.transaction-tabs__tab--active {\n  background: rgba(79, 70, 229, 0.15);\n  color: #312e81;\n}\n\n.transaction-items {\n  display: grid;\n  gap: 1.5rem;\n}\n\n.transaction-item {\n  border: 1px solid rgba(148, 163, 184, 0.25);\n  border-radius: 1rem;\n  padding: 1.25rem;\n  background: rgba(248, 250, 252, 0.85);\n  display: grid;\n  gap: 1rem;\n}\n\n.transaction-item__actions {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.alerts {\n  display: grid;\n  gap: 0.75rem;\n  margin-top: 1.5rem;\n}\n\n.alert {\n  padding: 0.75rem 1rem;\n  border-radius: 0.85rem;\n  font-weight: 600;\n}\n\n.alert--success {\n  background: rgba(16, 185, 129, 0.16);\n  color: #065f46;\n}\n\n.alert--danger {\n  background: rgba(248, 113, 113, 0.18);\n  color: #991b1b;\n}\n\n.alert--warning {\n  background: rgba(245, 158, 11, 0.18);\n  color: #92400e;\n}\n\n.alert__link {\n  color: inherit;\n  text-decoration: underline;\n}\n\n.text--success {\n  color: #047857;\n}\n</style>\n","<template>\n  <section class=\"card card--interactive\">\n    <header class=\"card__header\">\n      <div>\n        <h1 class=\"card__title\">Receipt {{ receipt.receiptNumber }}</h1>\n        <p class=\"card__hint\">\n          {{ receipt.student?.name ?? \"\" }} • {{ receipt.student?.studentNumber ?? \"—\" }}\n        </p>\n      </div>\n      <div class=\"card__actions\">\n        <button type=\"button\" class=\"btn btn--ghost\" @click=\"print\">Print</button>\n        <a class=\"btn\" href=\"/fees\">Back to fees</a>\n      </div>\n    </header>\n\n    <div class=\"table-responsive\" v-if=\"receipt.lineItems?.length\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Line</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\">Category</th>\n            <th scope=\"col\">Method</th>\n            <th scope=\"col\">Date</th>\n            <th scope=\"col\" class=\"table__cell--numeric\">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in receipt.lineItems\" :key=\"item.id ?? index\">\n            <td>{{ index + 1 }}</td>\n            <td>{{ item.description || \"—\" }}</td>\n            <td>{{ item.category?.name ?? \"—\" }}</td>\n            <td>{{ item.paymentMethod || \"—\" }}</td>\n            <td>{{ formatDate(item.entryDate) }}</td>\n            <td class=\"table__cell--numeric\">{{ formatCurrency(item.amount) }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <th scope=\"row\" colspan=\"5\" class=\"table__cell--numeric\">Total</th>\n            <td class=\"table__cell--numeric\">{{ formatCurrency(receipt.total) }}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n    <p v-else class=\"empty-state__title\">No line items available for this receipt.</p>\n  </section>\n</template>\n\n<script setup>\nconst props = defineProps({\n  receipt: { type: Object, default: () => ({ lineItems: [] }) },\n});\n\nfunction formatCurrency(value) {\n  const amount = Number.parseFloat(value ?? 0);\n  return amount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\" });\n}\n\nfunction formatDate(value) {\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return \"—\";\n  }\n  return parsed.toLocaleDateString();\n}\n\nfunction print() {\n  window.print();\n}\n</script>\n","import { createApp } from \"vue\";\nimport { registerSharedComponents } from \"../shared/registerComponents\";\nimport FeeDashboardApp from \"./components/FeeDashboardApp.vue\";\nimport FeeLedgerApp from \"./components/FeeLedgerApp.vue\";\nimport FeeReceiptApp from \"./components/FeeReceiptApp.vue\";\n\nregisterSharedComponents();\n\nconst COMPONENTS = {\n  FeeDashboardApp,\n  FeeLedgerApp,\n  FeeReceiptApp,\n};\n\nfunction readState(stateId) {\n  if (!stateId) {\n    return {};\n  }\n  const el = document.getElementById(stateId);\n  if (!el) {\n    return {};\n  }\n  try {\n    return JSON.parse(el.textContent || \"{}\");\n  } catch (error) {\n    console.warn(`Unable to parse state for ${stateId}`, error);\n    return {};\n  }\n}\n\nfunction mountComponent(el) {\n  const componentName = el.dataset.vueApp;\n  const Component = COMPONENTS[componentName];\n  if (!Component) {\n    return;\n  }\n  const props = readState(el.dataset.stateId);\n  createApp(Component, props).mount(el);\n}\n\nArray.from(document.querySelectorAll('[data-vue-app^=\"Fee\"]')).forEach((el) =>\n  mountComponent(el)\n);\n"],"names":["props","__props","searchTerm","ref","isSearching","hasSearched","searchResults","searchError","recentEntries","computed","categories","formatCurrency","value","formatDate","date","parsed","runSearch","params","response","data","error","resetSearch","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_21","_hoisted_22","_openBlock","_createElementBlock","_createElementVNode","$setup","_cache","$event","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_Fragment","_renderList","result","_hoisted_12","_hoisted_13","_hoisted_15","entry","_a","_hoisted_18","_hoisted_20","category","_normalizeClass","_hoisted_23","ledgerState","reactive","filterState","_b","_c","activeTab","lineItems","createLineItem","paymentMethod","alerts","isSubmitting","isLoading","tabs","studentName","person","submitLabel","addLineItem","removeLineItem","index","resetForm","resetFilters","applyFilters","switchTab","tabId","addAlert","type","message","extra","refreshLedger","serializeLineItems","item","submitTransaction","items","endpoint","payload","_hoisted_24","_hoisted_27","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_36","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_45","_d","_vModelText","_vModelSelect","tab","_hoisted_26","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_39","alert","_hoisted_40","_e","_hoisted_42","_hoisted_46","_hoisted_48","print","$props","COMPONENTS","FeeDashboardApp","FeeLedgerApp","FeeReceiptApp","readState","stateId","el","mountComponent","componentName","Component","createApp"],"mappings":"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"}