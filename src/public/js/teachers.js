import{_ as q,c as d,o as m,a as e,t as s,w as c,v as g,d as B,F as k,r as V,e as U,j as F,f as D,g as T,h,i as P,k as H,n as M,l as z,T as G,m as A,p as Q}from"./chunks/sq-avatar-badge-CzDjdsqk.js";const X={__name:"TeacherListApp",props:{teachers:{type:Array,default:()=>[]},search:{type:String,default:""},lookups:{type:Object,default:()=>({staffTypes:[],employmentStatuses:[]})},csrfToken:{type:String,default:""}},setup(p,{expose:t}){t();const n=p,l=T(n.search??""),i=T("all"),b=T("all"),o=T(!1),v=T(null),a=h(()=>{var r;return((r=n.lookups)==null?void 0:r.staffTypes)??[]}),y=h(()=>{var r;return((r=n.lookups)==null?void 0:r.employmentStatuses)??[]}),N=h(()=>{var r;return new Set((((r=n.lookups)==null?void 0:r.employmentStatuses)??[]).filter(E=>E.isActive!==!1).map(E=>String(E.id)))});function u(r){return(r||"").toString().toLowerCase()}function C(r){var R;const E=u(l.value);return E?[`${r.person.firstName} ${r.person.lastName}`,r.employeeNumber,r.primarySubject,(R=r.staffType)==null?void 0:R.name].some(K=>u(K).includes(E)):!0}function _(r){return i.value==="all"?!0:String(r.staffTypeId??"")===i.value}function w(r){return b.value==="all"?!0:String(r.employmentStatusId??"")===b.value}function O(r){return o.value?N.value.has(String(r.employmentStatusId??"")):!0}const f=h(()=>n.teachers.filter(r=>C(r)&&_(r)&&w(r)&&O(r))),S=h(()=>f.value.length>0);function I(){l.value="",i.value="all",b.value="all",o.value=!1}function j(r){v.value=P(r)}function x(){v.value=null}function J(r){if(!r)return"—";const E=new Date(r);return Number.isNaN(E.getTime())?"—":E.toLocaleDateString()}function W(r){window.confirm("Delete this record?")&&r.target.submit()}const L={props:n,searchTerm:l,staffTypeFilter:i,statusFilter:b,showOnlyActive:o,selectedTeacher:v,staffTypes:a,employmentStatuses:y,activeEmploymentIds:N,normalize:u,matchesSearch:C,matchesStaffType:_,matchesStatus:w,matchesActive:O,filteredTeachers:f,hasResults:S,resetFilters:I,openSummary:j,closeSummary:x,formatDate:J,confirmDelete:W,computed:h,reactive:P,ref:T};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}},Y={class:"card card--interactive"},Z={class:"card__header"},$={class:"card__subtitle"},ee={class:"filters",method:"get",action:"/teachers",novalidate:""},te={class:"filters__field"},le={class:"filters__field"},oe=["value"],ne={class:"filters__field"},se=["value"],re={class:"filters__checkbox"},ae={key:0,class:"table-responsive"},ie={class:"table"},de={"data-title":"Name"},me=["onClick"],fe={"data-title":"Role"},ue={"data-title":"Status"},pe={"data-title":"Employee #"},ce={class:"table__actions"},ye=["href"],_e=["href"],be=["action"],ve=["value"],Se={key:1,class:"table__empty"},he=["open"],Ne=["name","subtitle"],Te={class:"summary"},ge={slot:"footer",class:"modal-footer"},ke=["href"];function Ee(p,t,n,l,i,b){var o,v;return m(),d(k,null,[e("section",Y,[e("header",Z,[e("div",null,[t[5]||(t[5]=e("h1",{class:"card__title"},"Teachers & Staff",-1)),e("p",$," Showing "+s(l.filteredTeachers.length)+" "+s(l.filteredTeachers.length===1?"person":"people"),1)]),t[6]||(t[6]=e("div",{class:"card__actions"},[e("a",{class:"btn",href:"/teachers/create"},"Add teacher or staff"),e("a",{class:"btn btn--ghost",href:"/teachers"},"Clear search")],-1))]),e("form",ee,[e("label",te,[t[7]||(t[7]=e("span",null,"Search",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>l.searchTerm=a),type:"search",name:"search",placeholder:"Name, employee number, or subject"},null,512),[[g,l.searchTerm]])]),e("label",le,[t[9]||(t[9]=e("span",null,"Staff type",-1)),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.staffTypeFilter=a)},[t[8]||(t[8]=e("option",{value:"all"},"All staff",-1)),(m(!0),d(k,null,V(l.staffTypes,a=>(m(),d("option",{key:a.id,value:String(a.id)},s(a.name),9,oe))),128))],512),[[B,l.staffTypeFilter]])]),e("label",ne,[t[11]||(t[11]=e("span",null,"Status",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.statusFilter=a)},[t[10]||(t[10]=e("option",{value:"all"},"All statuses",-1)),(m(!0),d(k,null,V(l.employmentStatuses,a=>(m(),d("option",{key:a.id,value:String(a.id)},s(a.name),9,se))),128))],512),[[B,l.statusFilter]])]),e("label",re,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>l.showOnlyActive=a)},null,512),[[U,l.showOnlyActive]]),t[12]||(t[12]=e("span",null,"Currently employed",-1))]),t[13]||(t[13]=e("button",{type:"submit",class:"btn btn--ghost filters__submit"},"Apply on server",-1)),e("button",{type:"button",class:"btn btn--link filters__submit",onClick:l.resetFilters},"Reset filters")]),l.hasResults?(m(),d("div",ae,[e("table",ie,[t[15]||(t[15]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Role"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Employee #"),e("th",{scope:"col"},"Actions")])],-1)),e("tbody",null,[(m(!0),d(k,null,V(l.filteredTeachers,a=>{var y,N;return m(),d("tr",{key:a.id},[e("td",de,[e("button",{type:"button",class:"table__link",onClick:u=>l.openSummary(a)},s(a.person.firstName)+" "+s(a.person.lastName),9,me)]),e("td",fe,s(((y=a.staffType)==null?void 0:y.name)??"—"),1),e("td",ue,s(((N=a.employmentStatus)==null?void 0:N.name)??"—"),1),e("td",pe,s(a.employeeNumber||"—"),1),e("td",ce,[e("a",{href:`/teachers/${a.id}`,class:"btn btn--small btn--ghost"},"View",8,ye),e("a",{href:`/teachers/${a.id}/edit`,class:"btn btn--small"},"Edit",8,_e),e("form",{class:"form form--inline",action:`/teachers/${a.id}/delete`,method:"post",onSubmit:t[4]||(t[4]=F(u=>l.confirmDelete(u),["prevent"]))},[e("input",{type:"hidden",name:"_csrf",value:n.csrfToken},null,8,ve),t[14]||(t[14]=e("button",{type:"submit",class:"btn btn--small btn--danger"},"Delete",-1))],40,be)])])}),128))])])])):(m(),d("p",Se,"No results. Adjust the filters above."))]),e("sq-modal",{open:!!l.selectedTeacher,heading:"Profile summary",onClose:l.closeSummary},[l.selectedTeacher?(m(),d(k,{key:0},[e("sq-avatar-badge",{name:`${l.selectedTeacher.person.firstName} ${l.selectedTeacher.person.lastName}`,subtitle:((o=l.selectedTeacher.staffType)==null?void 0:o.name)||"Team member"},null,8,Ne),e("dl",Te,[e("div",null,[t[16]||(t[16]=e("dt",null,"Employment status",-1)),e("dd",null,s(((v=l.selectedTeacher.employmentStatus)==null?void 0:v.name)??"—"),1)]),e("div",null,[t[17]||(t[17]=e("dt",null,"Primary subject",-1)),e("dd",null,s(l.selectedTeacher.primarySubject||"—"),1)]),e("div",null,[t[18]||(t[18]=e("dt",null,"Hire date",-1)),e("dd",null,s(l.formatDate(l.selectedTeacher.hireDate)),1)]),e("div",null,[t[19]||(t[19]=e("dt",null,"Contract end",-1)),e("dd",null,s(l.formatDate(l.selectedTeacher.contractEndDate)),1)]),e("div",null,[t[20]||(t[20]=e("dt",null,"Email",-1)),e("dd",null,s(l.selectedTeacher.person.primaryEmail||"—"),1)])]),e("div",ge,[e("a",{href:`/teachers/${l.selectedTeacher.id}`,class:"btn btn--primary"},"Open profile",8,ke),e("button",{type:"button",class:"btn",onClick:l.closeSummary},"Close")])],64)):D("",!0)],40,he)],64)}const Ie=q(X,[["render",Ee],["__scopeId","data-v-edb2827b"],["__file","/workspace/nSMS/src/client/teachers/components/TeacherListApp.vue"]]),De={__name:"TeacherFormApp",props:{lookups:{type:Object,default:()=>({genders:[],staffTypes:[],employmentStatuses:[]})},values:{type:Object,default:()=>({})},errors:{type:Array,default:()=>[]},isEditMode:{type:Boolean,default:!1},teacherId:{type:Number,default:null},csrfToken:{type:String,default:""},formAction:{type:String,default:"/teachers/create"}},setup(p,{expose:t}){t();const n=p,l=T(null),i=P({firstName:n.values.firstName||"",middleName:n.values.middleName||"",lastName:n.values.lastName||"",preferredName:n.values.preferredName||"",dateOfBirth:n.values.dateOfBirth||"",genderId:n.values.genderId?String(n.values.genderId):"",primaryEmail:n.values.primaryEmail||"",mobilePhone:n.values.mobilePhone||"",staffTypeId:n.values.staffTypeId?String(n.values.staffTypeId):"",employmentStatusId:n.values.employmentStatusId?String(n.values.employmentStatusId):"",employeeNumber:n.values.employeeNumber||"",primarySubject:n.values.primarySubject||"",hireDate:n.values.hireDate||"",contractEndDate:n.values.contractEndDate||"",notes:n.values.notes||""}),b=T(!!(i.primaryEmail||i.mobilePhone)),o=T(!!(i.hireDate||i.contractEndDate||i.notes)),v=h(()=>n.errors||[]),a=h(()=>n.isEditMode?"Save changes":"Create record"),y=P({firstName:!1,lastName:!1,staffTypeId:!1,employmentStatusId:!1}),N=P({firstName:"",lastName:"",staffTypeId:"",employmentStatusId:""});function u(f){let S="";return f==="firstName"&&!i.firstName.trim()&&(S="First name is required."),f==="lastName"&&!i.lastName.trim()&&(S="Last name is required."),f==="staffTypeId"&&!i.staffTypeId&&(S="Staff type is required."),f==="employmentStatusId"&&!i.employmentStatusId&&(S="Employment status is required."),N[f]=S,!S}function C(f){y[f]=!0,u(f)}A(()=>i.firstName,()=>{y.firstName&&u("firstName")}),A(()=>i.lastName,()=>{y.lastName&&u("lastName")}),A(()=>i.staffTypeId,()=>{y.staffTypeId&&u("staffTypeId")}),A(()=>i.employmentStatusId,()=>{y.employmentStatusId&&u("employmentStatusId")}),A(b,f=>{f||(i.primaryEmail="",i.mobilePhone="")}),A(o,f=>{f||(i.hireDate="",i.contractEndDate="",i.notes="")});function _(){var I,j;const f=Object.keys(N).find(x=>N[x]);if(!f)return;const S=(j=(I=l.value)==null?void 0:I.querySelector)==null?void 0:j.call(I,`[name="${f}"]`);S&&S.focus()}function w(){var x;y.firstName=!0,y.lastName=!0,y.staffTypeId=!0,y.employmentStatusId=!0;const f=u("firstName"),S=u("lastName"),I=u("staffTypeId"),j=u("employmentStatusId");if(!f||!S||!I||!j){_();return}(x=l.value)==null||x.submit()}const O={props:n,formRef:l,form:i,showContactSection:b,showContractSection:o,serverErrors:v,submitLabel:a,touched:y,inlineErrors:N,validateField:u,markTouched:C,focusFirstError:_,handleSubmit:w,computed:h,reactive:P,ref:T,watch:A};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}},Ce={class:"card card--form"},we={class:"card__header"},Ae={class:"card__title"},Ve={key:0,class:"alert alert--danger",role:"alert"},je=["action"],xe=["value"],Pe={class:"form__fieldset"},Oe={class:"form__grid"},Be={key:0,class:"form__hint"},Me={class:"form__field"},Ue={key:0,class:"form__hint"},qe={class:"form__field"},Fe={class:"form__field"},Le=["value"],Re={class:"form__field"},He=["value"],ze={class:"toggle"},Ge={key:0,class:"form__grid form__grid--secondary"},Je={class:"form__field"},We={class:"form__field"},Ke={class:"form__fieldset"},Qe={class:"form__grid"},Xe=["value"],Ye={key:0,class:"form__hint"},Ze=["value"],$e={key:0,class:"form__hint"},et={class:"form__field"},tt={class:"form__field"},lt={class:"toggle"},ot={key:0,class:"form__grid form__grid--secondary"},nt={class:"form__field"},st=["value"],rt={class:"form__field"},at=["value"],it={class:"form__field form__field--full"},dt={class:"form__actions"},mt={type:"submit",class:"btn btn--primary"};function ft(p,t,n,l,i,b){return m(),d("section",Ce,[e("header",we,[e("div",null,[e("h1",Ae,s(n.isEditMode?"Edit teacher or staff member":"Add teacher or staff member"),1),t[21]||(t[21]=e("p",{class:"card__subtitle"},"Capture employment and contact information for the team member.",-1))]),t[22]||(t[22]=e("a",{class:"btn btn--ghost",href:"/teachers"},"Back to list",-1))]),l.serverErrors.length?(m(),d("div",Ve,[t[23]||(t[23]=e("p",null,[e("strong",null,"We ran into a few issues:")],-1)),e("ul",null,[(m(!0),d(k,null,V(l.serverErrors,o=>(m(),d("li",{key:o},s(o),1))),128))])])):D("",!0),e("form",{ref:"formRef",method:"post",action:n.formAction,class:"form",onSubmit:F(l.handleSubmit,["prevent"])},[e("input",{type:"hidden",name:"_csrf",value:n.csrfToken},null,8,xe),e("fieldset",Pe,[t[34]||(t[34]=e("legend",{class:"form__legend"},"Personal information",-1)),e("div",Oe,[e("label",{class:M(["form__field",{"form__field--error":l.inlineErrors.firstName}])},[t[24]||(t[24]=e("span",{class:"form__label"},"First name *",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.form.firstName=o),name:"firstName",type:"text",autocomplete:"given-name",required:"",onBlur:t[1]||(t[1]=o=>l.markTouched("firstName"))},null,544),[[g,l.form.firstName,void 0,{trim:!0}]]),l.inlineErrors.firstName?(m(),d("span",Be,s(l.inlineErrors.firstName),1)):D("",!0)],2),e("label",Me,[t[25]||(t[25]=e("span",{class:"form__label"},"Middle name",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.form.middleName=o),name:"middleName",type:"text",autocomplete:"additional-name"},null,512),[[g,l.form.middleName,void 0,{trim:!0}]])]),e("label",{class:M(["form__field",{"form__field--error":l.inlineErrors.lastName}])},[t[26]||(t[26]=e("span",{class:"form__label"},"Last name *",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.form.lastName=o),name:"lastName",type:"text",autocomplete:"family-name",required:"",onBlur:t[4]||(t[4]=o=>l.markTouched("lastName"))},null,544),[[g,l.form.lastName,void 0,{trim:!0}]]),l.inlineErrors.lastName?(m(),d("span",Ue,s(l.inlineErrors.lastName),1)):D("",!0)],2),e("label",qe,[t[27]||(t[27]=e("span",{class:"form__label"},"Preferred name",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.form.preferredName=o),name:"preferredName",type:"text",autocomplete:"nickname"},null,512),[[g,l.form.preferredName,void 0,{trim:!0}]])]),e("label",Fe,[t[28]||(t[28]=e("span",{class:"form__label"},"Date of birth",-1)),e("sq-date-picker",{name:"dateOfBirth",value:l.form.dateOfBirth,label:"",onValueChange:t[6]||(t[6]=o=>l.form.dateOfBirth=o)},null,40,Le)]),e("label",Re,[t[30]||(t[30]=e("span",{class:"form__label"},"Gender",-1)),c(e("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>l.form.genderId=o),name:"genderId"},[t[29]||(t[29]=e("option",{value:""},"Select gender",-1)),(m(!0),d(k,null,V(n.lookups.genders,o=>(m(),d("option",{key:o.id,value:String(o.id)},s(o.name),9,He))),128))],512),[[B,l.form.genderId]])])]),e("div",ze,[e("label",null,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=o=>l.showContactSection=o)},null,512),[[U,l.showContactSection]]),t[31]||(t[31]=e("span",null,"Collect contact details",-1))])]),H(G,{name:"slide"},{default:z(()=>[l.showContactSection?(m(),d("div",Ge,[e("label",Je,[t[32]||(t[32]=e("span",{class:"form__label"},"Primary email",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.form.primaryEmail=o),name:"primaryEmail",type:"email",autocomplete:"email"},null,512),[[g,l.form.primaryEmail,void 0,{trim:!0}]])]),e("label",We,[t[33]||(t[33]=e("span",{class:"form__label"},"Mobile phone",-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.form.mobilePhone=o),name:"mobilePhone",type:"tel",autocomplete:"tel"},null,512),[[g,l.form.mobilePhone,void 0,{trim:!0}]])])])):D("",!0)]),_:1})]),e("fieldset",Ke,[t[45]||(t[45]=e("legend",{class:"form__legend"},"Employment details",-1)),e("div",Qe,[e("label",{class:M(["form__field",{"form__field--error":l.inlineErrors.staffTypeId}])},[t[36]||(t[36]=e("span",{class:"form__label"},"Staff type *",-1)),c(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>l.form.staffTypeId=o),name:"staffTypeId",required:"",onBlur:t[12]||(t[12]=o=>l.markTouched("staffTypeId"))},[t[35]||(t[35]=e("option",{value:""},"Select staff type",-1)),(m(!0),d(k,null,V(n.lookups.staffTypes,o=>(m(),d("option",{key:o.id,value:String(o.id)},s(o.name),9,Xe))),128))],544),[[B,l.form.staffTypeId]]),l.inlineErrors.staffTypeId?(m(),d("span",Ye,s(l.inlineErrors.staffTypeId),1)):D("",!0)],2),e("label",{class:M(["form__field",{"form__field--error":l.inlineErrors.employmentStatusId}])},[t[38]||(t[38]=e("span",{class:"form__label"},"Employment status *",-1)),c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=o=>l.form.employmentStatusId=o),name:"employmentStatusId",required:"",onBlur:t[14]||(t[14]=o=>l.markTouched("employmentStatusId"))},[t[37]||(t[37]=e("option",{value:""},"Select employment status",-1)),(m(!0),d(k,null,V(n.lookups.employmentStatuses,o=>(m(),d("option",{key:o.id,value:String(o.id)},s(o.name),9,Ze))),128))],544),[[B,l.form.employmentStatusId]]),l.inlineErrors.employmentStatusId?(m(),d("span",$e,s(l.inlineErrors.employmentStatusId),1)):D("",!0)],2),e("label",et,[t[39]||(t[39]=e("span",{class:"form__label"},"Employee number",-1)),c(e("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>l.form.employeeNumber=o),name:"employeeNumber",type:"text",autocomplete:"off"},null,512),[[g,l.form.employeeNumber,void 0,{trim:!0}]])]),e("label",tt,[t[40]||(t[40]=e("span",{class:"form__label"},"Primary subject",-1)),c(e("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>l.form.primarySubject=o),name:"primarySubject",type:"text",autocomplete:"off"},null,512),[[g,l.form.primarySubject,void 0,{trim:!0}]])])]),e("div",lt,[e("label",null,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=o=>l.showContractSection=o)},null,512),[[U,l.showContractSection]]),t[41]||(t[41]=e("span",null,"Track contract timeline",-1))])]),H(G,{name:"slide"},{default:z(()=>[l.showContractSection?(m(),d("div",ot,[e("label",nt,[t[42]||(t[42]=e("span",{class:"form__label"},"Hire date",-1)),e("sq-date-picker",{name:"hireDate",value:l.form.hireDate,label:"",onValueChange:t[18]||(t[18]=o=>l.form.hireDate=o)},null,40,st)]),e("label",rt,[t[43]||(t[43]=e("span",{class:"form__label"},"Contract end date",-1)),e("sq-date-picker",{name:"contractEndDate",value:l.form.contractEndDate,label:"",onValueChange:t[19]||(t[19]=o=>l.form.contractEndDate=o)},null,40,at)]),e("label",it,[t[44]||(t[44]=e("span",{class:"form__label"},"Notes",-1)),c(e("textarea",{"onUpdate:modelValue":t[20]||(t[20]=o=>l.form.notes=o),name:"notes",rows:"4"},null,512),[[g,l.form.notes,void 0,{trim:!0}]])])])):D("",!0)]),_:1})]),e("div",dt,[e("button",mt,s(l.submitLabel),1),t[46]||(t[46]=e("a",{class:"btn btn--link",href:"/teachers"},"Cancel",-1))])],40,je)])}const ut=q(De,[["render",ft],["__scopeId","data-v-848c3cac"],["__file","/workspace/nSMS/src/client/teachers/components/TeacherFormApp.vue"]]),pt={__name:"TeacherDetailApp",props:{teacher:{type:Object,required:!0},csrfToken:{type:String,default:""}},setup(p,{expose:t}){t();const n=p,l=n.teacher,i=n.csrfToken,b=T(!1),o=h(()=>`${l.person.firstName} ${l.person.lastName}`.trim()),v=h(()=>{var _;return((_=l.staffType)==null?void 0:_.name)||"—"}),a=h(()=>{var _;return((_=l.employmentStatus)==null?void 0:_.name)||"—"});function y(_){if(!_)return"—";const w=new Date(_);return Number.isNaN(w.getTime())?"—":w.toLocaleDateString()}function N(){b.value=!1}function u(_){window.confirm("Delete this record?")&&_.target.submit()}const C={props:n,teacher:l,csrfToken:i,showContactModal:b,fullName:o,staffTypeName:v,statusName:a,formatDate:y,closeModal:N,confirmDelete:u,computed:h,ref:T};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}},ct={class:"card card--detail"},yt={class:"card__header"},_t=["name","subtitle"],bt={class:"card__actions"},vt=["href"],St=["action"],ht=["value"],Nt={class:"detail-grid"},Tt={class:"detail-card"},gt={class:"detail-card"},kt={key:0,class:"detail-notes"},Et={key:1,class:"detail-empty"},It={class:"detail-meta"},Dt=["open"],Ct={class:"contact-list"};function wt(p,t,n,l,i,b){var o;return m(),d(k,null,[e("section",ct,[e("header",yt,[e("sq-avatar-badge",{name:l.fullName,subtitle:l.staffTypeName},null,8,_t),e("div",bt,[e("a",{href:`/teachers/${l.teacher.id}/edit`,class:"btn"},"Edit",8,vt),e("form",{class:"form form--inline",action:`/teachers/${l.teacher.id}/delete`,method:"post",onSubmit:t[0]||(t[0]=F(v=>l.confirmDelete(v),["prevent"]))},[e("input",{type:"hidden",name:"_csrf",value:l.csrfToken},null,8,ht),t[2]||(t[2]=e("button",{type:"submit",class:"btn btn--danger"},"Delete",-1))],40,St),t[3]||(t[3]=e("a",{href:"/teachers",class:"btn btn--link"},"Back to list",-1))])]),e("section",Nt,[e("article",Tt,[t[10]||(t[10]=e("h2",null,"Employment overview",-1)),e("dl",null,[e("div",null,[t[4]||(t[4]=e("dt",null,"Staff type",-1)),e("dd",null,s(l.staffTypeName),1)]),e("div",null,[t[5]||(t[5]=e("dt",null,"Status",-1)),e("dd",null,s(l.statusName),1)]),e("div",null,[t[6]||(t[6]=e("dt",null,"Employee number",-1)),e("dd",null,s(l.teacher.employeeNumber||"—"),1)]),e("div",null,[t[7]||(t[7]=e("dt",null,"Primary subject",-1)),e("dd",null,s(l.teacher.primarySubject||"—"),1)]),e("div",null,[t[8]||(t[8]=e("dt",null,"Hire date",-1)),e("dd",null,s(l.formatDate(l.teacher.hireDate)),1)]),e("div",null,[t[9]||(t[9]=e("dt",null,"Contract end",-1)),e("dd",null,s(l.formatDate(l.teacher.contractEndDate)),1)])]),e("button",{type:"button",class:"btn btn--ghost",onClick:t[1]||(t[1]=v=>l.showContactModal=!0)}," View contact details ")]),e("article",gt,[t[14]||(t[14]=e("h2",null,"Personal notes",-1)),l.teacher.notes?(m(),d("p",kt,s(l.teacher.notes),1)):(m(),d("p",Et,"No additional notes available.")),e("ul",It,[e("li",null,[t[11]||(t[11]=e("strong",null,"Preferred name",-1)),e("span",null,s(l.teacher.person.preferredName||"—"),1)]),e("li",null,[t[12]||(t[12]=e("strong",null,"Date of birth",-1)),e("span",null,s(l.formatDate(l.teacher.person.dateOfBirth)),1)]),e("li",null,[t[13]||(t[13]=e("strong",null,"Gender",-1)),e("span",null,s(((o=l.teacher.person.gender)==null?void 0:o.name)||"—"),1)])])])])]),e("sq-modal",{open:l.showContactModal,heading:"Contact details",onClose:l.closeModal},[e("dl",Ct,[e("div",null,[t[15]||(t[15]=e("dt",null,"Primary email",-1)),e("dd",null,s(l.teacher.person.primaryEmail||"—"),1)]),e("div",null,[t[16]||(t[16]=e("dt",null,"Mobile phone",-1)),e("dd",null,s(l.teacher.person.mobilePhone||"—"),1)])]),e("div",{slot:"footer"},[e("button",{type:"button",class:"btn",onClick:l.closeModal},"Close")])],40,Dt)],64)}const At=q(pt,[["render",wt],["__scopeId","data-v-8f8d47fc"],["__file","/workspace/nSMS/src/client/teachers/components/TeacherDetailApp.vue"]]),Vt={TeacherListApp:Ie,TeacherFormApp:ut,TeacherDetailApp:At};function jt(p){if(!p)return{};const t=document.getElementById(p);if(!t)return{};try{return JSON.parse(t.textContent||"{}")}catch(n){return console.warn(`Unable to parse state for ${p}`,n),{}}}function xt(p){const t=p.dataset.vueApp,n=Vt[t];if(!n)return;const l=jt(p.dataset.stateId);Q(n,l).mount(p)}document.querySelectorAll('[data-vue-app^="Teacher"]').forEach(p=>xt(p));
//# sourceMappingURL=teachers.js.map
